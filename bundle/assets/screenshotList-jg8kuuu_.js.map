{"version":3,"file":"screenshotList-jg8kuuu_.js","sources":["../../example/screenshotList.js"],"sourcesContent":["const CONFIG_URL = 'https://raw.githubusercontent.com/google/model-viewer/master/packages/render-fidelity-tools/test/config.json';\r\nconst COMMITS_URL = 'https://api.github.com/repos/gkjohnson/three-gpu-pathtracer/commits?sha=screenshots';\r\n\r\n( async () => {\r\n\r\n\tconst containerEl = document.getElementById( 'container' );\r\n\tconst { scenarios } = await ( await fetch( CONFIG_URL ) ).json();\r\n\tconst commits = await ( await fetch( COMMITS_URL ) ).json();\r\n\tconst latestSha = commits[ 0 ].sha;\r\n\tlet imageType = window.location.hash.replace( /^#/, '' ) || 'model-viewer';\r\n\r\n\tconst selectionBox = document.querySelector( 'select' );\r\n\tselectionBox.value = imageType;\r\n\tselectionBox.addEventListener( 'change', () => {\r\n\r\n\t\twindow.location.hash = selectionBox.value;\r\n\t\timageType = selectionBox.value;\r\n\t\trebuildList();\r\n\r\n\t} );\r\n\tdocument.body.style.visibility = 'visible';\r\n\r\n\tconst largeImageBox = document.querySelector( 'input[type=\"checkbox\"]' );\r\n\tlargeImageBox.addEventListener( 'change', () => {\r\n\r\n\t\tif ( largeImageBox.checked ) {\r\n\r\n\t\t\tcontainerEl.classList.add( 'large-images' );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tcontainerEl.classList.remove( 'large-images' );\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\trebuildList();\r\n\r\n\tfunction rebuildList() {\r\n\r\n\t\tcontainerEl.innerHTML = '';\r\n\t\tscenarios.forEach( s => {\r\n\r\n\t\t\tconst name = s.name;\r\n\t\t\tconst url1 = `https://raw.githubusercontent.com/gkjohnson/three-gpu-pathtracer/${ latestSha }/screenshots/golden/${ name }.png`;\r\n\t\t\tlet url2;\r\n\t\t\tif ( imageType === 'prior-commit' ) {\r\n\r\n\t\t\t\turl2 = `https://raw.githubusercontent.com/gkjohnson/three-gpu-pathtracer/${ commits[ 1 ].sha }/screenshots/golden/${ name }.png`;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\turl2 = `https://raw.githubusercontent.com/google/model-viewer/master/packages/render-fidelity-tools/test/goldens/${ name }/${ imageType }-golden.png`;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tcontainerEl.innerHTML += `\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h1>${ s.name }</h1>\r\n\t\t\t\t\t<div class=\"img-wrapper\">\r\n\t\t\t\t\t\t<a href=\"${ url1 }\" target=\"_blank\"><img src=\"${ url1 }\" /></a>\r\n\t\t\t\t\t\t<a href=\"${ url2 }\" target=\"_blank\"><img src=\"${ url2 }\" /></a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t`;\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\r\n} )();\r\n"],"names":["CONFIG_URL","COMMITS_URL","containerEl","scenarios","commits","latestSha","imageType","selectionBox","rebuildList","largeImageBox","s","name","url1","url2"],"mappings":"6CAAA,MAAMA,EAAa,+GACbC,EAAc,uFAElB,SAAY,CAEb,MAAMC,EAAc,SAAS,eAAgB,WAAW,EAClD,CAAE,UAAAC,CAAS,EAAK,MAAQ,MAAM,MAAOH,CAAU,GAAK,OACpDI,EAAU,MAAQ,MAAM,MAAOH,CAAW,GAAK,OAC/CI,EAAYD,EAAS,CAAC,EAAG,IAC/B,IAAIE,EAAY,OAAO,SAAS,KAAK,QAAS,KAAM,EAAE,GAAM,eAE5D,MAAMC,EAAe,SAAS,cAAe,QAAQ,EACrDA,EAAa,MAAQD,EACrBC,EAAa,iBAAkB,SAAU,IAAM,CAE9C,OAAO,SAAS,KAAOA,EAAa,MACpCD,EAAYC,EAAa,MACzBC,GAED,GACA,SAAS,KAAK,MAAM,WAAa,UAEjC,MAAMC,EAAgB,SAAS,cAAe,wBAAwB,EACtEA,EAAc,iBAAkB,SAAU,IAAM,CAE1CA,EAAc,QAElBP,EAAY,UAAU,IAAK,gBAI3BA,EAAY,UAAU,OAAQ,eAIhC,GAEAM,IAEA,SAASA,GAAc,CAEtBN,EAAY,UAAY,GACxBC,EAAU,QAASO,GAAK,CAEvB,MAAMC,EAAOD,EAAE,KACTE,EAAO,oEAAqEP,CAAS,uBAAyBM,CAAI,OACxH,IAAIE,EACCP,IAAc,eAElBO,EAAO,oEAAqET,EAAS,CAAC,EAAG,0BAA4BO,CAAI,OAIzHE,EAAO,4GAA6GF,CAAI,IAAML,CAAS,cAIxIJ,EAAY,WAAa;AAAA;AAAA,WAEhBQ,EAAE,IAAI;AAAA;AAAA,iBAEAE,CAAI,+BAAiCA,CAAI;AAAA,iBACzCC,CAAI,+BAAiCA,CAAI;AAAA;AAAA;AAAA,IAKzD,EAED,CAED,GAAC"}