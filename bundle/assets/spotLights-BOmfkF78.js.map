{"version":3,"file":"spotLights-BOmfkF78.js","sources":["../../node_modules/three/examples/jsm/loaders/IESLoader.js","../../example/spotLights.js"],"sourcesContent":["import {\n\tDataTexture,\n\tFileLoader,\n\tFloatType,\n\tRedFormat,\n\tMathUtils,\n\tLoader,\n\tUnsignedByteType,\n\tLinearFilter,\n\tHalfFloatType,\n\tDataUtils\n} from 'three';\n\n/**\n * A loader for the IES format.\n *\n * The loaded texture should be assigned to {@link IESSpotLight#map}.\n *\n * ```js\n * const loader = new IESLoader();\n * const texture = await loader.loadAsync( 'ies/007cfb11e343e2f42e3b476be4ab684e.ies' );\n *\n * const spotLight = new THREE.IESSpotLight( 0xff0000, 500 );\n * spotLight.iesMap = texture;\n * ```\n *\n * @augments Loader\n * @three_import import { IESLoader } from 'three/addons/loaders/IESLoader.js';\n */\nclass IESLoader extends Loader {\n\n\t/**\n\t * Constructs a new IES loader.\n\t *\n\t * @param {LoadingManager} [manager] - The loading manager.\n\t */\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\t/**\n\t\t * The texture type.\n\t\t *\n\t\t * @type {(HalfFloatType|FloatType)}\n\t\t * @default HalfFloatType\n\t\t */\n\t\tthis.type = HalfFloatType;\n\n\t}\n\n\t_getIESValues( iesLamp, type ) {\n\n\t\tconst width = 360;\n\t\tconst height = 180;\n\t\tconst size = width * height;\n\n\t\tconst data = new Array( size );\n\n\t\tfunction interpolateCandelaValues( phi, theta ) {\n\n\t\t\tlet phiIndex = 0, thetaIndex = 0;\n\t\t\tlet startTheta = 0, endTheta = 0, startPhi = 0, endPhi = 0;\n\n\t\t\tfor ( let i = 0; i < iesLamp.numHorAngles - 1; ++ i ) { // numHorAngles = horAngles.length-1 because of extra padding, so this wont cause an out of bounds error\n\n\t\t\t\tif ( theta < iesLamp.horAngles[ i + 1 ] || i == iesLamp.numHorAngles - 2 ) {\n\n\t\t\t\t\tthetaIndex = i;\n\t\t\t\t\tstartTheta = iesLamp.horAngles[ i ];\n\t\t\t\t\tendTheta = iesLamp.horAngles[ i + 1 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tfor ( let i = 0; i < iesLamp.numVerAngles - 1; ++ i ) {\n\n\t\t\t\tif ( phi < iesLamp.verAngles[ i + 1 ] || i == iesLamp.numVerAngles - 2 ) {\n\n\t\t\t\t\tphiIndex = i;\n\t\t\t\t\tstartPhi = iesLamp.verAngles[ i ];\n\t\t\t\t\tendPhi = iesLamp.verAngles[ i + 1 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst deltaTheta = endTheta - startTheta;\n\t\t\tconst deltaPhi = endPhi - startPhi;\n\n\t\t\tif ( deltaPhi === 0 ) // Outside range\n\t\t\t\treturn 0;\n\n\t\t\tconst t1 = deltaTheta === 0 ? 0 : ( theta - startTheta ) / deltaTheta;\n\t\t\tconst t2 = ( phi - startPhi ) / deltaPhi;\n\n\t\t\tconst nextThetaIndex = deltaTheta === 0 ? thetaIndex : thetaIndex + 1;\n\n\t\t\tconst v1 = MathUtils.lerp( iesLamp.candelaValues[ thetaIndex ][ phiIndex ], iesLamp.candelaValues[ nextThetaIndex ][ phiIndex ], t1 );\n\t\t\tconst v2 = MathUtils.lerp( iesLamp.candelaValues[ thetaIndex ][ phiIndex + 1 ], iesLamp.candelaValues[ nextThetaIndex ][ phiIndex + 1 ], t1 );\n\t\t\tconst v = MathUtils.lerp( v1, v2, t2 );\n\n\t\t\treturn v;\n\n\t\t}\n\n\t\tconst startTheta = iesLamp.horAngles[ 0 ], endTheta = iesLamp.horAngles[ iesLamp.numHorAngles - 1 ];\n\n\t\tfor ( let i = 0; i < size; ++ i ) {\n\n\t\t\tlet theta = i % width;\n\t\t\tconst phi = Math.floor( i / width );\n\n\t\t\tif ( endTheta - startTheta !== 0 && ( theta < startTheta || theta >= endTheta ) ) { // Handle symmetry for hor angles\n\n\t\t\t\ttheta %= endTheta * 2;\n\n\t\t\t\tif ( theta > endTheta )\n\t\t\t\t\ttheta = endTheta * 2 - theta;\n\n\t\t\t}\n\n\t\t\tdata[ phi + theta * height ] = interpolateCandelaValues( phi, theta );\n\n\t\t}\n\n\t\tlet result = null;\n\n\t\tif ( type === UnsignedByteType ) result = Uint8Array.from( data.map( v => Math.min( v * 0xFF, 0xFF ) ) );\n\t\telse if ( type === HalfFloatType ) result = Uint16Array.from( data.map( v => DataUtils.toHalfFloat( v ) ) );\n\t\telse if ( type === FloatType ) result = Float32Array.from( data );\n\t\telse console.error( 'IESLoader: Unsupported type:', type );\n\n\t\treturn result;\n\n\t}\n\n\t/**\n\t * Starts loading from the given URL and passes the loaded IES texture\n\t * to the `onLoad()` callback.\n\t *\n\t * @param {string} url - The path/URL of the file to be loaded. This can also be a data URI.\n\t * @param {function(DataTexture)} onLoad - Executed when the loading process has been finished.\n\t * @param {onProgressCallback} onProgress - Executed while the loading is in progress.\n\t * @param {onErrorCallback} onError - Executed when errors occur.\n\t */\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'text' );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\n\t\tloader.load( url, text => {\n\n\t\t\tonLoad( this.parse( text ) );\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\t/**\n\t * Parses the given IES data.\n\t *\n\t * @param {string} text - The raw IES data.\n\t * @return {DataTexture} THE IES data as a texture.\n\t */\n\tparse( text ) {\n\n\t\tconst type = this.type;\n\n\t\tconst iesLamp = new IESLamp( text );\n\t\tconst data = this._getIESValues( iesLamp, type );\n\n\t\tconst texture = new DataTexture( data, 180, 1, RedFormat, type );\n\t\ttexture.minFilter = LinearFilter;\n\t\ttexture.magFilter = LinearFilter;\n\t\ttexture.needsUpdate = true;\n\n\t\treturn texture;\n\n\t}\n\n}\n\n\nfunction IESLamp( text ) {\n\n\tconst _self = this;\n\n\tconst textArray = text.split( '\\n' );\n\n\tlet lineNumber = 0;\n\tlet line;\n\n\t_self.verAngles = [ ];\n\t_self.horAngles = [ ];\n\n\t_self.candelaValues = [ ];\n\n\t_self.tiltData = { };\n\t_self.tiltData.angles = [ ];\n\t_self.tiltData.mulFactors = [ ];\n\n\tfunction textToArray( text ) {\n\n\t\ttext = text.replace( /^\\s+|\\s+$/g, '' ); // remove leading or trailing spaces\n\t\ttext = text.replace( /,/g, ' ' ); // replace commas with spaces\n\t\ttext = text.replace( /\\s\\s+/g, ' ' ); // replace white space/tabs etc by single whitespace\n\n\t\tconst array = text.split( ' ' );\n\n\t\treturn array;\n\n\t}\n\n\tfunction readArray( count, array ) {\n\n\t\twhile ( true ) {\n\n\t\t\tconst line = textArray[ lineNumber ++ ];\n\t\t\tconst lineData = textToArray( line );\n\n\t\t\tfor ( let i = 0; i < lineData.length; ++ i ) {\n\n\t\t\t\tarray.push( Number( lineData[ i ] ) );\n\n\t\t\t}\n\n\t\t\tif ( array.length === count )\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction readTilt() {\n\n\t\tlet line = textArray[ lineNumber ++ ];\n\t\tlet lineData = textToArray( line );\n\n\t\t_self.tiltData.lampToLumGeometry = Number( lineData[ 0 ] );\n\n\t\tline = textArray[ lineNumber ++ ];\n\t\tlineData = textToArray( line );\n\n\t\t_self.tiltData.numAngles = Number( lineData[ 0 ] );\n\n\t\treadArray( _self.tiltData.numAngles, _self.tiltData.angles );\n\t\treadArray( _self.tiltData.numAngles, _self.tiltData.mulFactors );\n\n\t}\n\n\tfunction readLampValues() {\n\n\t\tconst values = [ ];\n\t\treadArray( 10, values );\n\n\t\t_self.count = Number( values[ 0 ] );\n\t\t_self.lumens = Number( values[ 1 ] );\n\t\t_self.multiplier = Number( values[ 2 ] );\n\t\t_self.numVerAngles = Number( values[ 3 ] );\n\t\t_self.numHorAngles = Number( values[ 4 ] );\n\t\t_self.gonioType = Number( values[ 5 ] );\n\t\t_self.units = Number( values[ 6 ] );\n\t\t_self.width = Number( values[ 7 ] );\n\t\t_self.length = Number( values[ 8 ] );\n\t\t_self.height = Number( values[ 9 ] );\n\n\t}\n\n\tfunction readLampFactors() {\n\n\t\tconst values = [ ];\n\t\treadArray( 3, values );\n\n\t\t_self.ballFactor = Number( values[ 0 ] );\n\t\t_self.blpFactor = Number( values[ 1 ] );\n\t\t_self.inputWatts = Number( values[ 2 ] );\n\n\t}\n\n\twhile ( true ) {\n\n\t\tline = textArray[ lineNumber ++ ];\n\n\t\tif ( line.includes( 'TILT' ) ) {\n\n\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tif ( ! line.includes( 'NONE' ) ) {\n\n\t\tif ( line.includes( 'INCLUDE' ) ) {\n\n\t\t\treadTilt();\n\n\t\t} else {\n\n\t\t\t// TODO:: Read tilt data from a file\n\n\t\t}\n\n\t}\n\n\treadLampValues();\n\n\treadLampFactors();\n\n\t// Initialize candela value array\n\tfor ( let i = 0; i < _self.numHorAngles; ++ i ) {\n\n\t\t_self.candelaValues.push( [ ] );\n\n\t}\n\n\t// Parse Angles\n\treadArray( _self.numVerAngles, _self.verAngles );\n\treadArray( _self.numHorAngles, _self.horAngles );\n\n\t// Parse Candela values\n\tfor ( let i = 0; i < _self.numHorAngles; ++ i ) {\n\n\t\treadArray( _self.numVerAngles, _self.candelaValues[ i ] );\n\n\t}\n\n\t// Calculate actual candela values, and normalize.\n\tfor ( let i = 0; i < _self.numHorAngles; ++ i ) {\n\n\t\tfor ( let j = 0; j < _self.numVerAngles; ++ j ) {\n\n\t\t\t_self.candelaValues[ i ][ j ] *= _self.candelaValues[ i ][ j ] * _self.multiplier\n\t\t\t\t* _self.ballFactor * _self.blpFactor;\n\n\t\t}\n\n\t}\n\n\tlet maxVal = - 1;\n\tfor ( let i = 0; i < _self.numHorAngles; ++ i ) {\n\n\t\tfor ( let j = 0; j < _self.numVerAngles; ++ j ) {\n\n\t\t\tconst value = _self.candelaValues[ i ][ j ];\n\t\t\tmaxVal = maxVal < value ? value : maxVal;\n\n\t\t}\n\n\t}\n\n\tconst bNormalize = true;\n\tif ( bNormalize && maxVal > 0 ) {\n\n\t\tfor ( let i = 0; i < _self.numHorAngles; ++ i ) {\n\n\t\t\tfor ( let j = 0; j < _self.numVerAngles; ++ j ) {\n\n\t\t\t\t_self.candelaValues[ i ][ j ] /= maxVal;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\n\nexport { IESLoader };\n","import {\r\n\tWebGLRenderer,\r\n\tACESFilmicToneMapping,\r\n\tPCFSoftShadowMap,\r\n\tScene,\r\n\tEquirectangularReflectionMapping,\r\n\tBox3,\r\n\tMesh,\r\n\tCylinderGeometry,\r\n\tMeshStandardMaterial,\r\n\tBoxGeometry,\r\n\tPerspectiveCamera,\r\n} from 'three';\r\nimport { IESLoader } from 'three/examples/jsm/loaders/IESLoader.js';\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\r\nimport { DRACOLoader } from 'three/examples/jsm/loaders/DRACOLoader.js';\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\r\nimport { PhysicalSpotLight, WebGLPathTracer } from '../src/index.js';\r\nimport { HDRLoader } from 'three/examples/jsm/loaders/HDRLoader.js';\r\nimport { GUI } from 'three/examples/jsm/libs/lil-gui.module.min.js';\r\nimport { getScaledSettings } from './utils/getScaledSettings.js';\r\nimport { LoaderElement } from './utils/LoaderElement.js';\r\nimport { MODEL_LIST, DEFAULT_MODEL_KEY } from './utils/modelList.js';\r\nimport { ParallelMeshBVHWorker } from 'three-mesh-bvh/worker';\r\n\r\nconst ENV_URL = 'https://raw.githubusercontent.com/mrdoob/three.js/r150/examples/textures/equirectangular/royal_esplanade_1k.hdr';\r\nconst IES_PROFILE_URLS = [\r\n\t'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/main/ies/0646706b3d2d9658994fc4ad80681dec.ies',\r\n\t'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/main/ies/06b4cfdc8805709e767b5e2e904be8ad.ies',\r\n\t'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/main/ies/007cfb11e343e2f42e3b476be4ab684e.ies',\r\n\t'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/main/ies/01dac7d6c646814dcda6780e7b7b4566.ies',\r\n\t'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/main/ies/108b32f07d6d38a7a6528a6d307440df.ies',\r\n\t'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/main/ies/1aec5958092c236d005093ca27ebe378.ies',\r\n\t'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/main/ies/02a7562c650498ebb301153dbbf59207.ies',\r\n\t'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/main/ies/1a936937a49c63374e6d4fbed9252b29.ies',\r\n\t'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/main/ies/00c6ce79e1d2cdf3a1fb491aaaa47ae0.ies',\r\n];\r\n\r\nlet pathTracer, renderer, controls;\r\nlet scene, camera, spotLight, iesTextures, currentModel = null, floorMesh, wallMesh;\r\nlet loader;\r\n\r\n// gui parameters\r\nconst params = {\r\n\tmodel: DEFAULT_MODEL_KEY,\r\n\tmultipleImportanceSampling: true,\r\n\tbounces: 3,\r\n\trenderScale: 1 / window.devicePixelRatio,\r\n\ttiles: 2,\r\n\tiesProfile: - 1,\r\n\t...getScaledSettings(),\r\n};\r\n\r\ninit();\r\n\r\nasync function init() {\r\n\r\n\tloader = new LoaderElement();\r\n\tloader.attach( document.body );\r\n\r\n\t// renderer\r\n\trenderer = new WebGLRenderer();\r\n\trenderer.shadowMap.enabled = true;\r\n\trenderer.physicallyCorrectLights = true;\r\n\trenderer.shadowMap.type = PCFSoftShadowMap;\r\n\trenderer.toneMapping = ACESFilmicToneMapping;\r\n\tdocument.body.appendChild( renderer.domElement );\r\n\r\n\t// path tracer\r\n\tpathTracer = new WebGLPathTracer( renderer );\r\n\tpathTracer.setBVHWorker( new ParallelMeshBVHWorker() );\r\n\tpathTracer.tiles.set( params.tiles, params.tiles );\r\n\tpathTracer.textureSize.set( 2048, 2048 );\r\n\tpathTracer.filterGlossyFactor = 0.5;\r\n\r\n\t// camera\r\n\tconst aspect = window.innerWidth / window.innerHeight;\r\n\tcamera = new PerspectiveCamera( 75, aspect, 0.025, 500 );\r\n\tcamera.position.set( - 2, 4, 8 ).multiplyScalar( 0.8 );\r\n\r\n\t// controls\r\n\tcontrols = new OrbitControls( camera, renderer.domElement );\r\n\tcontrols.target.y = 1.5;\r\n\tcontrols.update();\r\n\tcontrols.addEventListener( 'change', () => pathTracer.updateCamera() );\r\n\r\n\t// scene\r\n\tscene = new Scene();\r\n\tscene.backgroundBlurriness = 0.1;\r\n\tscene.environmentIntensity = 0.1;\r\n\tscene.backgroundIntensity = 0.1;\r\n\r\n\t// load assets\r\n\tconst iesLoader = new IESLoader();\r\n\tconst [ envTexture, textures ] = await Promise.all( [\r\n\t\tnew HDRLoader().loadAsync( ENV_URL ),\r\n\t\tPromise.all( IES_PROFILE_URLS.map( url => iesLoader.loadAsync( url ) ) )\r\n\t] );\r\n\r\n\tiesTextures = textures;\r\n\tenvTexture.mapping = EquirectangularReflectionMapping;\r\n\tscene.environment = envTexture;\r\n\tscene.background = envTexture;\r\n\r\n\t// floor and wall (positions updated when model changes)\r\n\tfloorMesh = new Mesh(\r\n\t\tnew CylinderGeometry( 8, 8, 0.5, 200 ),\r\n\t\tnew MeshStandardMaterial( { color: 0x555555, roughness: 0.05, metalness: 0.4 } ),\r\n\t);\r\n\tfloorMesh.geometry = floorMesh.geometry.toNonIndexed();\r\n\tfloorMesh.geometry.clearGroups();\r\n\tfloorMesh.receiveShadow = true;\r\n\tfloorMesh.material.color.convertSRGBToLinear();\r\n\tscene.add( floorMesh );\r\n\r\n\twallMesh = new Mesh(\r\n\t\tnew BoxGeometry( 14, 6, 0.5 ),\r\n\t\tnew MeshStandardMaterial( { color: 0xa06464, roughness: 0.4, metalness: 0.1 } ),\r\n\t);\r\n\twallMesh.castShadow = true;\r\n\twallMesh.receiveShadow = true;\r\n\twallMesh.geometry = wallMesh.geometry.toNonIndexed();\r\n\twallMesh.geometry.clearGroups();\r\n\twallMesh.position.x = 0.0;\r\n\twallMesh.material.color.convertSRGBToLinear();\r\n\tscene.add( wallMesh );\r\n\r\n\tasync function loadAndSetModel( modelKey ) {\r\n\r\n\t\tconst entry = MODEL_LIST[ modelKey ];\r\n\t\tif ( ! entry || ! entry.url ) return;\r\n\t\tif ( currentModel ) scene.remove( currentModel );\r\n\t\tloader.setPercentage( 0 );\r\n\t\tconst dracoLoader = new DRACOLoader();\r\n\t\tdracoLoader.setDecoderPath( 'https://www.gstatic.com/draco/versioned/decoders/1.5.7/' );\r\n\t\tconst gltf = await new GLTFLoader().setDRACOLoader( dracoLoader ).loadAsync( entry.url );\r\n\t\tdracoLoader.dispose();\r\n\t\tconst model = gltf.scene;\r\n\t\tif ( entry.postProcess ) entry.postProcess( model );\r\n\t\tmodel.scale.setScalar( 1 );\r\n\t\tmodel.updateMatrixWorld();\r\n\t\tmodel.traverse( c => { c.castShadow = true; c.receiveShadow = true; } );\r\n\t\tscene.add( model );\r\n\t\tcurrentModel = model;\r\n\t\tconst box = new Box3();\r\n\t\tbox.setFromObject( model );\r\n\t\tfloorMesh.position.y = box.min.y - 0.25;\r\n\t\twallMesh.position.y = box.min.y + 3;\r\n\t\twallMesh.position.z = box.min.z - 0.5;\r\n\t\tscene.updateMatrixWorld( true );\r\n\t\tawait pathTracer.setSceneAsync( scene, camera, { onProgress: v => loader.setPercentage( v ) } );\r\n\t\tloader.setCredits( entry.credit || '' );\r\n\t}\r\n\r\n\tawait loadAndSetModel( params.model );\r\n\r\n\t// spot light\r\n\tspotLight = new PhysicalSpotLight( 0xffffff );\r\n\tspotLight.position.set( 0, 7.0, 4 );\r\n\tspotLight.angle = Math.PI / 4.5;\r\n\tspotLight.decay = 0;\r\n\tspotLight.penumbra = 1.0;\r\n\tspotLight.distance = 0.0;\r\n\tspotLight.intensity = 50.0;\r\n\tspotLight.radius = 0.5;\r\n\r\n\t// spot light shadow\r\n\tspotLight.shadow.mapSize.width = 512;\r\n\tspotLight.shadow.mapSize.height = 512;\r\n\tspotLight.shadow.camera.near = 0.1;\r\n\tspotLight.shadow.camera.far = 10.0;\r\n\tspotLight.shadow.focus = 1.0;\r\n\tspotLight.castShadow = true;\r\n\tscene.add( spotLight );\r\n\r\n\t// spot light target\r\n\tconst targetObject = spotLight.target;\r\n\ttargetObject.position.x = 0;\r\n\ttargetObject.position.y = floorMesh.position.y + 2;\r\n\ttargetObject.position.z = 0.05;\r\n\tscene.add( targetObject );\r\n\r\n\tawait pathTracer.setSceneAsync( scene, camera, {\r\n\t\tonProgress: v => loader.setPercentage( v ),\r\n\t} );\r\n\r\n\tonParamsChange();\r\n\tonResize();\r\n\twindow.addEventListener( 'resize', onResize );\r\n\r\n\t// gui\r\n\tconst gui = new GUI();\r\n\tgui.add( params, 'model', Object.keys( MODEL_LIST ).sort() ).onChange( async ( v ) => { await loadAndSetModel( v ); } );\r\n\tconst ptFolder = gui.addFolder( 'Path Tracing' );\r\n\tptFolder.add( params, 'multipleImportanceSampling' ).onChange( onParamsChange );\r\n\tptFolder.add( params, 'tiles', 1, 4, 1 ).onChange( value => {\r\n\r\n\t\tpathTracer.tiles.set( value, value );\r\n\r\n\t} );\r\n\tptFolder.add( params, 'bounces', 1, 30, 1 ).onChange( onParamsChange );\r\n\tptFolder.add( params, 'renderScale', 0.1, 1 ).onChange( onResize );\r\n\r\n\tconst lightFolder = gui.addFolder( 'Spot Light' );\r\n\tlightFolder.addColor( spotLight, 'color' ).onChange( onParamsChange );\r\n\tlightFolder.add( spotLight, 'intensity', 0.0, 200.0, 0.01 ).onChange( onParamsChange );\r\n\tlightFolder.add( spotLight, 'radius', 0.0, 10.0 ).onChange( onParamsChange );\r\n\tlightFolder.add( spotLight, 'decay', 0.0, 2.0 ).onChange( onParamsChange );\r\n\tlightFolder.add( spotLight, 'distance', 0.0, 20.0 ).onChange( onParamsChange );\r\n\tlightFolder.add( spotLight, 'angle', 0.0, Math.PI / 2.0 ).onChange( onParamsChange );\r\n\tlightFolder.add( spotLight, 'penumbra', 0.0, 1.0 ).onChange( onParamsChange );\r\n\tlightFolder.add( params, 'iesProfile', - 1, IES_PROFILE_URLS.length - 1, 1 ).onChange( v => {\r\n\r\n\t\tspotLight.iesMap = v === - 1 ? null : iesTextures[ v ];\r\n\t\tonParamsChange();\r\n\r\n\t} );\r\n\r\n\tanimate();\r\n\r\n}\r\n\r\nfunction onResize() {\r\n\r\n\t// TODO: we need to handle the interpolation of the float texture more intelligently to avoid\r\n\t// extra bright hot spots - then this can be moved to \"onParamsChange\"\r\n\trenderer.setSize( window.innerWidth, window.innerHeight );\r\n\trenderer.setPixelRatio( window.devicePixelRatio * params.renderScale );\r\n\tcamera.aspect = window.innerWidth / window.innerHeight;\r\n\tcamera.updateProjectionMatrix();\r\n\tpathTracer.updateCamera();\r\n\r\n}\r\n\r\nfunction onParamsChange() {\r\n\r\n\t// pathTracer.renderScale = params.renderScale;\r\n\tpathTracer.multipleImportanceSampling = params.multipleImportanceSampling;\r\n\tpathTracer.bounces = params.bounces;\r\n\tpathTracer.updateLights();\r\n\r\n}\r\n\r\nfunction animate() {\r\n\r\n\trequestAnimationFrame( animate );\r\n\r\n\tcamera.updateMatrixWorld();\r\n\tpathTracer.renderSample();\r\n\tloader.setSamples( pathTracer.samples, pathTracer.isCompiling );\r\n\r\n}\r\n"],"names":["IESLoader","Loader","manager","HalfFloatType","iesLamp","type","data","interpolateCandelaValues","phi","theta","phiIndex","thetaIndex","startTheta","endTheta","startPhi","endPhi","i","deltaTheta","deltaPhi","t1","t2","nextThetaIndex","v1","MathUtils","v2","result","UnsignedByteType","v","DataUtils","FloatType","url","onLoad","onProgress","onError","loader","FileLoader","text","IESLamp","texture","DataTexture","RedFormat","LinearFilter","_self","textArray","lineNumber","line","textToArray","readArray","count","array","lineData","readTilt","readLampValues","values","readLampFactors","j","maxVal","value","ENV_URL","IES_PROFILE_URLS","pathTracer","renderer","controls","scene","camera","spotLight","iesTextures","currentModel","floorMesh","wallMesh","params","DEFAULT_MODEL_KEY","getScaledSettings","init","LoaderElement","WebGLRenderer","PCFSoftShadowMap","ACESFilmicToneMapping","WebGLPathTracer","ParallelMeshBVHWorker","aspect","PerspectiveCamera","OrbitControls","Scene","iesLoader","envTexture","textures","HDRLoader","EquirectangularReflectionMapping","Mesh","CylinderGeometry","MeshStandardMaterial","BoxGeometry","loadAndSetModel","modelKey","entry","MODEL_LIST","dracoLoader","DRACOLoader","gltf","GLTFLoader","model","c","box","Box3","PhysicalSpotLight","targetObject","onParamsChange","onResize","gui","GUI","ptFolder","lightFolder","animate"],"mappings":"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","x_google_ignoreList":[0]}