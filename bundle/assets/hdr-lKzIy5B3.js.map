{"version":3,"mappings":"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AC,CAChB,CACC,CAEA,SAASN,GAAWvD,EAAMiE,EAAGE,EAAI,CAClC,IAAID,EAAKH,KACT,GAAI,CACF,OAAOvb,GAAkBwX,CAAK,EAAEiE,EAAGE,CAAE,CACvC,OAAQ/wB,EAAG,CAET,GADA4wB,GAAaE,CAAE,EACX9wB,IAAMA,EAAE,EAAG,MAAMA,EACrBywB,GAAU,EAAG,CAAC,CAChB,CACC,CAEA,SAASJ,GAAazD,EAAMiE,EAAGE,EAAGC,EAAGC,EAAI,CAC1C,IAAIH,EAAKH,KACT,GAAI,CACF,OAAOvb,GAAkBwX,CAAK,EAAEiE,EAAGE,EAAGC,EAAGC,CAAE,CAC7C,OAAQjxB,EAAG,CAET,GADA4wB,GAAaE,CAAE,EACX9wB,IAAMA,EAAE,EAAG,MAAMA,EACrBywB,GAAU,EAAG,CAAC,CAChB,CACC,CAMA,IAAIS,GAAwB,CAC7B,gBACA,uBACA,yBACA,uBACA,yBACA,iBACA,iBACA,sBACA,sBACA,eACA,WACA,YACA,YACA,YACA,YACA,eACA,gBACA,gBACA,eACA,gBACA,4BACA,gBACA,UACA,UACA,aACA,yBACA,uBACA,sBACA,mBACA,YACA,cACA,oBACA,aACA,cACA,eACA,aACA,WACA,QACA,QACA,gBACA,iBACA,mBACA,0BACA,oBACA,iBACA,qBACA,cACA,iBACA,iBACA,SACA,SACA,SACA,eACA,mBACA,gBACA,kBACA,sBACA,2BACA,yBACA,kBACA,wBACA,wBACA,qBACA,6BACA,6BACA,0BACA,6BACA,iCACA,yCACA,4BACA,oCACA,oBACA,iCACA,yCACA,gCACA,wCACA,6BACA,qCACA,0BACA,mCACA,wBACA,eACA,wCACA,sBACA,iCACA,yCACA,wCACA,qBACA,gCACA,wCACA,6BACA,uBACA,+BACA,oCACA,uBACA,UACA,+BACA,uBACA,uBACA,eACA,aACA,iBACA,yBACA,yBACA,uBACA,iBACA,sBACA,wBACA,uBACA,aACA,cACA,gBACA,sBACA,oBACA,cACA,kBACA,mBACA,YACA,eACA,sBACA,yBACA,8BACA,sCACA,uCACA,kCACA,gCACA,qBACA,gCACA,iCACA,iCACA,gBACA,4BACA,0BACA,6CACA,uBACA,iCACA,+BACA,eACA,6BACA,qBACA,cACA,iBACA,YACA,eACA,cACA,WACA,sBACA,qBACA,sBACA,cACA,mBACA,4BACA,8BACA,uBACA,4BACA,4BACA,2BACA,2BACA,sCACA,yCACA,yBACA,oBACA,iCACA,gBACA,qBACA,kBACA,kBACA,kBACA,mBACA,cACA,8BACA,sBACA,mBACA,kBACA,6BACA,kBACA,gBACA,eACA,sBACA,mBACA,oBACA,uBACD,EACEA,GAAsB,QAAQnkB,EAAoB,EAElD,IAAIokB,GAAoB,CACzB,MACA,cACA,YACA,eACA,YACA,eACA,mBACA,sBACA,kBACA,gBACA,oBACA,gBACA,kBACA,cACA,MACA,MACA,WACA,QACA,aACA,cACA,aACA,YACA,eACA,cACA,cACA,mBACA,mBACA,6BACA,cACA,aACA,SACA,aACA,aACA,MACA,qBACA,kBACA,gCACA,6BACA,aACA,WACA,UACA,cACA,iBACA,MACA,YACA,UACA,iBACA,aACA,SACA,WACA,eACA,qBACA,oBACA,gBACA,eACA,UACA,kBACA,mBACA,YACA,cACA,YACA,sBACA,kBACA,YACA,gBACA,mBACA,sBACA,WACA,WACA,OACA,UACA,cACA,oBACA,eACA,oBACA,eACA,kBACA,qBACA,gBACA,eACA,gBACA,gBACA,mBACA,gBACA,gBACA,mBACA,qBACA,WACA,qBACA,4BACA,0BACA,WACA,cACA,aACA,gBACA,UACA,WACA,aACA,yBACA,gBACA,kBACA,gBACA,UACA,OACA,WACA,iBACA,yBACA,uBACA,aACA,0BACA,mBACA,KACA,oBACA,QACA,MACA,SACA,SACA,uBACA,4BACA,0BACA,KACA,qCACA,KACA,OACA,MACA,OACA,WACA,MACA,UACA,eACA,sBACA,gBACA,eACA,qBACA,oBACA,kBACA,uBACA,mBACA,qBACA,sBACA,qBACA,gCACA,mBACA,wBACA,mBACA,cACA,kBACA,sB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","names":["canvasToBlob","canvas","mimeType","quality","resolve","reject","res","compress","params","source","flipY","imageBitmapSource","img","width","height","ctx","blob","getBufferForType","type","out","UnsignedByteType","HalfFloatType","UnsignedIntType","ByteType","ShortType","IntType","FloatType","_canReadPixelsResult","canReadPixels","renderer","camera","renderTargetOptions","testRT","WebGLRenderTarget","mesh","Mesh","PlaneGeometry","MeshBasicMaterial","QuadRenderer","options","_a","_b","_c","_d","_e","_f","_g","_h","_j","_k","_l","_m","_o","_p","_q","_r","e","rtOptions","RGBAFormat","LinearFilter","ClampToEdgeWrapping","Scene","OrthographicCamera","alternativeType","UVMapping","WebGLRenderer","returnValue","DataTexture","LinearSRGBColorSpace","disposeRenderTarget","ShaderMaterial","v","Texture","value","getDataTexture","image","dataTexture","RepeatWrapping","vertexShader$2","fragmentShader$2","GainMapEncoderMaterial","sdr","hdr","offsetSdr","offsetHdr","maxContentBoost","minContentBoost","gamma","_gamma","_offsetSdr","_offsetHdr","_minContentBoost","_maxContentBoost","Vector3","NoBlending","getGainMap","material","quadRenderer","vertexShader$1","fragmentShader$1","SDRMaterial","map","toneMapping","ACESFilmicToneMapping","valid","ReinhardToneMapping","CineonToneMapping","LinearToneMapping","getSDRRendition","hdrTexture","SRGBColorSpace","encode","gainMapRenderer","vertexShader","fragmentShader","findTextureMinMax","mode","srcTex","cellSize","mat","Vector2","w","h","frameBuffers","fb","NearestFilter","fbi","DataUtils","Module","_scriptDir","moduleArg","readyPromiseResolve","readyPromiseReject","prop","abort","moduleOverrides","thisProgram","quit_","status","toThrow","ENVIRONMENT_IS_WEB","ENVIRONMENT_IS_WORKER","ENVIRONMENT_IS_NODE","ENVIRONMENT_IS_SHELL","scriptDirectory","locateFile","path","read_","readAsync","readBinary","nodeVersion","numericVersion","createRequire","n","require","fs","nodePath","filename","binary","isFileURI","ret","assert","onload","onerror","err","data","f","id","ExitStatus","toLog","url","xhr","checkIncomingModuleAPI","legacyModuleProp","wasmBinary","wasmMemory","ABORT","EXITSTATUS","condition","text","HEAP8","HEAPU8","HEAP16","HEAPU16","HEAP32","HEAPU32","HEAPF32","HEAPF64","updateMemoryViews","b","writeStackCookie","max","_emscripten_stack_get_end","checkStackCookie","cookie1","cookie2","ptrToString","h16","h8","__ATPRERUN__","__ATINIT__","__ATMAIN__","__ATPOSTRUN__","runtimeInitialized","preRun","addOnPreRun","callRuntimeCallbacks","initRuntime","FS","preMain","postRun","addOnPostRun","cb","addOnInit","runDependencies","runDependencyWatcher","dependenciesFulfilled","runDependencyTracking","getUniqueRunDependency","orig","addRunDependency","shown","dep","removeRunDependency","callback","what","dataURIPrefix","isDataURI","createExportWrapper","name","wasmExports","wasmBinaryFile","getBinarySync","file","getBinaryPromise","binaryFile","response","instantiateArrayBuffer","imports","receiver","instance","reason","instantiateAsync","result","createWasm","info","wasmImports","receiveInstance","module","wasmTable","trueModule","receiveInstantiationResult","tempDouble","tempI64","newName","incomming","extra","ignoredModuleProp","isExportedByForceFilesystem","missingGlobal","sym","msg","warnOnce","missingLibrarySymbol","librarySymbol","unexportedRuntimeSymbol","callbacks","ptr","ExceptionInfo","excPtr","destructor","caught","rethrown","adjustedPtr","isPointer","___cxa_is_pointer_type","adjusted","___cxa_throw","structRegistrations","runDestructors","destructors","del","simpleReadValueFromPointer","pointer","awaitingDependencies","registeredTypes","typeDependencies","InternalError","throwInternalError","message","whenDependentTypesAreResolved","myTypes","dependentTypes","getTypeConverters","onComplete","typeConverters","myTypeConverters","i","registerType","unregisteredTypes","registered","dt","__embind_finalize_value_object","structType","reg","rawConstructor","rawDestructor","fieldRecords","fieldTypes","field","fields","fieldName","getterReturnType","getter","getterContext","setterArgumentType","setter","setterContext","o","rv","GenericWireTypeSize","__embind_register_bigint","primitiveType","size","minRange","maxRange","embind_init_charCodes","codes","embind_charCodes","readLatin1String","c","BindingError","throwBindingError","sharedRegisterType","rawType","registeredInstance","__embind_register_bool","trueValue","falseValue","wt","handleAllocatorInit","HandleAllocator","handle","emval_handles","__emval_decref","count_emval_handles","count","init_emval","Emval","__embind_register_emval","embindRepr","t","floatReadValueFromPointer","__embind_register_float","char_0","char_9","makeLegalFunctionName","createNamedFunction","body","newFunc","constructor","argumentList","dummy","obj","r","craftInvokerFunction","humanName","argTypes","classType","cppInvokerFunc","cppTargetFunc","isAsync","argCount","needsDestructorStack","returns","argsList","argsListWired","invokerFnBody","dtorStack","args1","args2","paramName","ensureOverloadTable","proto","methodName","prevFunc","exposePublicSymbol","numArguments","heap32VectorToArray","firstElement","array","replacePublicSymbol","dynCallLegacy","sig","args","wasmTableMirror","getWasmTableEntry","funcPtr","func","dynCall","rtn","getDynCaller","argCache","embind__requireFunction","signature","rawFunction","makeDynCaller","fp","extendError","baseErrorType","errorName","errorClass","stack","UnboundTypeError","getTypeName","___getTypeName","_free","throwUnboundTypeError","types","unboundTypes","seen","visit","getFunctionName","argsIndex","__embind_register_function","rawArgTypesAddr","rawInvoker","fn","invokerArgsArray","integerReadValueFromPointer","signed","__embind_register_integer","fromWireType","bitshift","isUnsignedType","checkAssertions","toTypeName","toWireType","__embind_register_memory_view","dataTypeIndex","typeMapping","TA","decodeMemoryView","readPointer","stringToUTF8Array","str","heap","outIdx","maxBytesToWrite","startIdx","endIdx","u","u1","stringToUTF8","outPtr","lengthBytesUTF8","len","UTF8Decoder","UTF8ArrayToString","heapOrArray","idx","maxBytesToRead","endPtr","u0","u2","ch","UTF8ToString","__embind_register_std_string","stdStringIsUTF8","length","payload","decodeStartPtr","currentBytePtr","maxRead","stringSegment","a","valueIsOfTypeString","base","_malloc","charCode","UTF16Decoder","UTF16ToString","maxIdx","codeUnit","stringToUTF16","startPtr","numCharsToWrite","lengthBytesUTF16","UTF32ToString","utf32","stringToUTF32","trailSurrogate","lengthBytesUTF32","__embind_register_std_wstring","charSize","decodeString","encodeString","getHeap","lengthBytesUTF","shift","HEAP","maxReadBytes","__embind_register_value_object","constructorSignature","destructorSignature","__embind_register_value_object_field","getterSignature","setterSignature","__embind_register_void","__emscripten_throw_longjmp","__emval_incref","emval_symbols","getStringOrSymbol","address","symbol","__emval_new_cstring","requireRegisteredType","impl","__emval_take_value","arg","_abort","_emscripten_memcpy_js","dest","src","num","getHeapMax","growMemory","pages","_emscripten_resize_heap","requestedSize","oldSize","maxHeapSize","alignUp","x","multiple","cutDown","overGrownHeapSize","newSize","replacement","ENV","getExecutableName","getEnvStrings","lang","env","strings","stringToAscii","buffer","PATH","splitPathRe","parts","allowAboveRoot","up","last","isAbsolute","trailingSlash","p","root","dir","lastSlash","paths","l","initRandomFill","view","crypto_module","randomFillSync","randomBytes","randomFill","PATH_FS","resolvedPath","resolvedAbsolute","from","to","trim","arr","start","end","fromParts","toParts","samePartsLength","outputParts","FS_stdin_getChar_buffer","intArrayFromString","stringy","dontAddNull","u8array","numBytesWritten","FS_stdin_getChar","BUFSIZE","buf","bytesRead","fd","TTY","dev","ops","stream","tty","offset","pos","val","optional_actions","mmapAlloc","MEMFS","mount","parent","node","newCapacity","prevCapacity","CAPACITY_DOUBLING_MAX","oldContents","attr","old_node","new_dir","new_name","new_node","entries","key","newname","oldpath","position","contents","canOwn","whence","prot","flags","allocated","mmapFlags","asyncLoad","noRunDep","arrayBuffer","event","FS_createDataFile","fileData","canRead","canWrite","preloadPlugins","FS_handledByPreloadPlugin","byteArray","fullname","finish","handled","plugin","FS_createPreloadedFile","dontCreateFile","preFinish","processData","FS_modeStringToFlags","flagModes","FS_getMode","ERRNO_MESSAGES","ERRNO_CODES","demangle","demangleAll","regex","y","opts","defaults","current","current_path","islast","link","lookup","parentid","hash","errCode","nodeName","rdev","flag","perms","isdir","device","ma","mi","mounts","check","m","populate","completed","doCallback","done","mountpoint","pseudo","mountRoot","next","dirs","d","newpath","old_path","new_path","old_dirname","new_dirname","old_name","old_dir","relative","dontFollow","uid","gid","atime","mtime","created","seeking","bytesWritten","cmd","stat","actualNumBytes","randomBuffer","randomLeft","randomByte","proc_self","stdin","stdout","stderr","errno","code","input","output","error","_fflush","dontResolveLastLink","part","properties","LazyUint8Array","chunkOffset","chunkNum","datalength","header","hasByteServing","usesGzip","chunkSize","doXHR","lazyArray","stream_ops","keys","writeChunks","SYSCALLS","dirfd","allowEmpty","dirstream","ctime","addr","_environ_get","__environ","environ_buf","bufSize","string","_environ_sizes_get","penviron_count","penviron_buf_size","runtimeKeepaliveCounter","_proc_exit","exitJS","implicit","checkUnflushedContent","_exit","_fd_close","doReadv","iov","iovcnt","curr","_fd_read","pnum","convertI32PairToI53Checked","lo","hi","_fd_seek","offset_low","offset_high","newOffset","doWritev","_fd_write","isLeapYear","year","arraySum","index","sum","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR","addDays","date","days","newDate","leap","currentMonth","daysInCurrentMonth","writeArrayToMemory","_strftime","s","maxsize","format","tm","tm_zone","pattern","EXPANSION_RULES_1","rule","WEEKDAYS","MONTHS","leadingSomething","digits","character","leadingNulls","compareByDay","date1","date2","sgn","compare","getFirstWeekStartDate","janFourth","getWeekBasedYear","thisDate","janFourthThisYear","janFourthNextYear","firstWeekStartThisYear","firstWeekStartNextYear","EXPANSION_RULES_2","twelveHour","jan1","dec31","off","ahead","bytes","_strftime_l","loc","handleException","_emscripten_stack_get_current","FSNode","readMode","writeMode","invoke_ii","invoke_iii","invoke_iiii","invoke_iiiii","invoke_vi","invoke_viii","_main","_setThrew","_emscripten_stack_init","stackSave","stackRestore","a1","sp","a2","a3","a4","missingLibrarySymbols","unexportedSymbols","calledRun","runCaller","run","callMain","entryFunction","argc","argv","stackCheckInit","doRun","shouldRunNow","oldOut","oldErr","has","library","getLibrary","encodeJPEGMetadata","encodingResult","lib","HDRImageGenerator","imageElement","renderTarget","imageInformation","currentId","jpegData","encodeHDR","textureMax","sdrImageData","gainMapImageData","gainMap","metadata","ENV_URL","DESCRIPTION","MAX_SAMPLES","DEFAULT_MODEL_KEY","getScaledSettings","pathTracer","controls","scene","currentModel","loader","hdrGenerator","activeImage","init","LoaderElement","WebGLPathTracer","ParallelMeshBVHWorker","PerspectiveCamera","Color","OrbitControls","resetHdr","envTexture","HDRLoader","EquirectangularReflectionMapping","floorTex","generateRadialFloorTexture","floorPlane","MeshStandardMaterial","DoubleSide","loadAndSetModel","modelKey","entry","MODEL_LIST","dracoLoader","DRACOLoader","gltf","GLTFLoader","MeshoptDecoder","model","gui","GUI","NoToneMapping","onResize","animate","doPause"],"ignoreList":[0,1,2],"sources":["../../node_modules/@monogrid/gainmap-js/dist/compress-D7K92XO0.js","../../node_modules/@monogrid/gainmap-js/dist/QuadRenderer-6HrRQdJM.js","../../node_modules/@monogrid/gainmap-js/dist/encode.js","../../example/libs/libultrahdr.js","../../example/utils/HDRImageGenerator.js","../../example/hdr.js"],"sourcesContent":["/**\n * @monogrid/gainmap-js v3.0.5\n * With , by MONOGRID <rnd@monogrid.com>\n */\n\n/**\n * Used internally\n *\n * @internal\n * @param canvas\n * @param mimeType\n * @param quality\n * @returns\n */\nconst canvasToBlob = async (canvas, mimeType, quality) => {\n    if (typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas) {\n        return canvas.convertToBlob({ type: mimeType, quality: quality || 0.9 });\n    }\n    else if (canvas instanceof HTMLCanvasElement) {\n        return new Promise((resolve, reject) => {\n            canvas.toBlob((res) => {\n                if (res)\n                    resolve(res);\n                else\n                    reject(new Error('Failed to convert canvas to blob'));\n            }, mimeType, quality || 0.9);\n        });\n    }\n    /* istanbul ignore next\n      as long as this function is not exported this is only here\n      to satisfy TS strict mode internally\n    */\n    throw new Error('Unsupported canvas element');\n};\n/**\n * Converts a RAW RGBA image buffer into the provided `mimeType` using the provided `quality`\n *\n * @category Compression\n * @group Compression\n * @param params\n * @throws {Error} if the browser does not support [createImageBitmap](https://caniuse.com/createimagebitmap)\n * @throws {Error} if the provided source image cannot be decoded\n * @throws {Error} if the function fails to create a canvas context\n */\nconst compress = async (params) => {\n    if (typeof createImageBitmap === 'undefined')\n        throw new Error('createImageBitmap() not supported.');\n    const { source, mimeType, quality, flipY } = params;\n    // eslint-disable-next-line no-undef\n    let imageBitmapSource;\n    if ((source instanceof Uint8Array || source instanceof Uint8ClampedArray) && 'sourceMimeType' in params) {\n        imageBitmapSource = new Blob([source], { type: params.sourceMimeType });\n    }\n    else if (source instanceof ImageData) {\n        imageBitmapSource = source;\n    }\n    else {\n        throw new Error('Invalid source image');\n    }\n    const img = await createImageBitmap(imageBitmapSource);\n    const width = img.width;\n    const height = img.height;\n    let canvas;\n    if (typeof OffscreenCanvas !== 'undefined') {\n        canvas = new OffscreenCanvas(width, height);\n    }\n    else {\n        canvas = document.createElement('canvas');\n        canvas.width = width;\n        canvas.height = height;\n    }\n    const ctx = canvas.getContext('2d');\n    if (!ctx)\n        throw new Error('Failed to create canvas Context');\n    // flip Y\n    if (flipY === true) {\n        ctx.translate(0, height);\n        ctx.scale(1, -1);\n    }\n    ctx.drawImage(img, 0, 0, width, height);\n    const blob = await canvasToBlob(canvas, mimeType, quality || 0.9);\n    const data = new Uint8Array(await blob.arrayBuffer());\n    return {\n        data,\n        mimeType,\n        width,\n        height\n    };\n};\n\nexport { compress as c };\n","/**\n * @monogrid/gainmap-js v3.0.5\n * With , by MONOGRID <rnd@monogrid.com>\n */\n\nimport { RGBAFormat, LinearFilter, ClampToEdgeWrapping, Scene, OrthographicCamera, HalfFloatType, FloatType, Mesh, PlaneGeometry, WebGLRenderTarget, UVMapping, WebGLRenderer, DataTexture, LinearSRGBColorSpace, ShaderMaterial, Texture, IntType, ShortType, ByteType, UnsignedIntType, UnsignedByteType, MeshBasicMaterial } from 'three';\n\nconst getBufferForType = (type, width, height) => {\n    let out;\n    switch (type) {\n        case UnsignedByteType:\n            out = new Uint8ClampedArray(width * height * 4);\n            break;\n        case HalfFloatType:\n            out = new Uint16Array(width * height * 4);\n            break;\n        case UnsignedIntType:\n            out = new Uint32Array(width * height * 4);\n            break;\n        case ByteType:\n            out = new Int8Array(width * height * 4);\n            break;\n        case ShortType:\n            out = new Int16Array(width * height * 4);\n            break;\n        case IntType:\n            out = new Int32Array(width * height * 4);\n            break;\n        case FloatType:\n            out = new Float32Array(width * height * 4);\n            break;\n        default:\n            throw new Error('Unsupported data type');\n    }\n    return out;\n};\nlet _canReadPixelsResult;\n/**\n * Test if this browser implementation can correctly read pixels from the specified\n * Render target type.\n *\n * Runs only once\n *\n * @param type\n * @param renderer\n * @param camera\n * @param renderTargetOptions\n * @returns\n */\nconst canReadPixels = (type, renderer, camera, renderTargetOptions) => {\n    if (_canReadPixelsResult !== undefined)\n        return _canReadPixelsResult;\n    const testRT = new WebGLRenderTarget(1, 1, renderTargetOptions);\n    renderer.setRenderTarget(testRT);\n    const mesh = new Mesh(new PlaneGeometry(), new MeshBasicMaterial({ color: 0xffffff }));\n    renderer.render(mesh, camera);\n    renderer.setRenderTarget(null);\n    const out = getBufferForType(type, testRT.width, testRT.height);\n    renderer.readRenderTargetPixels(testRT, 0, 0, testRT.width, testRT.height, out);\n    testRT.dispose();\n    mesh.geometry.dispose();\n    mesh.material.dispose();\n    _canReadPixelsResult = out[0] !== 0;\n    return _canReadPixelsResult;\n};\n/**\n * Utility class used for rendering a texture with a material\n *\n * @category Core\n * @group Core\n */\nclass QuadRenderer {\n    /**\n     * Constructs a new QuadRenderer\n     *\n     * @param options Parameters for this QuadRenderer\n     */\n    constructor(options) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r;\n        this._rendererIsDisposable = false;\n        this._supportsReadPixels = true;\n        /**\n         * Renders the input texture using the specified material\n         */\n        this.render = () => {\n            this._renderer.setRenderTarget(this._renderTarget);\n            try {\n                this._renderer.render(this._scene, this._camera);\n            }\n            catch (e) {\n                this._renderer.setRenderTarget(null);\n                throw e;\n            }\n            this._renderer.setRenderTarget(null);\n        };\n        this._width = options.width;\n        this._height = options.height;\n        this._type = options.type;\n        this._colorSpace = options.colorSpace;\n        const rtOptions = {\n            // fixed options\n            format: RGBAFormat,\n            depthBuffer: false,\n            stencilBuffer: false,\n            // user options\n            type: this._type, // set in class property\n            colorSpace: this._colorSpace, // set in class property\n            anisotropy: ((_a = options.renderTargetOptions) === null || _a === void 0 ? void 0 : _a.anisotropy) !== undefined ? (_b = options.renderTargetOptions) === null || _b === void 0 ? void 0 : _b.anisotropy : 1,\n            generateMipmaps: ((_c = options.renderTargetOptions) === null || _c === void 0 ? void 0 : _c.generateMipmaps) !== undefined ? (_d = options.renderTargetOptions) === null || _d === void 0 ? void 0 : _d.generateMipmaps : false,\n            magFilter: ((_e = options.renderTargetOptions) === null || _e === void 0 ? void 0 : _e.magFilter) !== undefined ? (_f = options.renderTargetOptions) === null || _f === void 0 ? void 0 : _f.magFilter : LinearFilter,\n            minFilter: ((_g = options.renderTargetOptions) === null || _g === void 0 ? void 0 : _g.minFilter) !== undefined ? (_h = options.renderTargetOptions) === null || _h === void 0 ? void 0 : _h.minFilter : LinearFilter,\n            samples: ((_j = options.renderTargetOptions) === null || _j === void 0 ? void 0 : _j.samples) !== undefined ? (_k = options.renderTargetOptions) === null || _k === void 0 ? void 0 : _k.samples : undefined,\n            wrapS: ((_l = options.renderTargetOptions) === null || _l === void 0 ? void 0 : _l.wrapS) !== undefined ? (_m = options.renderTargetOptions) === null || _m === void 0 ? void 0 : _m.wrapS : ClampToEdgeWrapping,\n            wrapT: ((_o = options.renderTargetOptions) === null || _o === void 0 ? void 0 : _o.wrapT) !== undefined ? (_p = options.renderTargetOptions) === null || _p === void 0 ? void 0 : _p.wrapT : ClampToEdgeWrapping\n        };\n        this._material = options.material;\n        if (options.renderer) {\n            this._renderer = options.renderer;\n        }\n        else {\n            this._renderer = QuadRenderer.instantiateRenderer();\n            this._rendererIsDisposable = true;\n        }\n        this._scene = new Scene();\n        this._camera = new OrthographicCamera();\n        this._camera.position.set(0, 0, 10);\n        this._camera.left = -0.5;\n        this._camera.right = 0.5;\n        this._camera.top = 0.5;\n        this._camera.bottom = -0.5;\n        this._camera.updateProjectionMatrix();\n        if (!canReadPixels(this._type, this._renderer, this._camera, rtOptions)) {\n            let alternativeType;\n            switch (this._type) {\n                case HalfFloatType:\n                    alternativeType = this._renderer.extensions.has('EXT_color_buffer_float') ? FloatType : undefined;\n                    break;\n            }\n            if (alternativeType !== undefined) {\n                console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${FloatType}`);\n                this._type = alternativeType;\n            }\n            else {\n                this._supportsReadPixels = false;\n                console.warn('This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown');\n            }\n        }\n        this._quad = new Mesh(new PlaneGeometry(), this._material);\n        this._quad.geometry.computeBoundingBox();\n        this._scene.add(this._quad);\n        this._renderTarget = new WebGLRenderTarget(this.width, this.height, rtOptions);\n        this._renderTarget.texture.mapping = ((_q = options.renderTargetOptions) === null || _q === void 0 ? void 0 : _q.mapping) !== undefined ? (_r = options.renderTargetOptions) === null || _r === void 0 ? void 0 : _r.mapping : UVMapping;\n    }\n    /**\n     * Instantiates a temporary renderer\n     *\n     * @returns\n     */\n    static instantiateRenderer() {\n        const renderer = new WebGLRenderer();\n        renderer.setSize(128, 128);\n        // renderer.outputColorSpace = SRGBColorSpace\n        // renderer.toneMapping = LinearToneMapping\n        // renderer.debug.checkShaderErrors = false\n        // this._rendererIsDisposable = true\n        return renderer;\n    }\n    /**\n     * Obtains a Buffer containing the rendered texture.\n     *\n     * @throws Error if the browser cannot read pixels from this RenderTarget type.\n     * @returns a TypedArray containing RGBA values from this renderer\n     */\n    toArray() {\n        if (!this._supportsReadPixels)\n            throw new Error('Can\\'t read pixels in this browser');\n        const out = getBufferForType(this._type, this._width, this._height);\n        this._renderer.readRenderTargetPixels(this._renderTarget, 0, 0, this._width, this._height, out);\n        return out;\n    }\n    /**\n     * Performs a readPixel operation in the renderTarget\n     * and returns a DataTexture containing the read data\n     *\n     * @params options\n     * @returns\n     */\n    toDataTexture(options) {\n        const returnValue = new DataTexture(\n        // fixed values\n        this.toArray(), this.width, this.height, RGBAFormat, this._type, \n        // user values\n        (options === null || options === void 0 ? void 0 : options.mapping) || UVMapping, (options === null || options === void 0 ? void 0 : options.wrapS) || ClampToEdgeWrapping, (options === null || options === void 0 ? void 0 : options.wrapT) || ClampToEdgeWrapping, (options === null || options === void 0 ? void 0 : options.magFilter) || LinearFilter, (options === null || options === void 0 ? void 0 : options.minFilter) || LinearFilter, (options === null || options === void 0 ? void 0 : options.anisotropy) || 1, \n        // fixed value\n        LinearSRGBColorSpace);\n        // set this afterwards, we can't set it in constructor\n        returnValue.generateMipmaps = (options === null || options === void 0 ? void 0 : options.generateMipmaps) !== undefined ? options === null || options === void 0 ? void 0 : options.generateMipmaps : false;\n        return returnValue;\n    }\n    /**\n     * If using a disposable renderer, it will dispose it.\n     */\n    disposeOnDemandRenderer() {\n        this._renderer.setRenderTarget(null);\n        if (this._rendererIsDisposable) {\n            this._renderer.dispose();\n            this._renderer.forceContextLoss();\n        }\n    }\n    /**\n     * Will dispose of **all** assets used by this renderer.\n     *\n     *\n     * @param disposeRenderTarget will dispose of the renderTarget which will not be usable later\n     * set this to true if you passed the `renderTarget.texture` to a `PMREMGenerator`\n     * or are otherwise done with it.\n     *\n     * @example\n     * ```js\n     * const loader = new HDRJPGLoader(renderer)\n     * const result = await loader.loadAsync('gainmap.jpeg')\n     * const mesh = new Mesh(geometry, new MeshBasicMaterial({ map: result.renderTarget.texture }) )\n     * // DO NOT dispose the renderTarget here,\n     * // it is used directly in the material\n     * result.dispose()\n     * ```\n     *\n     * @example\n     * ```js\n     * const loader = new HDRJPGLoader(renderer)\n     * const pmremGenerator = new PMREMGenerator( renderer );\n     * const result = await loader.loadAsync('gainmap.jpeg')\n     * const envMap = pmremGenerator.fromEquirectangular(result.renderTarget.texture)\n     * const mesh = new Mesh(geometry, new MeshStandardMaterial({ envMap }) )\n     * // renderTarget can be disposed here\n     * // because it was used to generate a PMREM texture\n     * result.dispose(true)\n     * ```\n     */\n    dispose(disposeRenderTarget) {\n        this.disposeOnDemandRenderer();\n        if (disposeRenderTarget) {\n            this.renderTarget.dispose();\n        }\n        // dispose shader material texture uniforms\n        if (this.material instanceof ShaderMaterial) {\n            Object.values(this.material.uniforms).forEach(v => {\n                if (v.value instanceof Texture)\n                    v.value.dispose();\n            });\n        }\n        // dispose other material properties\n        Object.values(this.material).forEach(value => {\n            if (value instanceof Texture)\n                value.dispose();\n        });\n        this.material.dispose();\n        this._quad.geometry.dispose();\n    }\n    /**\n     * Width of the texture\n     */\n    get width() { return this._width; }\n    set width(value) {\n        this._width = value;\n        this._renderTarget.setSize(this._width, this._height);\n    }\n    /**\n     * Height of the texture\n     */\n    get height() { return this._height; }\n    set height(value) {\n        this._height = value;\n        this._renderTarget.setSize(this._width, this._height);\n    }\n    /**\n     * The renderer used\n     */\n    get renderer() { return this._renderer; }\n    /**\n     * The `WebGLRenderTarget` used.\n     */\n    get renderTarget() { return this._renderTarget; }\n    set renderTarget(value) {\n        this._renderTarget = value;\n        this._width = value.width;\n        this._height = value.height;\n        // this._type = value.texture.type\n    }\n    /**\n     * The `Material` used.\n     */\n    get material() { return this._material; }\n    /**\n     *\n     */\n    get type() { return this._type; }\n    get colorSpace() { return this._colorSpace; }\n}\n\nexport { QuadRenderer as Q };\n","/**\n * @monogrid/gainmap-js v3.0.5\n * With , by MONOGRID <rnd@monogrid.com>\n */\n\nimport { c as compress } from './compress-D7K92XO0.js';\nimport { DataTexture, RGBAFormat, UVMapping, RepeatWrapping, LinearFilter, LinearSRGBColorSpace, ShaderMaterial, Vector3, NoBlending, UnsignedByteType, ACESFilmicToneMapping, LinearToneMapping, CineonToneMapping, ReinhardToneMapping, SRGBColorSpace, Vector2, WebGLRenderTarget, NearestFilter, ClampToEdgeWrapping, FloatType, DataUtils } from 'three';\nimport { Q as QuadRenderer } from './QuadRenderer-6HrRQdJM.js';\n\n/**\n * Utility function to obtain a `DataTexture` from various input formats\n *\n * @category Utility\n * @group Utility\n *\n * @param image\n * @returns\n */\nconst getDataTexture = (image) => {\n    let dataTexture;\n    if (image instanceof DataTexture) {\n        if (!(image.image.data instanceof Uint16Array) && !(image.image.data instanceof Float32Array)) {\n            throw new Error('Provided image is not HDR');\n        }\n        dataTexture = image;\n    }\n    else {\n        dataTexture = new DataTexture(image.data, image.width, image.height, 'format' in image ? image.format : RGBAFormat, image.type, UVMapping, RepeatWrapping, RepeatWrapping, LinearFilter, LinearFilter, 1, 'colorSpace' in image && image.colorSpace === 'srgb' ? image.colorSpace : LinearSRGBColorSpace);\n        // TODO: This tries to detect a raw RGBE and applies flipY\n        // see if there's a better way to detect it?\n        if ('header' in image && 'gamma' in image) {\n            dataTexture.flipY = true;\n        }\n        dataTexture.needsUpdate = true;\n    }\n    return dataTexture;\n};\n\nconst vertexShader$2 = /* glsl */ `\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n`;\nconst fragmentShader$2 = /* glsl */ `\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform sampler2D sdr;\nuniform sampler2D hdr;\nuniform vec3 gamma;\nuniform vec3 offsetSdr;\nuniform vec3 offsetHdr;\nuniform float minLog2;\nuniform float maxLog2;\n\nvarying vec2 vUv;\n\nvoid main() {\n  vec3 sdrColor = texture2D(sdr, vUv).rgb;\n  vec3 hdrColor = texture2D(hdr, vUv).rgb;\n\n  vec3 pixelGain = (hdrColor + offsetHdr) / (sdrColor + offsetSdr);\n  vec3 logRecovery = (log2(pixelGain) - minLog2) / (maxLog2 - minLog2);\n  vec3 clampedRecovery = saturate(logRecovery);\n  gl_FragColor = vec4(pow(clampedRecovery, gamma), 1.0);\n}\n`;\n/**\n * A Material which is able to encode a gainmap\n *\n * @category Materials\n * @group Materials\n */\nclass GainMapEncoderMaterial extends ShaderMaterial {\n    /**\n     *\n     * @param params\n     */\n    constructor({ sdr, hdr, offsetSdr, offsetHdr, maxContentBoost, minContentBoost, gamma }) {\n        if (!maxContentBoost)\n            throw new Error('maxContentBoost is required');\n        if (!sdr)\n            throw new Error('sdr is required');\n        if (!hdr)\n            throw new Error('hdr is required');\n        const _gamma = gamma || [1, 1, 1];\n        const _offsetSdr = offsetSdr || [1 / 64, 1 / 64, 1 / 64];\n        const _offsetHdr = offsetHdr || [1 / 64, 1 / 64, 1 / 64];\n        const _minContentBoost = minContentBoost || 1;\n        const _maxContentBoost = Math.max(maxContentBoost, 1.0001);\n        super({\n            name: 'GainMapEncoderMaterial',\n            vertexShader: vertexShader$2,\n            fragmentShader: fragmentShader$2,\n            uniforms: {\n                sdr: { value: sdr },\n                hdr: { value: hdr },\n                gamma: { value: new Vector3().fromArray(_gamma) },\n                offsetSdr: { value: new Vector3().fromArray(_offsetSdr) },\n                offsetHdr: { value: new Vector3().fromArray(_offsetHdr) },\n                minLog2: { value: Math.log2(_minContentBoost) },\n                maxLog2: { value: Math.log2(_maxContentBoost) }\n            },\n            blending: NoBlending,\n            depthTest: false,\n            depthWrite: false\n        });\n        this._minContentBoost = _minContentBoost;\n        this._maxContentBoost = _maxContentBoost;\n        this._offsetSdr = _offsetSdr;\n        this._offsetHdr = _offsetHdr;\n        this._gamma = _gamma;\n        this.needsUpdate = true;\n        this.uniformsNeedUpdate = true;\n    }\n    /**\n     * @see {@link GainmapEncodingParameters.gamma}\n     */\n    get gamma() { return this._gamma; }\n    set gamma(value) {\n        this._gamma = value;\n        this.uniforms.gamma.value = new Vector3().fromArray(value);\n    }\n    /**\n     * @see {@link GainmapEncodingParameters.offsetHdr}\n     */\n    get offsetHdr() { return this._offsetHdr; }\n    set offsetHdr(value) {\n        this._offsetHdr = value;\n        this.uniforms.offsetHdr.value = new Vector3().fromArray(value);\n    }\n    /**\n     * @see {@link GainmapEncodingParameters.offsetSdr}\n     */\n    get offsetSdr() { return this._offsetSdr; }\n    set offsetSdr(value) {\n        this._offsetSdr = value;\n        this.uniforms.offsetSdr.value = new Vector3().fromArray(value);\n    }\n    /**\n     * @see {@link GainmapEncodingParameters.minContentBoost}\n     * @remarks Non logarithmic space\n     */\n    get minContentBoost() { return this._minContentBoost; }\n    set minContentBoost(value) {\n        this._minContentBoost = value;\n        this.uniforms.minLog2.value = Math.log2(value);\n    }\n    /**\n     * @see {@link GainmapEncodingParameters.maxContentBoost}\n     * @remarks Non logarithmic space\n     */\n    get maxContentBoost() { return this._maxContentBoost; }\n    set maxContentBoost(value) {\n        this._maxContentBoost = value;\n        this.uniforms.maxLog2.value = Math.log2(value);\n    }\n    /**\n     * @see {@link GainMapMetadata.gainMapMin}\n     * @remarks Logarithmic space\n     */\n    get gainMapMin() { return [Math.log2(this._minContentBoost), Math.log2(this._minContentBoost), Math.log2(this._minContentBoost)]; }\n    /**\n     * @see {@link GainMapMetadata.gainMapMax}\n     * @remarks Logarithmic space\n     */\n    get gainMapMax() { return [Math.log2(this._maxContentBoost), Math.log2(this._maxContentBoost), Math.log2(this._maxContentBoost)]; }\n    /**\n     * @see {@link GainMapMetadata.hdrCapacityMin}\n     * @remarks Logarithmic space\n     */\n    get hdrCapacityMin() { return Math.min(Math.max(0, this.gainMapMin[0]), Math.max(0, this.gainMapMin[1]), Math.max(0, this.gainMapMin[2])); }\n    /**\n     * @see {@link GainMapMetadata.hdrCapacityMax}\n     * @remarks Logarithmic space\n     */\n    get hdrCapacityMax() { return Math.max(Math.max(0, this.gainMapMax[0]), Math.max(0, this.gainMapMax[1]), Math.max(0, this.gainMapMax[2])); }\n}\n\n/**\n *\n * @param params\n * @returns\n * @category Encoding Functions\n * @group Encoding Functions\n */\nconst getGainMap = (params) => {\n    const { image, sdr, renderer } = params;\n    const dataTexture = getDataTexture(image);\n    const material = new GainMapEncoderMaterial({\n        ...params,\n        sdr: sdr.renderTarget.texture,\n        hdr: dataTexture\n    });\n    const quadRenderer = new QuadRenderer({\n        width: dataTexture.image.width,\n        height: dataTexture.image.height,\n        type: UnsignedByteType,\n        colorSpace: LinearSRGBColorSpace,\n        material,\n        renderer,\n        renderTargetOptions: params.renderTargetOptions\n    });\n    try {\n        quadRenderer.render();\n    }\n    catch (e) {\n        quadRenderer.disposeOnDemandRenderer();\n        throw e;\n    }\n    return quadRenderer;\n};\n\nconst vertexShader$1 = /* glsl */ `\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n`;\nconst fragmentShader$1 = /* glsl */ `\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n\nuniform sampler2D map;\nuniform float brightness;\nuniform float contrast;\nuniform float saturation;\nuniform float exposure;\n\nvarying vec2 vUv;\n\nmat4 brightnessMatrix( float brightness ) {\n  return mat4(\n    1, 0, 0, 0,\n    0, 1, 0, 0,\n    0, 0, 1, 0,\n    brightness, brightness, brightness, 1\n  );\n}\n\nmat4 contrastMatrix( float contrast ) {\n  float t = ( 1.0 - contrast ) / 2.0;\n  return mat4(\n    contrast, 0, 0, 0,\n    0, contrast, 0, 0,\n    0, 0, contrast, 0,\n    t, t, t, 1\n  );\n}\n\nmat4 saturationMatrix( float saturation ) {\n  vec3 luminance = vec3( 0.3086, 0.6094, 0.0820 );\n  float oneMinusSat = 1.0 - saturation;\n  vec3 red = vec3( luminance.x * oneMinusSat );\n  red+= vec3( saturation, 0, 0 );\n  vec3 green = vec3( luminance.y * oneMinusSat );\n  green += vec3( 0, saturation, 0 );\n  vec3 blue = vec3( luminance.z * oneMinusSat );\n  blue += vec3( 0, 0, saturation );\n  return mat4(\n    red,     0,\n    green,   0,\n    blue,    0,\n    0, 0, 0, 1\n  );\n}\n\nvec3 RRTAndODTFit( vec3 v ) {\n  vec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n  vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n  return a / b;\n}\n\nvec3 ACESFilmicToneMapping( vec3 color ) {\n  // sRGB => XYZ => D65_2_D60 => AP1 => RRT_SAT\n  const mat3 ACESInputMat = mat3(\n    vec3( 0.59719, 0.07600, 0.02840 ), // transposed from source\n    vec3( 0.35458, 0.90834, 0.13383 ),\n    vec3( 0.04823, 0.01566, 0.83777 )\n  );\n  // ODT_SAT => XYZ => D60_2_D65 => sRGB\n  const mat3 ACESOutputMat = mat3(\n    vec3(  1.60475, -0.10208, -0.00327 ), // transposed from source\n    vec3( -0.53108,  1.10813, -0.07276 ),\n    vec3( -0.07367, -0.00605,  1.07602 )\n  );\n  color = ACESInputMat * color;\n  // Apply RRT and ODT\n  color = RRTAndODTFit( color );\n  color = ACESOutputMat * color;\n  // Clamp to [0, 1]\n  return saturate( color );\n}\n\n// source: https://www.cs.utah.edu/docs/techreports/2002/pdf/UUCS-02-001.pdf\nvec3 ReinhardToneMapping( vec3 color ) {\n  return saturate( color / ( vec3( 1.0 ) + color ) );\n}\n\n// source: http://filmicworlds.com/blog/filmic-tonemapping-operators/\nvec3 CineonToneMapping( vec3 color ) {\n  // optimized filmic operator by Jim Hejl and Richard Burgess-Dawson\n  color = max( vec3( 0.0 ), color - 0.004 );\n  return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n\n// nothing\nvec3 LinearToneMapping ( vec3 color ) {\n  return color;\n}\n\n\nvoid main() {\n  vec4 color = texture2D(map, vUv);\n\n  vec4 exposed = vec4(exposure * color.rgb, color.a);\n\n  vec4 tonemapped = vec4(TONEMAPPING_FUNCTION(exposed.rgb), color.a);\n\n  vec4 adjusted =\n    brightnessMatrix( brightness ) *\n    contrastMatrix( contrast ) *\n    saturationMatrix( saturation ) *\n    tonemapped;\n\n  gl_FragColor = adjusted;\n}\n`;\n/**\n * A Material used to adjust the SDR representation of an HDR image\n *\n * @category Materials\n * @group Materials\n */\nclass SDRMaterial extends ShaderMaterial {\n    /**\n     *\n     * @param params\n     */\n    constructor({ map, toneMapping }) {\n        super({\n            name: 'SDRMaterial',\n            vertexShader: vertexShader$1,\n            fragmentShader: fragmentShader$1,\n            uniforms: {\n                map: { value: map },\n                brightness: { value: 0 },\n                contrast: { value: 1 },\n                saturation: { value: 1 },\n                exposure: { value: 1 }\n            },\n            blending: NoBlending,\n            depthTest: false,\n            depthWrite: false\n        });\n        this._brightness = 0;\n        this._contrast = 1;\n        this._saturation = 1;\n        this._exposure = 1;\n        this._map = map;\n        this.toneMapping = this._toneMapping = toneMapping || ACESFilmicToneMapping;\n        this.needsUpdate = true;\n        this.uniformsNeedUpdate = true;\n    }\n    get toneMapping() { return this._toneMapping; }\n    set toneMapping(value) {\n        let valid = false;\n        switch (value) {\n            case ACESFilmicToneMapping:\n                this.defines.TONEMAPPING_FUNCTION = 'ACESFilmicToneMapping';\n                valid = true;\n                break;\n            case ReinhardToneMapping:\n                this.defines.TONEMAPPING_FUNCTION = 'ReinhardToneMapping';\n                valid = true;\n                break;\n            case CineonToneMapping:\n                this.defines.TONEMAPPING_FUNCTION = 'CineonToneMapping';\n                valid = true;\n                break;\n            case LinearToneMapping:\n                this.defines.TONEMAPPING_FUNCTION = 'LinearToneMapping';\n                valid = true;\n                break;\n            default:\n                console.error(`Unsupported toneMapping: ${value}. Using LinearToneMapping.`);\n                this.defines.TONEMAPPING_FUNCTION = 'LinearToneMapping';\n                this._toneMapping = LinearToneMapping;\n        }\n        if (valid) {\n            this._toneMapping = value;\n        }\n        this.needsUpdate = true;\n    }\n    get brightness() { return this._brightness; }\n    set brightness(value) {\n        this._brightness = value;\n        this.uniforms.brightness.value = value;\n    }\n    get contrast() { return this._contrast; }\n    set contrast(value) {\n        this._contrast = value;\n        this.uniforms.contrast.value = value;\n    }\n    get saturation() { return this._saturation; }\n    set saturation(value) {\n        this._saturation = value;\n        this.uniforms.saturation.value = value;\n    }\n    get exposure() { return this._exposure; }\n    set exposure(value) {\n        this._exposure = value;\n        this.uniforms.exposure.value = value;\n    }\n    get map() { return this._map; }\n    set map(value) {\n        this._map = value;\n        this.uniforms.map.value = value;\n    }\n}\n\n/**\n * Renders an SDR Representation of an HDR Image\n *\n * @category Encoding Functions\n * @group Encoding Functions\n *\n * @param hdrTexture The HDR image to be rendered\n * @param renderer (optional) WebGLRenderer to use during the rendering, a disposable renderer will be create and destroyed if this is not provided.\n * @param toneMapping (optional) Tone mapping to be applied to the SDR Rendition\n * @param renderTargetOptions (optional) Options to use when creating the output renderTarget\n * @throws {Error} if the WebGLRenderer fails to render the SDR image\n */\nconst getSDRRendition = (hdrTexture, renderer, toneMapping, renderTargetOptions) => {\n    hdrTexture.needsUpdate = true;\n    const quadRenderer = new QuadRenderer({\n        width: hdrTexture.image.width,\n        height: hdrTexture.image.height,\n        type: UnsignedByteType,\n        colorSpace: SRGBColorSpace,\n        material: new SDRMaterial({ map: hdrTexture, toneMapping }),\n        renderer,\n        renderTargetOptions\n    });\n    try {\n        quadRenderer.render();\n    }\n    catch (e) {\n        quadRenderer.disposeOnDemandRenderer();\n        throw e;\n    }\n    return quadRenderer;\n};\n\n/**\n * Encodes a Gainmap starting from an HDR file.\n *\n * @remarks\n * if you do not pass a `renderer` parameter\n * you must manually dispose the result\n * ```js\n * const encodingResult = await encode({ ... })\n * // do something with the buffers\n * const sdr = encodingResult.sdr.getArray()\n * const gainMap = encodingResult.gainMap.getArray()\n * // after that\n * encodingResult.sdr.dispose()\n * encodingResult.gainMap.dispose()\n * ```\n *\n * @category Encoding Functions\n * @group Encoding Functions\n *\n * @example\n * import { encode, findTextureMinMax } from '@monogrid/gainmap-js'\n * import { EXRLoader } from 'three/examples/jsm/loaders/EXRLoader.js'\n *\n * // load an HDR file\n * const loader = new EXRLoader()\n * const image = await loader.loadAsync('image.exr')\n *\n * // find RAW RGB Max value of a texture\n * const textureMax = await findTextureMinMax(image)\n *\n * // Encode the gainmap\n * const encodingResult = encode({\n *   image,\n *   // this will encode the full HDR range\n *   maxContentBoost: Math.max.apply(this, textureMax)\n * })\n * // can be re-encoded after changing parameters\n * encodingResult.sdr.material.exposure = 0.9\n * encodingResult.sdr.render()\n * // or\n * encodingResult.gainMap.material.gamma = [1.1, 1.1, 1.1]\n * encodingResult.gainMap.render()\n *\n * // do something with encodingResult.gainMap.toArray()\n * // and encodingResult.sdr.toArray()\n *\n * // renderers must be manually disposed\n * encodingResult.sdr.dispose()\n * encodingResult.gainMap.dispose()\n *\n * @param params Encoding Parameters\n * @returns\n */\nconst encode = (params) => {\n    const { image, renderer } = params;\n    const dataTexture = getDataTexture(image);\n    const sdr = getSDRRendition(dataTexture, renderer, params.toneMapping, params.renderTargetOptions);\n    const gainMapRenderer = getGainMap({\n        ...params,\n        image: dataTexture,\n        sdr,\n        renderer: sdr.renderer // reuse the same (maybe disposable?) renderer\n    });\n    return {\n        sdr,\n        gainMap: gainMapRenderer,\n        hdr: dataTexture,\n        getMetadata: () => {\n            return {\n                gainMapMax: gainMapRenderer.material.gainMapMax,\n                gainMapMin: gainMapRenderer.material.gainMapMin,\n                gamma: gainMapRenderer.material.gamma,\n                hdrCapacityMax: gainMapRenderer.material.hdrCapacityMax,\n                hdrCapacityMin: gainMapRenderer.material.hdrCapacityMin,\n                offsetHdr: gainMapRenderer.material.offsetHdr,\n                offsetSdr: gainMapRenderer.material.offsetSdr\n            };\n        }\n    };\n};\n\n/**\n * Encodes a Gainmap starting from an HDR file into compressed file formats (`image/jpeg`, `image/webp` or `image/png`).\n *\n * Uses {@link encode} internally, then pipes the results to {@link compress}.\n *\n * @remarks\n * if a `renderer` parameter is not provided\n * This function will automatically dispose its \"disposable\"\n * renderer, no need to dispose it manually later\n *\n * @category Encoding Functions\n * @group Encoding Functions\n * @example\n * import { encodeAndCompress, findTextureMinMax } from '@monogrid/gainmap-js'\n * import { encodeJPEGMetadata } from '@monogrid/gainmap-js/libultrahdr'\n * import { EXRLoader } from 'three/examples/jsm/loaders/EXRLoader.js'\n *\n * // load an HDR file\n * const loader = new EXRLoader()\n * const image = await loader.loadAsync('image.exr')\n *\n * // find RAW RGB Max value of a texture\n * const textureMax = await findTextureMinMax(image)\n *\n * // Encode the gainmap\n * const encodingResult = await encodeAndCompress({\n *   image,\n *   maxContentBoost: Math.max.apply(this, textureMax),\n *   mimeType: 'image/jpeg'\n * })\n *\n * // embed the compressed images + metadata into a single\n * // JPEG file\n * const jpeg = await encodeJPEGMetadata({\n *   ...encodingResult,\n *   sdr: encodingResult.sdr,\n *   gainMap: encodingResult.gainMap\n * })\n *\n * // `jpeg` will be an `Uint8Array` which can be saved somewhere\n *\n *\n * @param params Encoding Parameters\n * @throws {Error} if the browser does not support [createImageBitmap](https://caniuse.com/createimagebitmap)\n */\nconst encodeAndCompress = async (params) => {\n    const encodingResult = encode(params);\n    const { mimeType, quality, flipY, withWorker } = params;\n    let compressResult;\n    let rawSDR;\n    let rawGainMap;\n    const sdrImageData = new ImageData(encodingResult.sdr.toArray(), encodingResult.sdr.width, encodingResult.sdr.height);\n    const gainMapImageData = new ImageData(encodingResult.gainMap.toArray(), encodingResult.gainMap.width, encodingResult.gainMap.height);\n    if (withWorker) {\n        const workerResult = await Promise.all([\n            withWorker.compress({\n                source: sdrImageData,\n                mimeType,\n                quality,\n                flipY\n            }),\n            withWorker.compress({\n                source: gainMapImageData,\n                mimeType,\n                quality,\n                flipY\n            })\n        ]);\n        compressResult = workerResult;\n        rawSDR = workerResult[0].source;\n        rawGainMap = workerResult[1].source;\n    }\n    else {\n        compressResult = await Promise.all([\n            compress({\n                source: sdrImageData,\n                mimeType,\n                quality,\n                flipY\n            }),\n            compress({\n                source: gainMapImageData,\n                mimeType,\n                quality,\n                flipY\n            })\n        ]);\n        rawSDR = sdrImageData.data;\n        rawGainMap = gainMapImageData.data;\n    }\n    encodingResult.sdr.dispose();\n    encodingResult.gainMap.dispose();\n    return {\n        ...encodingResult,\n        ...encodingResult.getMetadata(),\n        sdr: compressResult[0],\n        gainMap: compressResult[1],\n        rawSDR,\n        rawGainMap\n    };\n};\n\nconst vertexShader = /* glsl */ `\nvarying vec2 vUv;\nvoid main() {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n`;\nconst fragmentShader = /* glsl */ `\nprecision mediump float;\n\n#ifndef CELL_SIZE\n  #define CELL_SIZE 2\n#endif\n\n#ifndef COMPARE_FUNCTION\n  #define COMPARE_FUNCTION max\n#endif\n\n#ifndef INITIAL_VALUE\n  #define INITIAL_VALUE 0\n#endif\n\nuniform sampler2D map;\nuniform vec2 u_srcResolution;\n\nvarying vec2 vUv;\n\nvoid main() {\n  // compute the first pixel the source cell\n  vec2 srcPixel = floor(gl_FragCoord.xy) * float(CELL_SIZE);\n\n  // one pixel in source\n  vec2 onePixel = vec2(1) / u_srcResolution;\n\n  // uv for first pixel in cell. +0.5 for center of pixel\n  vec2 uv = (srcPixel + 0.5) * onePixel;\n\n  vec4 resultColor = vec4(INITIAL_VALUE);\n\n  for (int y = 0; y < CELL_SIZE; ++y) {\n    for (int x = 0; x < CELL_SIZE; ++x) {\n      resultColor = COMPARE_FUNCTION(resultColor, texture2D(map, uv + vec2(x, y) * onePixel));\n    }\n  }\n\n  gl_FragColor = resultColor;\n}\n`;\n/**\n *\n * @category Utility\n * @group Utility\n *\n * @param srcTex\n * @param mode\n * @param renderer\n * @returns\n */\nconst findTextureMinMax = (image, mode = 'max', renderer) => {\n    const srcTex = getDataTexture(image);\n    const cellSize = 2;\n    const mat = new ShaderMaterial({\n        vertexShader,\n        fragmentShader,\n        uniforms: {\n            u_srcResolution: { value: new Vector2(srcTex.image.width, srcTex.image.height) },\n            map: { value: srcTex }\n        },\n        defines: {\n            CELL_SIZE: cellSize,\n            COMPARE_FUNCTION: mode,\n            INITIAL_VALUE: mode === 'max' ? 0 : 65504 // max half float value\n        }\n    });\n    srcTex.needsUpdate = true;\n    mat.needsUpdate = true;\n    let w = srcTex.image.width;\n    let h = srcTex.image.height;\n    const quadRenderer = new QuadRenderer({\n        width: w,\n        height: h,\n        type: srcTex.type,\n        colorSpace: srcTex.colorSpace,\n        material: mat,\n        renderer\n    });\n    const frameBuffers = [];\n    while (w > 1 || h > 1) {\n        w = Math.max(1, (w + cellSize - 1) / cellSize | 0);\n        h = Math.max(1, (h + cellSize - 1) / cellSize | 0);\n        const fb = new WebGLRenderTarget(w, h, {\n            type: quadRenderer.type,\n            format: srcTex.format,\n            colorSpace: quadRenderer.colorSpace,\n            minFilter: NearestFilter,\n            magFilter: NearestFilter,\n            wrapS: ClampToEdgeWrapping,\n            wrapT: ClampToEdgeWrapping,\n            generateMipmaps: false,\n            depthBuffer: false,\n            stencilBuffer: false\n        });\n        frameBuffers.push(fb);\n    }\n    w = srcTex.image.width;\n    h = srcTex.image.height;\n    frameBuffers.forEach((fbi) => {\n        w = Math.max(1, (w + cellSize - 1) / cellSize | 0);\n        h = Math.max(1, (h + cellSize - 1) / cellSize | 0);\n        quadRenderer.renderTarget = fbi;\n        quadRenderer.render();\n        mat.uniforms.map.value = fbi.texture;\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n        mat.uniforms.u_srcResolution.value.x = w;\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n        mat.uniforms.u_srcResolution.value.y = h;\n    });\n    const out = quadRenderer.toArray();\n    quadRenderer.dispose();\n    frameBuffers.forEach(fb => fb.dispose());\n    return [\n        quadRenderer.type === FloatType ? out[0] : DataUtils.fromHalfFloat(out[0]),\n        quadRenderer.type === FloatType ? out[1] : DataUtils.fromHalfFloat(out[1]),\n        quadRenderer.type === FloatType ? out[2] : DataUtils.fromHalfFloat(out[2])\n    ];\n};\n\nexport { GainMapEncoderMaterial, SDRMaterial, compress, encode, encodeAndCompress, findTextureMinMax, getGainMap, getSDRRendition };\n","/* eslint-disable */\r\n// NOTE: modified version of monogrid source file to patch it\r\n// so it works with parcel\r\n\r\n/**\r\n * @monogrid/gainmap-js v3.0.5\r\n * With , by MONOGRID <rnd@monogrid.com>\r\n */\r\n\r\nvar Module = (() => {\r\n\tvar _scriptDir = import.meta.url;\r\n\r\n\treturn (\r\n  async function(moduleArg = {}) {\r\n\r\n  // include: shell.js\r\n  // The Module object: Our interface to the outside world. We import\r\n  // and export values on it. There are various ways Module can be used:\r\n  // 1. Not defined. We create it here\r\n  // 2. A function parameter, function(Module) { ..generated code.. }\r\n  // 3. pre-run appended it, var Module = {}; ..generated code..\r\n  // 4. External script tag defines var Module.\r\n  // We need to check if Module already exists (e.g. case 3 above).\r\n  // Substitution will be replaced with actual code on later stage of the build,\r\n  // this way Closure Compiler will not mangle it (e.g. case 4. above).\r\n  // Note that if you want to run closure, and also to use Module\r\n  // after the generated code, you will need to define   var Module = {};\r\n  // before the code. Then that object will be used in the code, and you\r\n  // can continue to use Module afterwards as well.\r\n  var Module = moduleArg;\r\n\r\n  // Set up the promise that indicates the Module is initialized\r\n  var readyPromiseResolve, readyPromiseReject;\r\n  Module['ready'] = new Promise((resolve, reject) => {\r\n\treadyPromiseResolve = resolve;\r\n\treadyPromiseReject = reject;\r\n  });\r\n  [\"_main\",\"_memory\",\"___indirect_function_table\",\"__embind_initialize_bindings\",\"_fflush\",\"onRuntimeInitialized\"].forEach((prop) => {\r\n\tif (!Object.getOwnPropertyDescriptor(Module['ready'], prop)) {\r\n\t  Object.defineProperty(Module['ready'], prop, {\r\n\t\tget: () => abort('You are getting ' + prop + ' on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js'),\r\n\t\tset: () => abort('You are setting ' + prop + ' on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js'),\r\n\t  });\r\n\t}\r\n  });\r\n\r\n  // --pre-jses are emitted after the Module integration code, so that they can\r\n  // refer to Module (if they choose; they can also define Module)\r\n\r\n\r\n  // Sometimes an existing Module object exists with properties\r\n  // meant to overwrite the default module functionality. Here\r\n  // we collect those properties and reapply _after_ we configure\r\n  // the current environment's defaults to avoid having to be so\r\n  // defensive during initialization.\r\n  var moduleOverrides = Object.assign({}, Module);\r\n  var thisProgram = './this.program';\r\n  var quit_ = (status, toThrow) => {\r\n\tthrow toThrow;\r\n  };\r\n\r\n  // Determine the runtime environment we are in. You can customize this by\r\n  // setting the ENVIRONMENT setting at compile time (see settings.js).\r\n\r\n  // Attempt to auto-detect the environment\r\n  var ENVIRONMENT_IS_WEB = typeof window == 'object';\r\n  var ENVIRONMENT_IS_WORKER = typeof importScripts == 'function';\r\n  // N.b. Electron.js environment is simultaneously a NODE-environment, but\r\n  // also a web environment.\r\n  var ENVIRONMENT_IS_NODE = typeof process == 'object' && typeof process.versions == 'object' && typeof process.versions.node == 'string';\r\n  var ENVIRONMENT_IS_SHELL = !ENVIRONMENT_IS_WEB && !ENVIRONMENT_IS_NODE && !ENVIRONMENT_IS_WORKER;\r\n\r\n  if (Module['ENVIRONMENT']) {\r\n\tthrow new Error('Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)');\r\n  }\r\n\r\n  // `/` should be present at the end if `scriptDirectory` is not empty\r\n  var scriptDirectory = '';\r\n  function locateFile(path) {\r\n\tif (Module['locateFile']) {\r\n\t  return Module['locateFile'](path, scriptDirectory);\r\n\t}\r\n\treturn scriptDirectory + path;\r\n  }\r\n\r\n  // Hooks that are implemented differently in different runtime environments.\r\n  var read_,\r\n\t  readAsync,\r\n\t  readBinary;\r\n\r\n  if (ENVIRONMENT_IS_NODE) {\r\n\tif (typeof process == 'undefined' || !process.release || process.release.name !== 'node') throw new Error('not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)');\r\n\r\n\tvar nodeVersion = process.versions.node;\r\n\tvar numericVersion = nodeVersion.split('.').slice(0, 3);\r\n\tnumericVersion = (numericVersion[0] * 10000) + (numericVersion[1] * 100) + (numericVersion[2].split('-')[0] * 1);\r\n\tif (numericVersion < 160000) {\r\n\t  throw new Error('This emscripten-generated code requires node v16.0.0 (detected v' + nodeVersion + ')');\r\n\t}\r\n\r\n\t// `require()` is no-op in an ESM module, use `createRequire()` to construct\r\n\t// the require()` function.  This is only necessary for multi-environment\r\n\t// builds, `-sENVIRONMENT=node` emits a static import declaration instead.\r\n\t// TODO: Swap all `require()`'s with `import()`'s?\r\n\tconst { createRequire } = await import('module');\r\n\t/** @suppress{duplicate} */\r\n\tvar require = createRequire(import.meta.url);\r\n\t// These modules will usually be used on Node.js. Load them eagerly to avoid\r\n\t// the complexity of lazy-loading.\r\n\tvar fs = require('fs');\r\n\tvar nodePath = require('path');\r\n\r\n\tif (ENVIRONMENT_IS_WORKER) {\r\n\t  scriptDirectory = nodePath.dirname(scriptDirectory) + '/';\r\n\t} else {\r\n\t  // EXPORT_ES6 + ENVIRONMENT_IS_NODE always requires use of import.meta.url,\r\n\t  // since there's no way getting the current absolute path of the module when\r\n\t  // support for that is not available.\r\n\t//   scriptDirectory = require('url').fileURLToPath(new URL('./', import.meta.url)); // includes trailing slash\r\n\t}\r\n\r\n  // include: node_shell_read.js\r\n  read_ = (filename, binary) => {\r\n\t// We need to re-wrap `file://` strings to URLs. Normalizing isn't\r\n\t// necessary in that case, the path should already be absolute.\r\n\tfilename = isFileURI(filename) ? new URL(filename) : nodePath.normalize(filename);\r\n\treturn fs.readFileSync(filename, binary ? undefined : 'utf8');\r\n  };\r\n\r\n  readBinary = (filename) => {\r\n\tvar ret = read_(filename, true);\r\n\tif (!ret.buffer) {\r\n\t  ret = new Uint8Array(ret);\r\n\t}\r\n\tassert(ret.buffer);\r\n\treturn ret;\r\n  };\r\n\r\n  readAsync = (filename, onload, onerror, binary = true) => {\r\n\t// See the comment in the `read_` function.\r\n\tfilename = isFileURI(filename) ? new URL(filename) : nodePath.normalize(filename);\r\n\tfs.readFile(filename, binary ? undefined : 'utf8', (err, data) => {\r\n\t  if (err) onerror(err);\r\n\t  else onload(binary ? data.buffer : data);\r\n\t});\r\n  };\r\n  // end include: node_shell_read.js\r\n\tif (!Module['thisProgram'] && process.argv.length > 1) {\r\n\t  thisProgram = process.argv[1].replace(/\\\\/g, '/');\r\n\t}\r\n\r\n\tprocess.argv.slice(2);\r\n\r\n\t// MODULARIZE will export the module in the proper place outside, we don't need to export here\r\n\r\n\tquit_ = (status, toThrow) => {\r\n\t  process.exitCode = status;\r\n\t  throw toThrow;\r\n\t};\r\n\r\n\tModule['inspect'] = () => '[Emscripten Module object]';\r\n\r\n  } else\r\n  if (ENVIRONMENT_IS_SHELL) {\r\n\r\n\tif ((typeof process == 'object' && typeof require === 'function') || typeof window == 'object' || typeof importScripts == 'function') throw new Error('not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)');\r\n\r\n\tif (typeof read != 'undefined') {\r\n\t  read_ = read;\r\n\t}\r\n\r\n\treadBinary = (f) => {\r\n\t  if (typeof readbuffer == 'function') {\r\n\t\treturn new Uint8Array(readbuffer(f));\r\n\t  }\r\n\t  let data = read(f, 'binary');\r\n\t  assert(typeof data == 'object');\r\n\t  return data;\r\n\t};\r\n\r\n\treadAsync = (f, onload, onerror) => {\r\n\t  setTimeout(() => onload(readBinary(f)));\r\n\t};\r\n\r\n\tif (typeof clearTimeout == 'undefined') {\r\n\t  globalThis.clearTimeout = (id) => {};\r\n\t}\r\n\r\n\tif (typeof setTimeout == 'undefined') {\r\n\t  // spidermonkey lacks setTimeout but we use it above in readAsync.\r\n\t  globalThis.setTimeout = (f) => (typeof f == 'function') ? f() : abort();\r\n\t}\r\n\r\n\tif (typeof scriptArgs != 'undefined') {\r\n\t  scriptArgs;\r\n\t}\r\n\r\n\tif (typeof quit == 'function') {\r\n\t  quit_ = (status, toThrow) => {\r\n\t\t// Unlike node which has process.exitCode, d8 has no such mechanism. So we\r\n\t\t// have no way to set the exit code and then let the program exit with\r\n\t\t// that code when it naturally stops running (say, when all setTimeouts\r\n\t\t// have completed). For that reason, we must call `quit` - the only way to\r\n\t\t// set the exit code - but quit also halts immediately.  To increase\r\n\t\t// consistency with node (and the web) we schedule the actual quit call\r\n\t\t// using a setTimeout to give the current stack and any exception handlers\r\n\t\t// a chance to run.  This enables features such as addOnPostRun (which\r\n\t\t// expected to be able to run code after main returns).\r\n\t\tsetTimeout(() => {\r\n\t\t  if (!(toThrow instanceof ExitStatus)) {\r\n\t\t\tlet toLog = toThrow;\r\n\t\t\tif (toThrow && typeof toThrow == 'object' && toThrow.stack) {\r\n\t\t\t  toLog = [toThrow, toThrow.stack];\r\n\t\t\t}\r\n\t\t\terr(`exiting due to exception: ${toLog}`);\r\n\t\t  }\r\n\t\t  quit(status);\r\n\t\t});\r\n\t\tthrow toThrow;\r\n\t  };\r\n\t}\r\n\r\n\tif (typeof print != 'undefined') {\r\n\t  // Prefer to use print/printErr where they exist, as they usually work better.\r\n\t  if (typeof console == 'undefined') console = /** @type{!Console} */({});\r\n\t  console.log = /** @type{!function(this:Console, ...*): undefined} */ (print);\r\n\t  console.warn = console.error = /** @type{!function(this:Console, ...*): undefined} */ (typeof printErr != 'undefined' ? printErr : print);\r\n\t}\r\n\r\n  } else\r\n\r\n  // Note that this includes Node.js workers when relevant (pthreads is enabled).\r\n  // Node.js workers are detected as a combination of ENVIRONMENT_IS_WORKER and\r\n  // ENVIRONMENT_IS_NODE.\r\n  if (ENVIRONMENT_IS_WEB || ENVIRONMENT_IS_WORKER) {\r\n\tif (ENVIRONMENT_IS_WORKER) { // Check worker, not web, since window could be polyfilled\r\n\t  scriptDirectory = self.location.href;\r\n\t} else if (typeof document != 'undefined' && document.currentScript) { // web\r\n\t  scriptDirectory = document.currentScript.src;\r\n\t}\r\n\t// When MODULARIZE, this JS may be executed later, after document.currentScript\r\n\t// is gone, so we saved it, and we use it here instead of any other info.\r\n\tif (_scriptDir) {\r\n\t  scriptDirectory = _scriptDir;\r\n\t}\r\n\t// blob urls look like blob:http://site.com/etc/etc and we cannot infer anything from them.\r\n\t// otherwise, slice off the final part of the url to find the script directory.\r\n\t// if scriptDirectory does not contain a slash, lastIndexOf will return -1,\r\n\t// and scriptDirectory will correctly be replaced with an empty string.\r\n\t// If scriptDirectory contains a query (starting with ?) or a fragment (starting with #),\r\n\t// they are removed because they could contain a slash.\r\n\tif (scriptDirectory.indexOf('blob:') !== 0) {\r\n\t  scriptDirectory = scriptDirectory.substr(0, scriptDirectory.replace(/[?#].*/, \"\").lastIndexOf('/')+1);\r\n\t} else {\r\n\t  scriptDirectory = '';\r\n\t}\r\n\r\n\tif (!(typeof window == 'object' || typeof importScripts == 'function')) throw new Error('not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)');\r\n\r\n\t// Differentiate the Web Worker from the Node Worker case, as reading must\r\n\t// be done differently.\r\n\t{\r\n  // include: web_or_worker_shell_read.js\r\n  read_ = (url) => {\r\n\t  var xhr = new XMLHttpRequest();\r\n\t  xhr.open('GET', url, false);\r\n\t  xhr.send(null);\r\n\t  return xhr.responseText;\r\n\t};\r\n\r\n\tif (ENVIRONMENT_IS_WORKER) {\r\n\t  readBinary = (url) => {\r\n\t\tvar xhr = new XMLHttpRequest();\r\n\t\txhr.open('GET', url, false);\r\n\t\txhr.responseType = 'arraybuffer';\r\n\t\txhr.send(null);\r\n\t\treturn new Uint8Array(/** @type{!ArrayBuffer} */(xhr.response));\r\n\t  };\r\n\t}\r\n\r\n\treadAsync = (url, onload, onerror) => {\r\n\t  var xhr = new XMLHttpRequest();\r\n\t  xhr.open('GET', url, true);\r\n\t  xhr.responseType = 'arraybuffer';\r\n\t  xhr.onload = () => {\r\n\t\tif (xhr.status == 200 || (xhr.status == 0 && xhr.response)) { // file URLs can return 0\r\n\t\t  onload(xhr.response);\r\n\t\t  return;\r\n\t\t}\r\n\t\tonerror();\r\n\t  };\r\n\t  xhr.onerror = onerror;\r\n\t  xhr.send(null);\r\n\t};\r\n\r\n  // end include: web_or_worker_shell_read.js\r\n\t}\r\n  } else\r\n  {\r\n\tthrow new Error('environment detection error');\r\n  }\r\n\r\n  var out = Module['print'] || console.log.bind(console);\r\n  var err = Module['printErr'] || console.error.bind(console);\r\n\r\n  // Merge back in the overrides\r\n  Object.assign(Module, moduleOverrides);\r\n  // Free the object hierarchy contained in the overrides, this lets the GC\r\n  // reclaim data used e.g. in memoryInitializerRequest, which is a large typed array.\r\n  moduleOverrides = null;\r\n  checkIncomingModuleAPI();\r\n\r\n  // Emit code to handle expected values on the Module object. This applies Module.x\r\n  // to the proper local x. This has two benefits: first, we only emit it if it is\r\n  // expected to arrive, and second, by using a local everywhere else that can be\r\n  // minified.\r\n\r\n  if (Module['arguments']) Module['arguments'];legacyModuleProp('arguments', 'arguments_');\r\n\r\n  if (Module['thisProgram']) thisProgram = Module['thisProgram'];legacyModuleProp('thisProgram', 'thisProgram');\r\n\r\n  if (Module['quit']) quit_ = Module['quit'];legacyModuleProp('quit', 'quit_');\r\n\r\n  // perform assertions in shell.js after we set up out() and err(), as otherwise if an assertion fails it cannot print the message\r\n  // Assertions on removed incoming Module JS APIs.\r\n  assert(typeof Module['memoryInitializerPrefixURL'] == 'undefined', 'Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead');\r\n  assert(typeof Module['pthreadMainPrefixURL'] == 'undefined', 'Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead');\r\n  assert(typeof Module['cdInitializerPrefixURL'] == 'undefined', 'Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead');\r\n  assert(typeof Module['filePackagePrefixURL'] == 'undefined', 'Module.filePackagePrefixURL option was removed, use Module.locateFile instead');\r\n  assert(typeof Module['read'] == 'undefined', 'Module.read option was removed (modify read_ in JS)');\r\n  assert(typeof Module['readAsync'] == 'undefined', 'Module.readAsync option was removed (modify readAsync in JS)');\r\n  assert(typeof Module['readBinary'] == 'undefined', 'Module.readBinary option was removed (modify readBinary in JS)');\r\n  assert(typeof Module['setWindowTitle'] == 'undefined', 'Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)');\r\n  assert(typeof Module['TOTAL_MEMORY'] == 'undefined', 'Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY');\r\n  legacyModuleProp('asm', 'wasmExports');\r\n  legacyModuleProp('read', 'read_');\r\n  legacyModuleProp('readAsync', 'readAsync');\r\n  legacyModuleProp('readBinary', 'readBinary');\r\n  legacyModuleProp('setWindowTitle', 'setWindowTitle');\r\n\r\n  assert(!ENVIRONMENT_IS_SHELL, \"shell environment detected but not enabled at build time.  Add 'shell' to `-sENVIRONMENT` to enable.\");\r\n\r\n\r\n  // end include: shell.js\r\n  // include: preamble.js\r\n  // === Preamble library stuff ===\r\n\r\n  // Documentation for the public APIs defined in this file must be updated in:\r\n  //    site/source/docs/api_reference/preamble.js.rst\r\n  // A prebuilt local version of the documentation is available at:\r\n  //    site/build/text/docs/api_reference/preamble.js.txt\r\n  // You can also build docs locally as HTML or other formats in site/\r\n  // An online HTML version (which may be of a different version of Emscripten)\r\n  //    is up at http://kripken.github.io/emscripten-site/docs/api_reference/preamble.js.html\r\n\r\n  var wasmBinary;\r\n  if (Module['wasmBinary']) wasmBinary = Module['wasmBinary'];legacyModuleProp('wasmBinary', 'wasmBinary');\r\n\r\n  if (typeof WebAssembly != 'object') {\r\n\tabort('no native wasm support detected');\r\n  }\r\n\r\n  // Wasm globals\r\n\r\n  var wasmMemory;\r\n\r\n  //========================================\r\n  // Runtime essentials\r\n  //========================================\r\n\r\n  // whether we are quitting the application. no code should run after this.\r\n  // set in exit() and abort()\r\n  var ABORT = false;\r\n\r\n  // set by exit() and abort().  Passed to 'onExit' handler.\r\n  // NOTE: This is also used as the process return code code in shell environments\r\n  // but only when noExitRuntime is false.\r\n  var EXITSTATUS;\r\n\r\n  /** @type {function(*, string=)} */\r\n  function assert(condition, text) {\r\n\tif (!condition) {\r\n\t  abort('Assertion failed' + (text ? ': ' + text : ''));\r\n\t}\r\n  }\r\n\r\n  // We used to include malloc/free by default in the past. Show a helpful error in\r\n  // builds with assertions.\r\n\r\n  // Memory management\r\n\r\n  var /** @type {!Int8Array} */\r\n\tHEAP8,\r\n  /** @type {!Uint8Array} */\r\n\tHEAPU8,\r\n  /** @type {!Int16Array} */\r\n\tHEAP16,\r\n  /** @type {!Uint16Array} */\r\n\tHEAPU16,\r\n  /** @type {!Int32Array} */\r\n\tHEAP32,\r\n  /** @type {!Uint32Array} */\r\n\tHEAPU32,\r\n  /** @type {!Float32Array} */\r\n\tHEAPF32,\r\n  /** @type {!Float64Array} */\r\n\tHEAPF64;\r\n\r\n  function updateMemoryViews() {\r\n\tvar b = wasmMemory.buffer;\r\n\tModule['HEAP8'] = HEAP8 = new Int8Array(b);\r\n\tModule['HEAP16'] = HEAP16 = new Int16Array(b);\r\n\tModule['HEAPU8'] = HEAPU8 = new Uint8Array(b);\r\n\tModule['HEAPU16'] = HEAPU16 = new Uint16Array(b);\r\n\tModule['HEAP32'] = HEAP32 = new Int32Array(b);\r\n\tModule['HEAPU32'] = HEAPU32 = new Uint32Array(b);\r\n\tModule['HEAPF32'] = HEAPF32 = new Float32Array(b);\r\n\tModule['HEAPF64'] = HEAPF64 = new Float64Array(b);\r\n  }\r\n\r\n  assert(!Module['STACK_SIZE'], 'STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time');\r\n\r\n  assert(typeof Int32Array != 'undefined' && typeof Float64Array !== 'undefined' && Int32Array.prototype.subarray != undefined && Int32Array.prototype.set != undefined,\r\n\t\t 'JS engine does not provide full typed array support');\r\n\r\n  // If memory is defined in wasm, the user can't provide it, or set INITIAL_MEMORY\r\n  assert(!Module['wasmMemory'], 'Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally');\r\n  assert(!Module['INITIAL_MEMORY'], 'Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically');\r\n\r\n  // include: runtime_stack_check.js\r\n  // Initializes the stack cookie. Called at the startup of main and at the startup of each thread in pthreads mode.\r\n  function writeStackCookie() {\r\n\tvar max = _emscripten_stack_get_end();\r\n\tassert((max & 3) == 0);\r\n\t// If the stack ends at address zero we write our cookies 4 bytes into the\r\n\t// stack.  This prevents interference with SAFE_HEAP and ASAN which also\r\n\t// monitor writes to address zero.\r\n\tif (max == 0) {\r\n\t  max += 4;\r\n\t}\r\n\t// The stack grow downwards towards _emscripten_stack_get_end.\r\n\t// We write cookies to the final two words in the stack and detect if they are\r\n\t// ever overwritten.\r\n\tHEAPU32[((max)>>2)] = 0x02135467;\r\n\tHEAPU32[(((max)+(4))>>2)] = 0x89BACDFE;\r\n\t// Also test the global address 0 for integrity.\r\n\tHEAPU32[((0)>>2)] = 1668509029;\r\n  }\r\n\r\n  function checkStackCookie() {\r\n\tif (ABORT) return;\r\n\tvar max = _emscripten_stack_get_end();\r\n\t// See writeStackCookie().\r\n\tif (max == 0) {\r\n\t  max += 4;\r\n\t}\r\n\tvar cookie1 = HEAPU32[((max)>>2)];\r\n\tvar cookie2 = HEAPU32[(((max)+(4))>>2)];\r\n\tif (cookie1 != 0x02135467 || cookie2 != 0x89BACDFE) {\r\n\t  abort(`Stack overflow! Stack cookie has been overwritten at ${ptrToString(max)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${ptrToString(cookie2)} ${ptrToString(cookie1)}`);\r\n\t}\r\n\t// Also test the global address 0 for integrity.\r\n\tif (HEAPU32[((0)>>2)] != 0x63736d65 /* 'emsc' */) {\r\n\t  abort('Runtime error: The application has corrupted its heap memory area (address zero)!');\r\n\t}\r\n  }\r\n  // end include: runtime_stack_check.js\r\n  // include: runtime_assertions.js\r\n  // Endianness check\r\n  (function() {\r\n\tvar h16 = new Int16Array(1);\r\n\tvar h8 = new Int8Array(h16.buffer);\r\n\th16[0] = 0x6373;\r\n\tif (h8[0] !== 0x73 || h8[1] !== 0x63) throw 'Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)';\r\n  })();\r\n\r\n  // end include: runtime_assertions.js\r\n  var __ATPRERUN__  = []; // functions called before the runtime is initialized\r\n  var __ATINIT__    = []; // functions called during startup\r\n  var __ATMAIN__    = []; // functions called when main() is to be run\r\n  var __ATPOSTRUN__ = []; // functions called after the main() is called\r\n\r\n  var runtimeInitialized = false;\r\n\r\n  function preRun() {\r\n\tif (Module['preRun']) {\r\n\t  if (typeof Module['preRun'] == 'function') Module['preRun'] = [Module['preRun']];\r\n\t  while (Module['preRun'].length) {\r\n\t\taddOnPreRun(Module['preRun'].shift());\r\n\t  }\r\n\t}\r\n\tcallRuntimeCallbacks(__ATPRERUN__);\r\n  }\r\n\r\n  function initRuntime() {\r\n\tassert(!runtimeInitialized);\r\n\truntimeInitialized = true;\r\n\r\n\tcheckStackCookie();\r\n\r\n\r\n  if (!Module[\"noFSInit\"] && !FS.init.initialized)\r\n\tFS.init();\r\n  FS.ignorePermissions = false;\r\n\tcallRuntimeCallbacks(__ATINIT__);\r\n  }\r\n\r\n  function preMain() {\r\n\tcheckStackCookie();\r\n\r\n\tcallRuntimeCallbacks(__ATMAIN__);\r\n  }\r\n\r\n  function postRun() {\r\n\tcheckStackCookie();\r\n\r\n\tif (Module['postRun']) {\r\n\t  if (typeof Module['postRun'] == 'function') Module['postRun'] = [Module['postRun']];\r\n\t  while (Module['postRun'].length) {\r\n\t\taddOnPostRun(Module['postRun'].shift());\r\n\t  }\r\n\t}\r\n\r\n\tcallRuntimeCallbacks(__ATPOSTRUN__);\r\n  }\r\n\r\n  function addOnPreRun(cb) {\r\n\t__ATPRERUN__.unshift(cb);\r\n  }\r\n\r\n  function addOnInit(cb) {\r\n\t__ATINIT__.unshift(cb);\r\n  }\r\n\r\n  function addOnPostRun(cb) {\r\n\t__ATPOSTRUN__.unshift(cb);\r\n  }\r\n\r\n  // include: runtime_math.js\r\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/imul\r\n\r\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/fround\r\n\r\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/clz32\r\n\r\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/trunc\r\n\r\n  assert(Math.imul, 'This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill');\r\n  assert(Math.fround, 'This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill');\r\n  assert(Math.clz32, 'This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill');\r\n  assert(Math.trunc, 'This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill');\r\n  // end include: runtime_math.js\r\n  // A counter of dependencies for calling run(). If we need to\r\n  // do asynchronous work before running, increment this and\r\n  // decrement it. Incrementing must happen in a place like\r\n  // Module.preRun (used by emcc to add file preloading).\r\n  // Note that you can add dependencies in preRun, even though\r\n  // it happens right before run - run will be postponed until\r\n  // the dependencies are met.\r\n  var runDependencies = 0;\r\n  var runDependencyWatcher = null;\r\n  var dependenciesFulfilled = null; // overridden to take different actions when all run dependencies are fulfilled\r\n  var runDependencyTracking = {};\r\n\r\n  function getUniqueRunDependency(id) {\r\n\tvar orig = id;\r\n\twhile (1) {\r\n\t  if (!runDependencyTracking[id]) return id;\r\n\t  id = orig + Math.random();\r\n\t}\r\n  }\r\n\r\n  function addRunDependency(id) {\r\n\trunDependencies++;\r\n\r\n\tif (Module['monitorRunDependencies']) {\r\n\t  Module['monitorRunDependencies'](runDependencies);\r\n\t}\r\n\r\n\tif (id) {\r\n\t  assert(!runDependencyTracking[id]);\r\n\t  runDependencyTracking[id] = 1;\r\n\t  if (runDependencyWatcher === null && typeof setInterval != 'undefined') {\r\n\t\t// Check for missing dependencies every few seconds\r\n\t\trunDependencyWatcher = setInterval(() => {\r\n\t\t  if (ABORT) {\r\n\t\t\tclearInterval(runDependencyWatcher);\r\n\t\t\trunDependencyWatcher = null;\r\n\t\t\treturn;\r\n\t\t  }\r\n\t\t  var shown = false;\r\n\t\t  for (var dep in runDependencyTracking) {\r\n\t\t\tif (!shown) {\r\n\t\t\t  shown = true;\r\n\t\t\t  err('still waiting on run dependencies:');\r\n\t\t\t}\r\n\t\t\terr(`dependency: ${dep}`);\r\n\t\t  }\r\n\t\t  if (shown) {\r\n\t\t\terr('(end of list)');\r\n\t\t  }\r\n\t\t}, 10000);\r\n\t  }\r\n\t} else {\r\n\t  err('warning: run dependency added without ID');\r\n\t}\r\n  }\r\n\r\n  function removeRunDependency(id) {\r\n\trunDependencies--;\r\n\r\n\tif (Module['monitorRunDependencies']) {\r\n\t  Module['monitorRunDependencies'](runDependencies);\r\n\t}\r\n\r\n\tif (id) {\r\n\t  assert(runDependencyTracking[id]);\r\n\t  delete runDependencyTracking[id];\r\n\t} else {\r\n\t  err('warning: run dependency removed without ID');\r\n\t}\r\n\tif (runDependencies == 0) {\r\n\t  if (runDependencyWatcher !== null) {\r\n\t\tclearInterval(runDependencyWatcher);\r\n\t\trunDependencyWatcher = null;\r\n\t  }\r\n\t  if (dependenciesFulfilled) {\r\n\t\tvar callback = dependenciesFulfilled;\r\n\t\tdependenciesFulfilled = null;\r\n\t\tcallback(); // can add another dependenciesFulfilled\r\n\t  }\r\n\t}\r\n  }\r\n\r\n  /** @param {string|number=} what */\r\n  function abort(what) {\r\n\tif (Module['onAbort']) {\r\n\t  Module['onAbort'](what);\r\n\t}\r\n\r\n\twhat = 'Aborted(' + what + ')';\r\n\t// TODO(sbc): Should we remove printing and leave it up to whoever\r\n\t// catches the exception?\r\n\terr(what);\r\n\r\n\tABORT = true;\r\n\tEXITSTATUS = 1;\r\n\r\n\t// Use a wasm runtime error, because a JS error might be seen as a foreign\r\n\t// exception, which means we'd run destructors on it. We need the error to\r\n\t// simply make the program stop.\r\n\t// FIXME This approach does not work in Wasm EH because it currently does not assume\r\n\t// all RuntimeErrors are from traps; it decides whether a RuntimeError is from\r\n\t// a trap or not based on a hidden field within the object. So at the moment\r\n\t// we don't have a way of throwing a wasm trap from JS. TODO Make a JS API that\r\n\t// allows this in the wasm spec.\r\n\r\n\t// Suppress closure compiler warning here. Closure compiler's builtin extern\r\n\t// defintion for WebAssembly.RuntimeError claims it takes no arguments even\r\n\t// though it can.\r\n\t// TODO(https://github.com/google/closure-compiler/pull/3913): Remove if/when upstream closure gets fixed.\r\n\t/** @suppress {checkTypes} */\r\n\tvar e = new WebAssembly.RuntimeError(what);\r\n\r\n\treadyPromiseReject(e);\r\n\t// Throw the error whether or not MODULARIZE is set because abort is used\r\n\t// in code paths apart from instantiation where an exception is expected\r\n\t// to be thrown when abort is called.\r\n\tthrow e;\r\n  }\r\n\r\n  // include: memoryprofiler.js\r\n  // end include: memoryprofiler.js\r\n  // include: URIUtils.js\r\n  // Prefix of data URIs emitted by SINGLE_FILE and related options.\r\n  var dataURIPrefix = 'data:application/octet-stream;base64,';\r\n\r\n  /**\r\n   * Indicates whether filename is a base64 data URI.\r\n   * @noinline\r\n   */\r\n  var isDataURI = (filename) => filename.startsWith(dataURIPrefix);\r\n\r\n  /**\r\n   * Indicates whether filename is delivered via file protocol (as opposed to http/https)\r\n   * @noinline\r\n   */\r\n  var isFileURI = (filename) => filename.startsWith('file://');\r\n  // end include: URIUtils.js\r\n  function createExportWrapper(name) {\r\n\treturn function() {\r\n\t  assert(runtimeInitialized, `native function \\`${name}\\` called before runtime initialization`);\r\n\t  var f = wasmExports[name];\r\n\t  assert(f, `exported native function \\`${name}\\` not found`);\r\n\t  return f.apply(null, arguments);\r\n\t};\r\n  }\r\n\r\n  // include: runtime_exceptions.js\r\n  // end include: runtime_exceptions.js\r\n  var wasmBinaryFile;\r\n  if (Module['locateFile']) {\r\n\twasmBinaryFile = 'libultrahdr-esm.wasm';\r\n\tif (!isDataURI(wasmBinaryFile)) {\r\n\t  wasmBinaryFile = locateFile(wasmBinaryFile);\r\n\t}\r\n  } else {\r\n\t// Use bundler-friendly `new URL(..., import.meta.url)` pattern; works in browsers too.\r\n\twasmBinaryFile = new URL('../../node_modules/@monogrid/gainmap-js/dist/libultrahdr-esm.wasm', import.meta.url).href;\r\n  }\r\n\r\n  function getBinarySync(file) {\r\n\tif (file == wasmBinaryFile && wasmBinary) {\r\n\t  return new Uint8Array(wasmBinary);\r\n\t}\r\n\tif (readBinary) {\r\n\t  return readBinary(file);\r\n\t}\r\n\tthrow \"both async and sync fetching of the wasm failed\";\r\n  }\r\n\r\n  function getBinaryPromise(binaryFile) {\r\n\t// If we don't have the binary yet, try to load it asynchronously.\r\n\t// Fetch has some additional restrictions over XHR, like it can't be used on a file:// url.\r\n\t// See https://github.com/github/fetch/pull/92#issuecomment-140665932\r\n\t// Cordova or Electron apps are typically loaded from a file:// url.\r\n\t// So use fetch if it is available and the url is not a file, otherwise fall back to XHR.\r\n\tif (!wasmBinary\r\n\t\t&& (ENVIRONMENT_IS_WEB || ENVIRONMENT_IS_WORKER)) {\r\n\t  if (typeof fetch == 'function'\r\n\t\t&& !isFileURI(binaryFile)\r\n\t  ) {\r\n\t\treturn fetch(binaryFile, { credentials: 'same-origin' }).then((response) => {\r\n\t\t  if (!response['ok']) {\r\n\t\t\tthrow \"failed to load wasm binary file at '\" + binaryFile + \"'\";\r\n\t\t  }\r\n\t\t  return response['arrayBuffer']();\r\n\t\t}).catch(() => getBinarySync(binaryFile));\r\n\t  }\r\n\t  else if (readAsync) {\r\n\t\t// fetch is not available or url is file => try XHR (readAsync uses XHR internally)\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t  readAsync(binaryFile, (response) => resolve(new Uint8Array(/** @type{!ArrayBuffer} */(response))), reject);\r\n\t\t});\r\n\t  }\r\n\t}\r\n\r\n\t// Otherwise, getBinarySync should be able to get it synchronously\r\n\treturn Promise.resolve().then(() => getBinarySync(binaryFile));\r\n  }\r\n\r\n  function instantiateArrayBuffer(binaryFile, imports, receiver) {\r\n\treturn getBinaryPromise(binaryFile).then((binary) => {\r\n\t  return WebAssembly.instantiate(binary, imports);\r\n\t}).then((instance) => {\r\n\t  return instance;\r\n\t}).then(receiver, (reason) => {\r\n\t  err(`failed to asynchronously prepare wasm: ${reason}`);\r\n\r\n\t  // Warn on some common problems.\r\n\t  if (isFileURI(wasmBinaryFile)) {\r\n\t\terr(`warning: Loading from a file URI (${wasmBinaryFile}) is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing`);\r\n\t  }\r\n\t  abort(reason);\r\n\t});\r\n  }\r\n\r\n  function instantiateAsync(binary, binaryFile, imports, callback) {\r\n\tif (!binary &&\r\n\t\ttypeof WebAssembly.instantiateStreaming == 'function' &&\r\n\t\t!isDataURI(binaryFile) &&\r\n\t\t// Don't use streaming for file:// delivered objects in a webview, fetch them synchronously.\r\n\t\t!isFileURI(binaryFile) &&\r\n\t\t// Avoid instantiateStreaming() on Node.js environment for now, as while\r\n\t\t// Node.js v18.1.0 implements it, it does not have a full fetch()\r\n\t\t// implementation yet.\r\n\t\t//\r\n\t\t// Reference:\r\n\t\t//   https://github.com/emscripten-core/emscripten/pull/16917\r\n\t\t!ENVIRONMENT_IS_NODE &&\r\n\t\ttypeof fetch == 'function') {\r\n\t  return fetch(binaryFile, { credentials: 'same-origin' }).then((response) => {\r\n\t\t// Suppress closure warning here since the upstream definition for\r\n\t\t// instantiateStreaming only allows Promise<Repsponse> rather than\r\n\t\t// an actual Response.\r\n\t\t// TODO(https://github.com/google/closure-compiler/pull/3913): Remove if/when upstream closure is fixed.\r\n\t\t/** @suppress {checkTypes} */\r\n\t\tvar result = WebAssembly.instantiateStreaming(response, imports);\r\n\r\n\t\treturn result.then(\r\n\t\t  callback,\r\n\t\t  function(reason) {\r\n\t\t\t// We expect the most common failure cause to be a bad MIME type for the binary,\r\n\t\t\t// in which case falling back to ArrayBuffer instantiation should work.\r\n\t\t\terr(`wasm streaming compile failed: ${reason}`);\r\n\t\t\terr('falling back to ArrayBuffer instantiation');\r\n\t\t\treturn instantiateArrayBuffer(binaryFile, imports, callback);\r\n\t\t  });\r\n\t  });\r\n\t}\r\n\treturn instantiateArrayBuffer(binaryFile, imports, callback);\r\n  }\r\n\r\n  // Create the wasm instance.\r\n  // Receives the wasm imports, returns the exports.\r\n  function createWasm() {\r\n\t// prepare imports\r\n\tvar info = {\r\n\t  'env': wasmImports,\r\n\t  'wasi_snapshot_preview1': wasmImports,\r\n\t};\r\n\t// Load the wasm module and create an instance of using native support in the JS engine.\r\n\t// handle a generated wasm instance, receiving its exports and\r\n\t// performing other necessary setup\r\n\t/** @param {WebAssembly.Module=} module*/\r\n\tfunction receiveInstance(instance, module) {\r\n\t  wasmExports = instance.exports;\r\n\r\n\r\n\r\n\t  wasmMemory = wasmExports['memory'];\r\n\r\n\t  assert(wasmMemory, \"memory not found in wasm exports\");\r\n\t  // This assertion doesn't hold when emscripten is run in --post-link\r\n\t  // mode.\r\n\t  // TODO(sbc): Read INITIAL_MEMORY out of the wasm file in post-link mode.\r\n\t  //assert(wasmMemory.buffer.byteLength === 16777216);\r\n\t  updateMemoryViews();\r\n\r\n\t  wasmTable = wasmExports['__indirect_function_table'];\r\n\r\n\t  assert(wasmTable, \"table not found in wasm exports\");\r\n\r\n\t  addOnInit(wasmExports['__wasm_call_ctors']);\r\n\r\n\t  removeRunDependency('wasm-instantiate');\r\n\t  return wasmExports;\r\n\t}\r\n\t// wait for the pthread pool (if any)\r\n\taddRunDependency('wasm-instantiate');\r\n\r\n\t// Prefer streaming instantiation if available.\r\n\t// Async compilation can be confusing when an error on the page overwrites Module\r\n\t// (for example, if the order of elements is wrong, and the one defining Module is\r\n\t// later), so we save Module and check it later.\r\n\tvar trueModule = Module;\r\n\tfunction receiveInstantiationResult(result) {\r\n\t  // 'result' is a ResultObject object which has both the module and instance.\r\n\t  // receiveInstance() will swap in the exports (to Module.asm) so they can be called\r\n\t  assert(Module === trueModule, 'the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?');\r\n\t  trueModule = null;\r\n\t  // TODO: Due to Closure regression https://github.com/google/closure-compiler/issues/3193, the above line no longer optimizes out down to the following line.\r\n\t  // When the regression is fixed, can restore the above PTHREADS-enabled path.\r\n\t  receiveInstance(result['instance']);\r\n\t}\r\n\r\n\t// User shell pages can write their own Module.instantiateWasm = function(imports, successCallback) callback\r\n\t// to manually instantiate the Wasm module themselves. This allows pages to\r\n\t// run the instantiation parallel to any other async startup actions they are\r\n\t// performing.\r\n\t// Also pthreads and wasm workers initialize the wasm instance through this\r\n\t// path.\r\n\tif (Module['instantiateWasm']) {\r\n\r\n\t  try {\r\n\t\treturn Module['instantiateWasm'](info, receiveInstance);\r\n\t  } catch(e) {\r\n\t\terr(`Module.instantiateWasm callback failed with error: ${e}`);\r\n\t\t  // If instantiation fails, reject the module ready promise.\r\n\t\t  readyPromiseReject(e);\r\n\t  }\r\n\t}\r\n\r\n\t// If instantiation fails, reject the module ready promise.\r\n\tinstantiateAsync(wasmBinary, wasmBinaryFile, info, receiveInstantiationResult).catch(readyPromiseReject);\r\n\treturn {}; // no exports yet; we'll fill them in later\r\n  }\r\n\r\n  // Globals used by JS i64 conversions (see makeSetValue)\r\n  var tempDouble;\r\n  var tempI64;\r\n\r\n  // include: runtime_debug.js\r\n  function legacyModuleProp(prop, newName, incomming=true) {\r\n\tif (!Object.getOwnPropertyDescriptor(Module, prop)) {\r\n\t  Object.defineProperty(Module, prop, {\r\n\t\tconfigurable: true,\r\n\t\tget() {\r\n\t\t  let extra = incomming ? ' (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)' : '';\r\n\t\t  abort(`\\`Module.${prop}\\` has been replaced by \\`${newName}\\`` + extra);\r\n\r\n\t\t}\r\n\t  });\r\n\t}\r\n  }\r\n\r\n  function ignoredModuleProp(prop) {\r\n\tif (Object.getOwnPropertyDescriptor(Module, prop)) {\r\n\t  abort(`\\`Module.${prop}\\` was supplied but \\`${prop}\\` not included in INCOMING_MODULE_JS_API`);\r\n\t}\r\n  }\r\n\r\n  // forcing the filesystem exports a few things by default\r\n  function isExportedByForceFilesystem(name) {\r\n\treturn name === 'FS_createPath' ||\r\n\t\t   name === 'FS_createDataFile' ||\r\n\t\t   name === 'FS_createPreloadedFile' ||\r\n\t\t   name === 'FS_unlink' ||\r\n\t\t   name === 'addRunDependency' ||\r\n\t\t   // The old FS has some functionality that WasmFS lacks.\r\n\t\t   name === 'FS_createLazyFile' ||\r\n\t\t   name === 'FS_createDevice' ||\r\n\t\t   name === 'removeRunDependency';\r\n  }\r\n\r\n  function missingGlobal(sym, msg) {\r\n\tif (typeof globalThis !== 'undefined') {\r\n\t  Object.defineProperty(globalThis, sym, {\r\n\t\tconfigurable: true,\r\n\t\tget() {\r\n\t\t  warnOnce('`' + sym + '` is not longer defined by emscripten. ' + msg);\r\n\t\t  return undefined;\r\n\t\t}\r\n\t  });\r\n\t}\r\n  }\r\n\r\n  missingGlobal('buffer', 'Please use HEAP8.buffer or wasmMemory.buffer');\r\n  missingGlobal('asm', 'Please use wasmExports instead');\r\n\r\n  function missingLibrarySymbol(sym) {\r\n\tif (typeof globalThis !== 'undefined' && !Object.getOwnPropertyDescriptor(globalThis, sym)) {\r\n\t  Object.defineProperty(globalThis, sym, {\r\n\t\tconfigurable: true,\r\n\t\tget() {\r\n\t\t  // Can't `abort()` here because it would break code that does runtime\r\n\t\t  // checks.  e.g. `if (typeof SDL === 'undefined')`.\r\n\t\t  var msg = '`' + sym + '` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line';\r\n\t\t  // DEFAULT_LIBRARY_FUNCS_TO_INCLUDE requires the name as it appears in\r\n\t\t  // library.js, which means $name for a JS name with no prefix, or name\r\n\t\t  // for a JS name like _name.\r\n\t\t  var librarySymbol = sym;\r\n\t\t  if (!librarySymbol.startsWith('_')) {\r\n\t\t\tlibrarySymbol = '$' + sym;\r\n\t\t  }\r\n\t\t  msg += \" (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='\" + librarySymbol + \"')\";\r\n\t\t  if (isExportedByForceFilesystem(sym)) {\r\n\t\t\tmsg += '. Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you';\r\n\t\t  }\r\n\t\t  warnOnce(msg);\r\n\t\t  return undefined;\r\n\t\t}\r\n\t  });\r\n\t}\r\n\t// Any symbol that is not included from the JS libary is also (by definition)\r\n\t// not exported on the Module object.\r\n\tunexportedRuntimeSymbol(sym);\r\n  }\r\n\r\n  function unexportedRuntimeSymbol(sym) {\r\n\tif (!Object.getOwnPropertyDescriptor(Module, sym)) {\r\n\t  Object.defineProperty(Module, sym, {\r\n\t\tconfigurable: true,\r\n\t\tget() {\r\n\t\t  var msg = \"'\" + sym + \"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)\";\r\n\t\t  if (isExportedByForceFilesystem(sym)) {\r\n\t\t\tmsg += '. Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you';\r\n\t\t  }\r\n\t\t  abort(msg);\r\n\t\t}\r\n\t  });\r\n\t}\r\n  }\r\n  // end include: runtime_debug.js\r\n  // === Body ===\r\n\r\n  // end include: preamble.js\r\n\r\n\t/** @constructor */\r\n\tfunction ExitStatus(status) {\r\n\t\tthis.name = 'ExitStatus';\r\n\t\tthis.message = `Program terminated with exit(${status})`;\r\n\t\tthis.status = status;\r\n\t  }\r\n\r\n\tvar callRuntimeCallbacks = (callbacks) => {\r\n\t\twhile (callbacks.length > 0) {\r\n\t\t  // Pass the module as the first argument.\r\n\t\t  callbacks.shift()(Module);\r\n\t\t}\r\n\t  };\r\n\r\n\tvar noExitRuntime = Module['noExitRuntime'] || true;\r\n\r\n\tvar ptrToString = (ptr) => {\r\n\t\tassert(typeof ptr === 'number');\r\n\t\t// With CAN_ADDRESS_2GB or MEMORY64, pointers are already unsigned.\r\n\t\tptr >>>= 0;\r\n\t\treturn '0x' + ptr.toString(16).padStart(8, '0');\r\n\t  };\r\n\r\n\tvar warnOnce = (text) => {\r\n\t\tif (!warnOnce.shown) warnOnce.shown = {};\r\n\t\tif (!warnOnce.shown[text]) {\r\n\t\t  warnOnce.shown[text] = 1;\r\n\t\t  if (ENVIRONMENT_IS_NODE) text = 'warning: ' + text;\r\n\t\t  err(text);\r\n\t\t}\r\n\t  };\r\n\r\n\t/** @constructor */\r\n\tfunction ExceptionInfo(excPtr) {\r\n\t\tthis.excPtr = excPtr;\r\n\t\tthis.ptr = excPtr - 24;\r\n\r\n\t\tthis.set_type = function(type) {\r\n\t\t  HEAPU32[(((this.ptr)+(4))>>2)] = type;\r\n\t\t};\r\n\r\n\t\tthis.get_type = function() {\r\n\t\t  return HEAPU32[(((this.ptr)+(4))>>2)];\r\n\t\t};\r\n\r\n\t\tthis.set_destructor = function(destructor) {\r\n\t\t  HEAPU32[(((this.ptr)+(8))>>2)] = destructor;\r\n\t\t};\r\n\r\n\t\tthis.get_destructor = function() {\r\n\t\t  return HEAPU32[(((this.ptr)+(8))>>2)];\r\n\t\t};\r\n\r\n\t\tthis.set_caught = function(caught) {\r\n\t\t  caught = caught ? 1 : 0;\r\n\t\t  HEAP8[(((this.ptr)+(12))>>0)] = caught;\r\n\t\t};\r\n\r\n\t\tthis.get_caught = function() {\r\n\t\t  return HEAP8[(((this.ptr)+(12))>>0)] != 0;\r\n\t\t};\r\n\r\n\t\tthis.set_rethrown = function(rethrown) {\r\n\t\t  rethrown = rethrown ? 1 : 0;\r\n\t\t  HEAP8[(((this.ptr)+(13))>>0)] = rethrown;\r\n\t\t};\r\n\r\n\t\tthis.get_rethrown = function() {\r\n\t\t  return HEAP8[(((this.ptr)+(13))>>0)] != 0;\r\n\t\t};\r\n\r\n\t\t// Initialize native structure fields. Should be called once after allocated.\r\n\t\tthis.init = function(type, destructor) {\r\n\t\t  this.set_adjusted_ptr(0);\r\n\t\t  this.set_type(type);\r\n\t\t  this.set_destructor(destructor);\r\n\t\t};\r\n\r\n\t\tthis.set_adjusted_ptr = function(adjustedPtr) {\r\n\t\t  HEAPU32[(((this.ptr)+(16))>>2)] = adjustedPtr;\r\n\t\t};\r\n\r\n\t\tthis.get_adjusted_ptr = function() {\r\n\t\t  return HEAPU32[(((this.ptr)+(16))>>2)];\r\n\t\t};\r\n\r\n\t\t// Get pointer which is expected to be received by catch clause in C++ code. It may be adjusted\r\n\t\t// when the pointer is casted to some of the exception object base classes (e.g. when virtual\r\n\t\t// inheritance is used). When a pointer is thrown this method should return the thrown pointer\r\n\t\t// itself.\r\n\t\tthis.get_exception_ptr = function() {\r\n\t\t  // Work around a fastcomp bug, this code is still included for some reason in a build without\r\n\t\t  // exceptions support.\r\n\t\t  var isPointer = ___cxa_is_pointer_type(this.get_type());\r\n\t\t  if (isPointer) {\r\n\t\t\treturn HEAPU32[((this.excPtr)>>2)];\r\n\t\t  }\r\n\t\t  var adjusted = this.get_adjusted_ptr();\r\n\t\t  if (adjusted !== 0) return adjusted;\r\n\t\t  return this.excPtr;\r\n\t\t};\r\n\t  }\r\n\tvar ___cxa_throw = (ptr, type, destructor) => {\r\n\t\tvar info = new ExceptionInfo(ptr);\r\n\t\t// Initialize ExceptionInfo content after it was allocated in __cxa_allocate_exception.\r\n\t\tinfo.init(type, destructor);\r\n\t\tassert(false, 'Exception thrown, but exception catching is not enabled. Compile with -sNO_DISABLE_EXCEPTION_CATCHING or -sEXCEPTION_CATCHING_ALLOWED=[..] to catch.');\r\n\t  };\r\n\r\n\tvar structRegistrations = {\r\n\t};\r\n\r\n\tvar runDestructors = (destructors) => {\r\n\t\twhile (destructors.length) {\r\n\t\t  var ptr = destructors.pop();\r\n\t\t  var del = destructors.pop();\r\n\t\t  del(ptr);\r\n\t\t}\r\n\t  };\r\n\r\n\t/** @suppress {globalThis} */\r\n\tfunction simpleReadValueFromPointer(pointer) {\r\n\t\treturn this['fromWireType'](HEAP32[((pointer)>>2)]);\r\n\t  }\r\n\r\n\tvar awaitingDependencies = {\r\n\t};\r\n\r\n\tvar registeredTypes = {\r\n\t};\r\n\r\n\tvar typeDependencies = {\r\n\t};\r\n\r\n\tvar InternalError;\r\n\tvar throwInternalError = (message) => { throw new InternalError(message); };\r\n\tvar whenDependentTypesAreResolved = (myTypes, dependentTypes, getTypeConverters) => {\r\n\t\tmyTypes.forEach(function(type) {\r\n\t\t\ttypeDependencies[type] = dependentTypes;\r\n\t\t});\r\n\r\n\t\tfunction onComplete(typeConverters) {\r\n\t\t\tvar myTypeConverters = getTypeConverters(typeConverters);\r\n\t\t\tif (myTypeConverters.length !== myTypes.length) {\r\n\t\t\t\tthrowInternalError('Mismatched type converter count');\r\n\t\t\t}\r\n\t\t\tfor (var i = 0; i < myTypes.length; ++i) {\r\n\t\t\t\tregisterType(myTypes[i], myTypeConverters[i]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar typeConverters = new Array(dependentTypes.length);\r\n\t\tvar unregisteredTypes = [];\r\n\t\tvar registered = 0;\r\n\t\tdependentTypes.forEach((dt, i) => {\r\n\t\t  if (registeredTypes.hasOwnProperty(dt)) {\r\n\t\t\ttypeConverters[i] = registeredTypes[dt];\r\n\t\t  } else {\r\n\t\t\tunregisteredTypes.push(dt);\r\n\t\t\tif (!awaitingDependencies.hasOwnProperty(dt)) {\r\n\t\t\t  awaitingDependencies[dt] = [];\r\n\t\t\t}\r\n\t\t\tawaitingDependencies[dt].push(() => {\r\n\t\t\t  typeConverters[i] = registeredTypes[dt];\r\n\t\t\t  ++registered;\r\n\t\t\t  if (registered === unregisteredTypes.length) {\r\n\t\t\t\tonComplete(typeConverters);\r\n\t\t\t  }\r\n\t\t\t});\r\n\t\t  }\r\n\t\t});\r\n\t\tif (0 === unregisteredTypes.length) {\r\n\t\t  onComplete(typeConverters);\r\n\t\t}\r\n\t  };\r\n\tvar __embind_finalize_value_object = (structType) => {\r\n\t\tvar reg = structRegistrations[structType];\r\n\t\tdelete structRegistrations[structType];\r\n\r\n\t\tvar rawConstructor = reg.rawConstructor;\r\n\t\tvar rawDestructor = reg.rawDestructor;\r\n\t\tvar fieldRecords = reg.fields;\r\n\t\tvar fieldTypes = fieldRecords.map((field) => field.getterReturnType).\r\n\t\t\t\t  concat(fieldRecords.map((field) => field.setterArgumentType));\r\n\t\twhenDependentTypesAreResolved([structType], fieldTypes, (fieldTypes) => {\r\n\t\t  var fields = {};\r\n\t\t  fieldRecords.forEach((field, i) => {\r\n\t\t\tvar fieldName = field.fieldName;\r\n\t\t\tvar getterReturnType = fieldTypes[i];\r\n\t\t\tvar getter = field.getter;\r\n\t\t\tvar getterContext = field.getterContext;\r\n\t\t\tvar setterArgumentType = fieldTypes[i + fieldRecords.length];\r\n\t\t\tvar setter = field.setter;\r\n\t\t\tvar setterContext = field.setterContext;\r\n\t\t\tfields[fieldName] = {\r\n\t\t\t  read: (ptr) => {\r\n\t\t\t\treturn getterReturnType['fromWireType'](\r\n\t\t\t\t\tgetter(getterContext, ptr));\r\n\t\t\t  },\r\n\t\t\t  write: (ptr, o) => {\r\n\t\t\t\tvar destructors = [];\r\n\t\t\t\tsetter(setterContext, ptr, setterArgumentType['toWireType'](destructors, o));\r\n\t\t\t\trunDestructors(destructors);\r\n\t\t\t  }\r\n\t\t\t};\r\n\t\t  });\r\n\r\n\t\t  return [{\r\n\t\t\tname: reg.name,\r\n\t\t\t'fromWireType': (ptr) => {\r\n\t\t\t  var rv = {};\r\n\t\t\t  for (var i in fields) {\r\n\t\t\t\trv[i] = fields[i].read(ptr);\r\n\t\t\t  }\r\n\t\t\t  rawDestructor(ptr);\r\n\t\t\t  return rv;\r\n\t\t\t},\r\n\t\t\t'toWireType': (destructors, o) => {\r\n\t\t\t  // todo: Here we have an opportunity for -O3 level \"unsafe\" optimizations:\r\n\t\t\t  // assume all fields are present without checking.\r\n\t\t\t  for (var fieldName in fields) {\r\n\t\t\t\tif (!(fieldName in o)) {\r\n\t\t\t\t  throw new TypeError(`Missing field: \"${fieldName}\"`);\r\n\t\t\t\t}\r\n\t\t\t  }\r\n\t\t\t  var ptr = rawConstructor();\r\n\t\t\t  for (fieldName in fields) {\r\n\t\t\t\tfields[fieldName].write(ptr, o[fieldName]);\r\n\t\t\t  }\r\n\t\t\t  if (destructors !== null) {\r\n\t\t\t\tdestructors.push(rawDestructor, ptr);\r\n\t\t\t  }\r\n\t\t\t  return ptr;\r\n\t\t\t},\r\n\t\t\t'argPackAdvance': GenericWireTypeSize,\r\n\t\t\t'readValueFromPointer': simpleReadValueFromPointer,\r\n\t\t\tdestructorFunction: rawDestructor,\r\n\t\t  }];\r\n\t\t});\r\n\t  };\r\n\r\n\tvar __embind_register_bigint = (primitiveType, name, size, minRange, maxRange) => {};\r\n\r\n\tvar embind_init_charCodes = () => {\r\n\t\tvar codes = new Array(256);\r\n\t\tfor (var i = 0; i < 256; ++i) {\r\n\t\t\tcodes[i] = String.fromCharCode(i);\r\n\t\t}\r\n\t\tembind_charCodes = codes;\r\n\t  };\r\n\tvar embind_charCodes;\r\n\tvar readLatin1String = (ptr) => {\r\n\t\tvar ret = \"\";\r\n\t\tvar c = ptr;\r\n\t\twhile (HEAPU8[c]) {\r\n\t\t\tret += embind_charCodes[HEAPU8[c++]];\r\n\t\t}\r\n\t\treturn ret;\r\n\t  };\r\n\r\n\r\n\r\n\r\n\tvar BindingError;\r\n\tvar throwBindingError = (message) => { throw new BindingError(message); };\r\n\r\n\t/** @param {Object=} options */\r\n\tfunction sharedRegisterType(rawType, registeredInstance, options = {}) {\r\n\t\tvar name = registeredInstance.name;\r\n\t\tif (!rawType) {\r\n\t\t  throwBindingError(`type \"${name}\" must have a positive integer typeid pointer`);\r\n\t\t}\r\n\t\tif (registeredTypes.hasOwnProperty(rawType)) {\r\n\t\t  if (options.ignoreDuplicateRegistrations) {\r\n\t\t\treturn;\r\n\t\t  } else {\r\n\t\t\tthrowBindingError(`Cannot register type '${name}' twice`);\r\n\t\t  }\r\n\t\t}\r\n\r\n\t\tregisteredTypes[rawType] = registeredInstance;\r\n\t\tdelete typeDependencies[rawType];\r\n\r\n\t\tif (awaitingDependencies.hasOwnProperty(rawType)) {\r\n\t\t  var callbacks = awaitingDependencies[rawType];\r\n\t\t  delete awaitingDependencies[rawType];\r\n\t\t  callbacks.forEach((cb) => cb());\r\n\t\t}\r\n\t  }\r\n\t/** @param {Object=} options */\r\n\tfunction registerType(rawType, registeredInstance, options = {}) {\r\n\t\tif (!('argPackAdvance' in registeredInstance)) {\r\n\t\t  throw new TypeError('registerType registeredInstance requires argPackAdvance');\r\n\t\t}\r\n\t\treturn sharedRegisterType(rawType, registeredInstance, options);\r\n\t  }\r\n\r\n\tvar GenericWireTypeSize = 8;\r\n\t/** @suppress {globalThis} */\r\n\tvar __embind_register_bool = (rawType, name, trueValue, falseValue) => {\r\n\t\tname = readLatin1String(name);\r\n\t\tregisterType(rawType, {\r\n\t\t\tname,\r\n\t\t\t'fromWireType': function(wt) {\r\n\t\t\t\t// ambiguous emscripten ABI: sometimes return values are\r\n\t\t\t\t// true or false, and sometimes integers (0 or 1)\r\n\t\t\t\treturn !!wt;\r\n\t\t\t},\r\n\t\t\t'toWireType': function(destructors, o) {\r\n\t\t\t\treturn o ? trueValue : falseValue;\r\n\t\t\t},\r\n\t\t\t'argPackAdvance': GenericWireTypeSize,\r\n\t\t\t'readValueFromPointer': function(pointer) {\r\n\t\t\t\treturn this['fromWireType'](HEAPU8[pointer]);\r\n\t\t\t},\r\n\t\t\tdestructorFunction: null, // This type does not need a destructor\r\n\t\t});\r\n\t  };\r\n\r\n\tfunction handleAllocatorInit() {\r\n\t\tObject.assign(HandleAllocator.prototype, /** @lends {HandleAllocator.prototype} */ {\r\n\t\t  get(id) {\r\n\t\t\tassert(this.allocated[id] !== undefined, `invalid handle: ${id}`);\r\n\t\t\treturn this.allocated[id];\r\n\t\t  },\r\n\t\t  has(id) {\r\n\t\t\treturn this.allocated[id] !== undefined;\r\n\t\t  },\r\n\t\t  allocate(handle) {\r\n\t\t\tvar id = this.freelist.pop() || this.allocated.length;\r\n\t\t\tthis.allocated[id] = handle;\r\n\t\t\treturn id;\r\n\t\t  },\r\n\t\t  free(id) {\r\n\t\t\tassert(this.allocated[id] !== undefined);\r\n\t\t\t// Set the slot to `undefined` rather than using `delete` here since\r\n\t\t\t// apparently arrays with holes in them can be less efficient.\r\n\t\t\tthis.allocated[id] = undefined;\r\n\t\t\tthis.freelist.push(id);\r\n\t\t  }\r\n\t\t});\r\n\t  }\r\n\t/** @constructor */\r\n\tfunction HandleAllocator() {\r\n\t\t// Reserve slot 0 so that 0 is always an invalid handle\r\n\t\tthis.allocated = [undefined];\r\n\t\tthis.freelist = [];\r\n\t  }\r\n\tvar emval_handles = new HandleAllocator();  var __emval_decref = (handle) => {\r\n\t\tif (handle >= emval_handles.reserved && 0 === --emval_handles.get(handle).refcount) {\r\n\t\t  emval_handles.free(handle);\r\n\t\t}\r\n\t  };\r\n\r\n\r\n\r\n\tvar count_emval_handles = () => {\r\n\t\tvar count = 0;\r\n\t\tfor (var i = emval_handles.reserved; i < emval_handles.allocated.length; ++i) {\r\n\t\t  if (emval_handles.allocated[i] !== undefined) {\r\n\t\t\t++count;\r\n\t\t  }\r\n\t\t}\r\n\t\treturn count;\r\n\t  };\r\n\r\n\tvar init_emval = () => {\r\n\t\t// reserve some special values. These never get de-allocated.\r\n\t\t// The HandleAllocator takes care of reserving zero.\r\n\t\temval_handles.allocated.push(\r\n\t\t  {value: undefined},\r\n\t\t  {value: null},\r\n\t\t  {value: true},\r\n\t\t  {value: false},\r\n\t\t);\r\n\t\temval_handles.reserved = emval_handles.allocated.length;\r\n\t\tModule['count_emval_handles'] = count_emval_handles;\r\n\t  };\r\n\tvar Emval = {\r\n\ttoValue:(handle) => {\r\n\t\t  if (!handle) {\r\n\t\t\t  throwBindingError('Cannot use deleted val. handle = ' + handle);\r\n\t\t  }\r\n\t\t  return emval_handles.get(handle).value;\r\n\t\t},\r\n\ttoHandle:(value) => {\r\n\t\t  switch (value) {\r\n\t\t\tcase undefined: return 1;\r\n\t\t\tcase null: return 2;\r\n\t\t\tcase true: return 3;\r\n\t\t\tcase false: return 4;\r\n\t\t\tdefault:{\r\n\t\t\t  return emval_handles.allocate({refcount: 1, value: value});\r\n\t\t\t}\r\n\t\t  }\r\n\t\t},\r\n\t};\r\n\r\n\r\n\r\n\tvar __embind_register_emval = (rawType, name) => {\r\n\t\tname = readLatin1String(name);\r\n\t\tregisterType(rawType, {\r\n\t\t  name,\r\n\t\t  'fromWireType': (handle) => {\r\n\t\t\tvar rv = Emval.toValue(handle);\r\n\t\t\t__emval_decref(handle);\r\n\t\t\treturn rv;\r\n\t\t  },\r\n\t\t  'toWireType': (destructors, value) => Emval.toHandle(value),\r\n\t\t  'argPackAdvance': GenericWireTypeSize,\r\n\t\t  'readValueFromPointer': simpleReadValueFromPointer,\r\n\t\t  destructorFunction: null, // This type does not need a destructor\r\n\r\n\t\t  // TODO: do we need a deleteObject here?  write a test where\r\n\t\t  // emval is passed into JS via an interface\r\n\t\t});\r\n\t  };\r\n\r\n\tvar embindRepr = (v) => {\r\n\t\tif (v === null) {\r\n\t\t\treturn 'null';\r\n\t\t}\r\n\t\tvar t = typeof v;\r\n\t\tif (t === 'object' || t === 'array' || t === 'function') {\r\n\t\t\treturn v.toString();\r\n\t\t} else {\r\n\t\t\treturn '' + v;\r\n\t\t}\r\n\t  };\r\n\r\n\tvar floatReadValueFromPointer = (name, width) => {\r\n\t\tswitch (width) {\r\n\t\t\tcase 4: return function(pointer) {\r\n\t\t\t\treturn this['fromWireType'](HEAPF32[((pointer)>>2)]);\r\n\t\t\t};\r\n\t\t\tcase 8: return function(pointer) {\r\n\t\t\t\treturn this['fromWireType'](HEAPF64[((pointer)>>3)]);\r\n\t\t\t};\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new TypeError(`invalid float width (${width}): ${name}`);\r\n\t\t}\r\n\t  };\r\n\r\n\r\n\tvar __embind_register_float = (rawType, name, size) => {\r\n\t\tname = readLatin1String(name);\r\n\t\tregisterType(rawType, {\r\n\t\t  name,\r\n\t\t  'fromWireType': (value) => value,\r\n\t\t  'toWireType': (destructors, value) => {\r\n\t\t\tif (typeof value != \"number\" && typeof value != \"boolean\") {\r\n\t\t\t  throw new TypeError(`Cannot convert ${embindRepr(value)} to ${this.name}`);\r\n\t\t\t}\r\n\t\t\t// The VM will perform JS to Wasm value conversion, according to the spec:\r\n\t\t\t// https://www.w3.org/TR/wasm-js-api-1/#towebassemblyvalue\r\n\t\t\treturn value;\r\n\t\t  },\r\n\t\t  'argPackAdvance': GenericWireTypeSize,\r\n\t\t  'readValueFromPointer': floatReadValueFromPointer(name, size),\r\n\t\t  destructorFunction: null, // This type does not need a destructor\r\n\t\t});\r\n\t  };\r\n\r\n\tvar char_0 = 48;\r\n\r\n\tvar char_9 = 57;\r\n\tvar makeLegalFunctionName = (name) => {\r\n\t\tif (undefined === name) {\r\n\t\t  return '_unknown';\r\n\t\t}\r\n\t\tname = name.replace(/[^a-zA-Z0-9_]/g, '$');\r\n\t\tvar f = name.charCodeAt(0);\r\n\t\tif (f >= char_0 && f <= char_9) {\r\n\t\t  return `_${name}`;\r\n\t\t}\r\n\t\treturn name;\r\n\t  };\r\n\r\n\r\n\r\n\tfunction createNamedFunction(name, body) {\r\n\t\tname = makeLegalFunctionName(name);\r\n\t\t// Use an abject with a computed property name to create a new function with\r\n\t\t// a name specified at runtime, but without using `new Function` or `eval`.\r\n\t\treturn {\r\n\t\t  [name]: function() {\r\n\t\t\treturn body.apply(this, arguments);\r\n\t\t  }\r\n\t\t}[name];\r\n\t  }\r\n\tfunction newFunc(constructor, argumentList) {\r\n\t\tif (!(constructor instanceof Function)) {\r\n\t\t  throw new TypeError(`new_ called with constructor type ${typeof(constructor)} which is not a function`);\r\n\t\t}\r\n\t\t/*\r\n\t\t * Previously, the following line was just:\r\n\t\t *   function dummy() {};\r\n\t\t * Unfortunately, Chrome was preserving 'dummy' as the object's name, even\r\n\t\t * though at creation, the 'dummy' has the correct constructor name.  Thus,\r\n\t\t * objects created with IMVU.new would show up in the debugger as 'dummy',\r\n\t\t * which isn't very helpful.  Using IMVU.createNamedFunction addresses the\r\n\t\t * issue.  Doublely-unfortunately, there's no way to write a test for this\r\n\t\t * behavior.  -NRD 2013.02.22\r\n\t\t */\r\n\t\tvar dummy = createNamedFunction(constructor.name || 'unknownFunctionName', function(){});\r\n\t\tdummy.prototype = constructor.prototype;\r\n\t\tvar obj = new dummy;\r\n\r\n\t\tvar r = constructor.apply(obj, argumentList);\r\n\t\treturn (r instanceof Object) ? r : obj;\r\n\t  }\r\n\tfunction craftInvokerFunction(humanName, argTypes, classType, cppInvokerFunc, cppTargetFunc, /** boolean= */ isAsync) {\r\n\t\t// humanName: a human-readable string name for the function to be generated.\r\n\t\t// argTypes: An array that contains the embind type objects for all types in the function signature.\r\n\t\t//    argTypes[0] is the type object for the function return value.\r\n\t\t//    argTypes[1] is the type object for function this object/class type, or null if not crafting an invoker for a class method.\r\n\t\t//    argTypes[2...] are the actual function parameters.\r\n\t\t// classType: The embind type object for the class to be bound, or null if this is not a method of a class.\r\n\t\t// cppInvokerFunc: JS Function object to the C++-side function that interops into C++ code.\r\n\t\t// cppTargetFunc: Function pointer (an integer to FUNCTION_TABLE) to the target C++ function the cppInvokerFunc will end up calling.\r\n\t\t// isAsync: Optional. If true, returns an async function. Async bindings are only supported with JSPI.\r\n\t\tvar argCount = argTypes.length;\r\n\r\n\t\tif (argCount < 2) {\r\n\t\t  throwBindingError(\"argTypes array size mismatch! Must at least get return value and 'this' types!\");\r\n\t\t}\r\n\r\n\t\tassert(!isAsync, 'Async bindings are only supported with JSPI.');\r\n\r\n\t\tvar isClassMethodFunc = (argTypes[1] !== null && classType !== null);\r\n\r\n\t\t// Free functions with signature \"void function()\" do not need an invoker that marshalls between wire types.\r\n\t// TODO: This omits argument count check - enable only at -O3 or similar.\r\n\t//    if (ENABLE_UNSAFE_OPTS && argCount == 2 && argTypes[0].name == \"void\" && !isClassMethodFunc) {\r\n\t//       return FUNCTION_TABLE[fn];\r\n\t//    }\r\n\r\n\t\t// Determine if we need to use a dynamic stack to store the destructors for the function parameters.\r\n\t\t// TODO: Remove this completely once all function invokers are being dynamically generated.\r\n\t\tvar needsDestructorStack = false;\r\n\r\n\t\tfor (var i = 1; i < argTypes.length; ++i) { // Skip return value at index 0 - it's not deleted here.\r\n\t\t  if (argTypes[i] !== null && argTypes[i].destructorFunction === undefined) { // The type does not define a destructor function - must use dynamic stack\r\n\t\t\tneedsDestructorStack = true;\r\n\t\t\tbreak;\r\n\t\t  }\r\n\t\t}\r\n\r\n\t\tvar returns = (argTypes[0].name !== \"void\");\r\n\r\n\t\tvar argsList = \"\";\r\n\t\tvar argsListWired = \"\";\r\n\t\tfor (var i = 0; i < argCount - 2; ++i) {\r\n\t\t  argsList += (i!==0?\", \":\"\")+\"arg\"+i;\r\n\t\t  argsListWired += (i!==0?\", \":\"\")+\"arg\"+i+\"Wired\";\r\n\t\t}\r\n\r\n\t\tvar invokerFnBody = `\r\n\t\t  return function ${makeLegalFunctionName(humanName)}(${argsList}) {\r\n\t\t  if (arguments.length !== ${argCount - 2}) {\r\n\t\t\tthrowBindingError('function ${humanName} called with ' + arguments.length + ' arguments, expected ${argCount - 2}');\r\n\t\t  }`;\r\n\r\n\t\tif (needsDestructorStack) {\r\n\t\t  invokerFnBody += \"var destructors = [];\\n\";\r\n\t\t}\r\n\r\n\t\tvar dtorStack = needsDestructorStack ? \"destructors\" : \"null\";\r\n\t\tvar args1 = [\"throwBindingError\", \"invoker\", \"fn\", \"runDestructors\", \"retType\", \"classParam\"];\r\n\t\tvar args2 = [throwBindingError, cppInvokerFunc, cppTargetFunc, runDestructors, argTypes[0], argTypes[1]];\r\n\r\n\t\tif (isClassMethodFunc) {\r\n\t\t  invokerFnBody += \"var thisWired = classParam.toWireType(\"+dtorStack+\", this);\\n\";\r\n\t\t}\r\n\r\n\t\tfor (var i = 0; i < argCount - 2; ++i) {\r\n\t\t  invokerFnBody += \"var arg\"+i+\"Wired = argType\"+i+\".toWireType(\"+dtorStack+\", arg\"+i+\"); // \"+argTypes[i+2].name+\"\\n\";\r\n\t\t  args1.push(\"argType\"+i);\r\n\t\t  args2.push(argTypes[i+2]);\r\n\t\t}\r\n\r\n\t\tif (isClassMethodFunc) {\r\n\t\t  argsListWired = \"thisWired\" + (argsListWired.length > 0 ? \", \" : \"\") + argsListWired;\r\n\t\t}\r\n\r\n\t\tinvokerFnBody +=\r\n\t\t\t(returns || isAsync ? \"var rv = \":\"\") + \"invoker(fn\"+(argsListWired.length>0?\", \":\"\")+argsListWired+\");\\n\";\r\n\r\n\t\tif (needsDestructorStack) {\r\n\t\t  invokerFnBody += \"runDestructors(destructors);\\n\";\r\n\t\t} else {\r\n\t\t  for (var i = isClassMethodFunc?1:2; i < argTypes.length; ++i) { // Skip return value at index 0 - it's not deleted here. Also skip class type if not a method.\r\n\t\t\tvar paramName = (i === 1 ? \"thisWired\" : (\"arg\"+(i - 2)+\"Wired\"));\r\n\t\t\tif (argTypes[i].destructorFunction !== null) {\r\n\t\t\t  invokerFnBody += paramName+\"_dtor(\"+paramName+\"); // \"+argTypes[i].name+\"\\n\";\r\n\t\t\t  args1.push(paramName+\"_dtor\");\r\n\t\t\t  args2.push(argTypes[i].destructorFunction);\r\n\t\t\t}\r\n\t\t  }\r\n\t\t}\r\n\r\n\t\tif (returns) {\r\n\t\t  invokerFnBody += \"var ret = retType.fromWireType(rv);\\n\" +\r\n\t\t\t\t\t\t   \"return ret;\\n\";\r\n\t\t}\r\n\r\n\t\tinvokerFnBody += \"}\\n\";\r\n\r\n\t\targs1.push(invokerFnBody);\r\n\r\n\t\treturn newFunc(Function, args1).apply(null, args2);\r\n\t  }\r\n\r\n\tvar ensureOverloadTable = (proto, methodName, humanName) => {\r\n\t\tif (undefined === proto[methodName].overloadTable) {\r\n\t\t  var prevFunc = proto[methodName];\r\n\t\t  // Inject an overload resolver function that routes to the appropriate overload based on the number of arguments.\r\n\t\t  proto[methodName] = function() {\r\n\t\t\t// TODO This check can be removed in -O3 level \"unsafe\" optimizations.\r\n\t\t\tif (!proto[methodName].overloadTable.hasOwnProperty(arguments.length)) {\r\n\t\t\t\tthrowBindingError(`Function '${humanName}' called with an invalid number of arguments (${arguments.length}) - expects one of (${proto[methodName].overloadTable})!`);\r\n\t\t\t}\r\n\t\t\treturn proto[methodName].overloadTable[arguments.length].apply(this, arguments);\r\n\t\t  };\r\n\t\t  // Move the previous function into the overload table.\r\n\t\t  proto[methodName].overloadTable = [];\r\n\t\t  proto[methodName].overloadTable[prevFunc.argCount] = prevFunc;\r\n\t\t}\r\n\t  };\r\n\r\n\t/** @param {number=} numArguments */\r\n\tvar exposePublicSymbol = (name, value, numArguments) => {\r\n\t\tif (Module.hasOwnProperty(name)) {\r\n\t\t  if (undefined === numArguments || (undefined !== Module[name].overloadTable && undefined !== Module[name].overloadTable[numArguments])) {\r\n\t\t\tthrowBindingError(`Cannot register public name '${name}' twice`);\r\n\t\t  }\r\n\r\n\t\t  // We are exposing a function with the same name as an existing function. Create an overload table and a function selector\r\n\t\t  // that routes between the two.\r\n\t\t  ensureOverloadTable(Module, name, name);\r\n\t\t  if (Module.hasOwnProperty(numArguments)) {\r\n\t\t\tthrowBindingError(`Cannot register multiple overloads of a function with the same number of arguments (${numArguments})!`);\r\n\t\t  }\r\n\t\t  // Add the new function into the overload table.\r\n\t\t  Module[name].overloadTable[numArguments] = value;\r\n\t\t}\r\n\t\telse {\r\n\t\t  Module[name] = value;\r\n\t\t  if (undefined !== numArguments) {\r\n\t\t\tModule[name].numArguments = numArguments;\r\n\t\t  }\r\n\t\t}\r\n\t  };\r\n\r\n\tvar heap32VectorToArray = (count, firstElement) => {\r\n\t\tvar array = [];\r\n\t\tfor (var i = 0; i < count; i++) {\r\n\t\t\t// TODO(https://github.com/emscripten-core/emscripten/issues/17310):\r\n\t\t\t// Find a way to hoist the `>> 2` or `>> 3` out of this loop.\r\n\t\t\tarray.push(HEAPU32[(((firstElement)+(i * 4))>>2)]);\r\n\t\t}\r\n\t\treturn array;\r\n\t  };\r\n\r\n\r\n\t/** @param {number=} numArguments */\r\n\tvar replacePublicSymbol = (name, value, numArguments) => {\r\n\t\tif (!Module.hasOwnProperty(name)) {\r\n\t\t  throwInternalError('Replacing nonexistant public symbol');\r\n\t\t}\r\n\t\t// If there's an overload table for this symbol, replace the symbol in the overload table instead.\r\n\t\tif (undefined !== Module[name].overloadTable && undefined !== numArguments) {\r\n\t\t  Module[name].overloadTable[numArguments] = value;\r\n\t\t}\r\n\t\telse {\r\n\t\t  Module[name] = value;\r\n\t\t  Module[name].argCount = numArguments;\r\n\t\t}\r\n\t  };\r\n\r\n\r\n\r\n\tvar dynCallLegacy = (sig, ptr, args) => {\r\n\t\tassert(('dynCall_' + sig) in Module, `bad function pointer type - dynCall function not found for sig '${sig}'`);\r\n\t\tif (args && args.length) {\r\n\t\t  // j (64-bit integer) must be passed in as two numbers [low 32, high 32].\r\n\t\t  assert(args.length === sig.substring(1).replace(/j/g, '--').length);\r\n\t\t} else {\r\n\t\t  assert(sig.length == 1);\r\n\t\t}\r\n\t\tvar f = Module['dynCall_' + sig];\r\n\t\treturn args && args.length ? f.apply(null, [ptr].concat(args)) : f.call(null, ptr);\r\n\t  };\r\n\r\n\tvar wasmTableMirror = [];\r\n\r\n\tvar wasmTable;\r\n\tvar getWasmTableEntry = (funcPtr) => {\r\n\t\tvar func = wasmTableMirror[funcPtr];\r\n\t\tif (!func) {\r\n\t\t  if (funcPtr >= wasmTableMirror.length) wasmTableMirror.length = funcPtr + 1;\r\n\t\t  wasmTableMirror[funcPtr] = func = wasmTable.get(funcPtr);\r\n\t\t}\r\n\t\tassert(wasmTable.get(funcPtr) == func, \"JavaScript-side Wasm function table mirror is out of date!\");\r\n\t\treturn func;\r\n\t  };\r\n\r\n\t/** @param {Object=} args */\r\n\tvar dynCall = (sig, ptr, args) => {\r\n\t\t// Without WASM_BIGINT support we cannot directly call function with i64 as\r\n\t\t// part of thier signature, so we rely the dynCall functions generated by\r\n\t\t// wasm-emscripten-finalize\r\n\t\tif (sig.includes('j')) {\r\n\t\t  return dynCallLegacy(sig, ptr, args);\r\n\t\t}\r\n\t\tassert(getWasmTableEntry(ptr), `missing table entry in dynCall: ${ptr}`);\r\n\t\tvar rtn = getWasmTableEntry(ptr).apply(null, args);\r\n\t\treturn rtn;\r\n\t  };\r\n\tvar getDynCaller = (sig, ptr) => {\r\n\t\tassert(sig.includes('j') || sig.includes('p'), 'getDynCaller should only be called with i64 sigs');\r\n\t\tvar argCache = [];\r\n\t\treturn function() {\r\n\t\t  argCache.length = 0;\r\n\t\t  Object.assign(argCache, arguments);\r\n\t\t  return dynCall(sig, ptr, argCache);\r\n\t\t};\r\n\t  };\r\n\r\n\r\n\tvar embind__requireFunction = (signature, rawFunction) => {\r\n\t\tsignature = readLatin1String(signature);\r\n\r\n\t\tfunction makeDynCaller() {\r\n\t\t  if (signature.includes('j')) {\r\n\t\t\treturn getDynCaller(signature, rawFunction);\r\n\t\t  }\r\n\t\t  return getWasmTableEntry(rawFunction);\r\n\t\t}\r\n\r\n\t\tvar fp = makeDynCaller();\r\n\t\tif (typeof fp != \"function\") {\r\n\t\t\tthrowBindingError(`unknown function pointer with signature ${signature}: ${rawFunction}`);\r\n\t\t}\r\n\t\treturn fp;\r\n\t  };\r\n\r\n\r\n\r\n\tvar extendError = (baseErrorType, errorName) => {\r\n\t\tvar errorClass = createNamedFunction(errorName, function(message) {\r\n\t\t  this.name = errorName;\r\n\t\t  this.message = message;\r\n\r\n\t\t  var stack = (new Error(message)).stack;\r\n\t\t  if (stack !== undefined) {\r\n\t\t\tthis.stack = this.toString() + '\\n' +\r\n\t\t\t\tstack.replace(/^Error(:[^\\n]*)?\\n/, '');\r\n\t\t  }\r\n\t\t});\r\n\t\terrorClass.prototype = Object.create(baseErrorType.prototype);\r\n\t\terrorClass.prototype.constructor = errorClass;\r\n\t\terrorClass.prototype.toString = function() {\r\n\t\t  if (this.message === undefined) {\r\n\t\t\treturn this.name;\r\n\t\t  } else {\r\n\t\t\treturn `${this.name}: ${this.message}`;\r\n\t\t  }\r\n\t\t};\r\n\r\n\t\treturn errorClass;\r\n\t  };\r\n\tvar UnboundTypeError;\r\n\r\n\r\n\r\n\tvar getTypeName = (type) => {\r\n\t\tvar ptr = ___getTypeName(type);\r\n\t\tvar rv = readLatin1String(ptr);\r\n\t\t_free(ptr);\r\n\t\treturn rv;\r\n\t  };\r\n\tvar throwUnboundTypeError = (message, types) => {\r\n\t\tvar unboundTypes = [];\r\n\t\tvar seen = {};\r\n\t\tfunction visit(type) {\r\n\t\t  if (seen[type]) {\r\n\t\t\treturn;\r\n\t\t  }\r\n\t\t  if (registeredTypes[type]) {\r\n\t\t\treturn;\r\n\t\t  }\r\n\t\t  if (typeDependencies[type]) {\r\n\t\t\ttypeDependencies[type].forEach(visit);\r\n\t\t\treturn;\r\n\t\t  }\r\n\t\t  unboundTypes.push(type);\r\n\t\t  seen[type] = true;\r\n\t\t}\r\n\t\ttypes.forEach(visit);\r\n\r\n\t\tthrow new UnboundTypeError(`${message}: ` + unboundTypes.map(getTypeName).join([', ']));\r\n\t  };\r\n\r\n\r\n\tvar getFunctionName = (signature) => {\r\n\t\tsignature = signature.trim();\r\n\t\tconst argsIndex = signature.indexOf(\"(\");\r\n\t\tif (argsIndex !== -1) {\r\n\t\t  assert(signature[signature.length - 1] == \")\", \"Parentheses for argument names should match.\");\r\n\t\t  return signature.substr(0, argsIndex);\r\n\t\t} else {\r\n\t\t  return signature;\r\n\t\t}\r\n\t  };\r\n\tvar __embind_register_function = (name, argCount, rawArgTypesAddr, signature, rawInvoker, fn, isAsync) => {\r\n\t\tvar argTypes = heap32VectorToArray(argCount, rawArgTypesAddr);\r\n\t\tname = readLatin1String(name);\r\n\t\tname = getFunctionName(name);\r\n\r\n\t\trawInvoker = embind__requireFunction(signature, rawInvoker);\r\n\r\n\t\texposePublicSymbol(name, function() {\r\n\t\t  throwUnboundTypeError(`Cannot call ${name} due to unbound types`, argTypes);\r\n\t\t}, argCount - 1);\r\n\r\n\t\twhenDependentTypesAreResolved([], argTypes, function(argTypes) {\r\n\t\t  var invokerArgsArray = [argTypes[0] /* return value */, null /* no class 'this'*/].concat(argTypes.slice(1) /* actual params */);\r\n\t\t  replacePublicSymbol(name, craftInvokerFunction(name, invokerArgsArray, null /* no class 'this'*/, rawInvoker, fn, isAsync), argCount - 1);\r\n\t\t  return [];\r\n\t\t});\r\n\t  };\r\n\r\n\r\n\tvar integerReadValueFromPointer = (name, width, signed) => {\r\n\t\t// integers are quite common, so generate very specialized functions\r\n\t\tswitch (width) {\r\n\t\t\tcase 1: return signed ?\r\n\t\t\t\t(pointer) => HEAP8[((pointer)>>0)] :\r\n\t\t\t\t(pointer) => HEAPU8[((pointer)>>0)];\r\n\t\t\tcase 2: return signed ?\r\n\t\t\t\t(pointer) => HEAP16[((pointer)>>1)] :\r\n\t\t\t\t(pointer) => HEAPU16[((pointer)>>1)]\r\n\t\t\tcase 4: return signed ?\r\n\t\t\t\t(pointer) => HEAP32[((pointer)>>2)] :\r\n\t\t\t\t(pointer) => HEAPU32[((pointer)>>2)]\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new TypeError(`invalid integer width (${width}): ${name}`);\r\n\t\t}\r\n\t  };\r\n\r\n\r\n\t/** @suppress {globalThis} */\r\n\tvar __embind_register_integer = (primitiveType, name, size, minRange, maxRange) => {\r\n\t\tname = readLatin1String(name);\r\n\t\t// LLVM doesn't have signed and unsigned 32-bit types, so u32 literals come\r\n\t\t// out as 'i32 -1'. Always treat those as max u32.\r\n\t\tif (maxRange === -1) {\r\n\t\t  maxRange = 4294967295;\r\n\t\t}\r\n\r\n\t\tvar fromWireType = (value) => value;\r\n\r\n\t\tif (minRange === 0) {\r\n\t\t  var bitshift = 32 - 8*size;\r\n\t\t  fromWireType = (value) => (value << bitshift) >>> bitshift;\r\n\t\t}\r\n\r\n\t\tvar isUnsignedType = (name.includes('unsigned'));\r\n\t\tvar checkAssertions = (value, toTypeName) => {\r\n\t\t  if (typeof value != \"number\" && typeof value != \"boolean\") {\r\n\t\t\tthrow new TypeError(`Cannot convert \"${embindRepr(value)}\" to ${toTypeName}`);\r\n\t\t  }\r\n\t\t  if (value < minRange || value > maxRange) {\r\n\t\t\tthrow new TypeError(`Passing a number \"${embindRepr(value)}\" from JS side to C/C++ side to an argument of type \"${name}\", which is outside the valid range [${minRange}, ${maxRange}]!`);\r\n\t\t  }\r\n\t\t};\r\n\t\tvar toWireType;\r\n\t\tif (isUnsignedType) {\r\n\t\t  toWireType = function(destructors, value) {\r\n\t\t\tcheckAssertions(value, this.name);\r\n\t\t\treturn value >>> 0;\r\n\t\t  };\r\n\t\t} else {\r\n\t\t  toWireType = function(destructors, value) {\r\n\t\t\tcheckAssertions(value, this.name);\r\n\t\t\t// The VM will perform JS to Wasm value conversion, according to the spec:\r\n\t\t\t// https://www.w3.org/TR/wasm-js-api-1/#towebassemblyvalue\r\n\t\t\treturn value;\r\n\t\t  };\r\n\t\t}\r\n\t\tregisterType(primitiveType, {\r\n\t\t  name,\r\n\t\t  'fromWireType': fromWireType,\r\n\t\t  'toWireType': toWireType,\r\n\t\t  'argPackAdvance': GenericWireTypeSize,\r\n\t\t  'readValueFromPointer': integerReadValueFromPointer(name, size, minRange !== 0),\r\n\t\t  destructorFunction: null, // This type does not need a destructor\r\n\t\t});\r\n\t  };\r\n\r\n\r\n\tvar __embind_register_memory_view = (rawType, dataTypeIndex, name) => {\r\n\t\tvar typeMapping = [\r\n\t\t  Int8Array,\r\n\t\t  Uint8Array,\r\n\t\t  Int16Array,\r\n\t\t  Uint16Array,\r\n\t\t  Int32Array,\r\n\t\t  Uint32Array,\r\n\t\t  Float32Array,\r\n\t\t  Float64Array,\r\n\t\t];\r\n\r\n\t\tvar TA = typeMapping[dataTypeIndex];\r\n\r\n\t\tfunction decodeMemoryView(handle) {\r\n\t\t  var size = HEAPU32[((handle)>>2)];\r\n\t\t  var data = HEAPU32[(((handle)+(4))>>2)];\r\n\t\t  return new TA(HEAP8.buffer, data, size);\r\n\t\t}\r\n\r\n\t\tname = readLatin1String(name);\r\n\t\tregisterType(rawType, {\r\n\t\t  name,\r\n\t\t  'fromWireType': decodeMemoryView,\r\n\t\t  'argPackAdvance': GenericWireTypeSize,\r\n\t\t  'readValueFromPointer': decodeMemoryView,\r\n\t\t}, {\r\n\t\t  ignoreDuplicateRegistrations: true,\r\n\t\t});\r\n\t  };\r\n\r\n\r\n\r\n\t/** @suppress {globalThis} */\r\n\tfunction readPointer(pointer) {\r\n\t\treturn this['fromWireType'](HEAPU32[((pointer)>>2)]);\r\n\t  }\r\n\r\n\r\n\tvar stringToUTF8Array = (str, heap, outIdx, maxBytesToWrite) => {\r\n\t\tassert(typeof str === 'string');\r\n\t\t// Parameter maxBytesToWrite is not optional. Negative values, 0, null,\r\n\t\t// undefined and false each don't write out any bytes.\r\n\t\tif (!(maxBytesToWrite > 0))\r\n\t\t  return 0;\r\n\r\n\t\tvar startIdx = outIdx;\r\n\t\tvar endIdx = outIdx + maxBytesToWrite - 1; // -1 for string null terminator.\r\n\t\tfor (var i = 0; i < str.length; ++i) {\r\n\t\t  // Gotcha: charCodeAt returns a 16-bit word that is a UTF-16 encoded code\r\n\t\t  // unit, not a Unicode code point of the character! So decode\r\n\t\t  // UTF16->UTF32->UTF8.\r\n\t\t  // See http://unicode.org/faq/utf_bom.html#utf16-3\r\n\t\t  // For UTF8 byte structure, see http://en.wikipedia.org/wiki/UTF-8#Description\r\n\t\t  // and https://www.ietf.org/rfc/rfc2279.txt\r\n\t\t  // and https://tools.ietf.org/html/rfc3629\r\n\t\t  var u = str.charCodeAt(i); // possibly a lead surrogate\r\n\t\t  if (u >= 0xD800 && u <= 0xDFFF) {\r\n\t\t\tvar u1 = str.charCodeAt(++i);\r\n\t\t\tu = 0x10000 + ((u & 0x3FF) << 10) | (u1 & 0x3FF);\r\n\t\t  }\r\n\t\t  if (u <= 0x7F) {\r\n\t\t\tif (outIdx >= endIdx) break;\r\n\t\t\theap[outIdx++] = u;\r\n\t\t  } else if (u <= 0x7FF) {\r\n\t\t\tif (outIdx + 1 >= endIdx) break;\r\n\t\t\theap[outIdx++] = 0xC0 | (u >> 6);\r\n\t\t\theap[outIdx++] = 0x80 | (u & 63);\r\n\t\t  } else if (u <= 0xFFFF) {\r\n\t\t\tif (outIdx + 2 >= endIdx) break;\r\n\t\t\theap[outIdx++] = 0xE0 | (u >> 12);\r\n\t\t\theap[outIdx++] = 0x80 | ((u >> 6) & 63);\r\n\t\t\theap[outIdx++] = 0x80 | (u & 63);\r\n\t\t  } else {\r\n\t\t\tif (outIdx + 3 >= endIdx) break;\r\n\t\t\tif (u > 0x10FFFF) warnOnce('Invalid Unicode code point ' + ptrToString(u) + ' encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF).');\r\n\t\t\theap[outIdx++] = 0xF0 | (u >> 18);\r\n\t\t\theap[outIdx++] = 0x80 | ((u >> 12) & 63);\r\n\t\t\theap[outIdx++] = 0x80 | ((u >> 6) & 63);\r\n\t\t\theap[outIdx++] = 0x80 | (u & 63);\r\n\t\t  }\r\n\t\t}\r\n\t\t// Null-terminate the pointer to the buffer.\r\n\t\theap[outIdx] = 0;\r\n\t\treturn outIdx - startIdx;\r\n\t  };\r\n\tvar stringToUTF8 = (str, outPtr, maxBytesToWrite) => {\r\n\t\tassert(typeof maxBytesToWrite == 'number', 'stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!');\r\n\t\treturn stringToUTF8Array(str, HEAPU8, outPtr, maxBytesToWrite);\r\n\t  };\r\n\r\n\tvar lengthBytesUTF8 = (str) => {\r\n\t\tvar len = 0;\r\n\t\tfor (var i = 0; i < str.length; ++i) {\r\n\t\t  // Gotcha: charCodeAt returns a 16-bit word that is a UTF-16 encoded code\r\n\t\t  // unit, not a Unicode code point of the character! So decode\r\n\t\t  // UTF16->UTF32->UTF8.\r\n\t\t  // See http://unicode.org/faq/utf_bom.html#utf16-3\r\n\t\t  var c = str.charCodeAt(i); // possibly a lead surrogate\r\n\t\t  if (c <= 0x7F) {\r\n\t\t\tlen++;\r\n\t\t  } else if (c <= 0x7FF) {\r\n\t\t\tlen += 2;\r\n\t\t  } else if (c >= 0xD800 && c <= 0xDFFF) {\r\n\t\t\tlen += 4; ++i;\r\n\t\t  } else {\r\n\t\t\tlen += 3;\r\n\t\t  }\r\n\t\t}\r\n\t\treturn len;\r\n\t  };\r\n\r\n\r\n\r\n\tvar UTF8Decoder = typeof TextDecoder != 'undefined' ? new TextDecoder('utf8') : undefined;\r\n\r\n\t  /**\r\n\t   * Given a pointer 'idx' to a null-terminated UTF8-encoded string in the given\r\n\t   * array that contains uint8 values, returns a copy of that string as a\r\n\t   * Javascript String object.\r\n\t   * heapOrArray is either a regular array, or a JavaScript typed array view.\r\n\t   * @param {number} idx\r\n\t   * @param {number=} maxBytesToRead\r\n\t   * @return {string}\r\n\t   */\r\n\tvar UTF8ArrayToString = (heapOrArray, idx, maxBytesToRead) => {\r\n\t\tvar endIdx = idx + maxBytesToRead;\r\n\t\tvar endPtr = idx;\r\n\t\t// TextDecoder needs to know the byte length in advance, it doesn't stop on\r\n\t\t// null terminator by itself.  Also, use the length info to avoid running tiny\r\n\t\t// strings through TextDecoder, since .subarray() allocates garbage.\r\n\t\t// (As a tiny code save trick, compare endPtr against endIdx using a negation,\r\n\t\t// so that undefined means Infinity)\r\n\t\twhile (heapOrArray[endPtr] && !(endPtr >= endIdx)) ++endPtr;\r\n\r\n\t\tif (endPtr - idx > 16 && heapOrArray.buffer && UTF8Decoder) {\r\n\t\t  return UTF8Decoder.decode(heapOrArray.subarray(idx, endPtr));\r\n\t\t}\r\n\t\tvar str = '';\r\n\t\t// If building with TextDecoder, we have already computed the string length\r\n\t\t// above, so test loop end condition against that\r\n\t\twhile (idx < endPtr) {\r\n\t\t  // For UTF8 byte structure, see:\r\n\t\t  // http://en.wikipedia.org/wiki/UTF-8#Description\r\n\t\t  // https://www.ietf.org/rfc/rfc2279.txt\r\n\t\t  // https://tools.ietf.org/html/rfc3629\r\n\t\t  var u0 = heapOrArray[idx++];\r\n\t\t  if (!(u0 & 0x80)) { str += String.fromCharCode(u0); continue; }\r\n\t\t  var u1 = heapOrArray[idx++] & 63;\r\n\t\t  if ((u0 & 0xE0) == 0xC0) { str += String.fromCharCode(((u0 & 31) << 6) | u1); continue; }\r\n\t\t  var u2 = heapOrArray[idx++] & 63;\r\n\t\t  if ((u0 & 0xF0) == 0xE0) {\r\n\t\t\tu0 = ((u0 & 15) << 12) | (u1 << 6) | u2;\r\n\t\t  } else {\r\n\t\t\tif ((u0 & 0xF8) != 0xF0) warnOnce('Invalid UTF-8 leading byte ' + ptrToString(u0) + ' encountered when deserializing a UTF-8 string in wasm memory to a JS string!');\r\n\t\t\tu0 = ((u0 & 7) << 18) | (u1 << 12) | (u2 << 6) | (heapOrArray[idx++] & 63);\r\n\t\t  }\r\n\r\n\t\t  if (u0 < 0x10000) {\r\n\t\t\tstr += String.fromCharCode(u0);\r\n\t\t  } else {\r\n\t\t\tvar ch = u0 - 0x10000;\r\n\t\t\tstr += String.fromCharCode(0xD800 | (ch >> 10), 0xDC00 | (ch & 0x3FF));\r\n\t\t  }\r\n\t\t}\r\n\t\treturn str;\r\n\t  };\r\n\r\n\t  /**\r\n\t   * Given a pointer 'ptr' to a null-terminated UTF8-encoded string in the\r\n\t   * emscripten HEAP, returns a copy of that string as a Javascript String object.\r\n\t   *\r\n\t   * @param {number} ptr\r\n\t   * @param {number=} maxBytesToRead - An optional length that specifies the\r\n\t   *   maximum number of bytes to read. You can omit this parameter to scan the\r\n\t   *   string until the first 0 byte. If maxBytesToRead is passed, and the string\r\n\t   *   at [ptr, ptr+maxBytesToReadr[ contains a null byte in the middle, then the\r\n\t   *   string will cut short at that byte index (i.e. maxBytesToRead will not\r\n\t   *   produce a string of exact length [ptr, ptr+maxBytesToRead[) N.B. mixing\r\n\t   *   frequent uses of UTF8ToString() with and without maxBytesToRead may throw\r\n\t   *   JS JIT optimizations off, so it is worth to consider consistently using one\r\n\t   * @return {string}\r\n\t   */\r\n\tvar UTF8ToString = (ptr, maxBytesToRead) => {\r\n\t\tassert(typeof ptr == 'number');\r\n\t\treturn ptr ? UTF8ArrayToString(HEAPU8, ptr, maxBytesToRead) : '';\r\n\t  };\r\n\tvar __embind_register_std_string = (rawType, name) => {\r\n\t\tname = readLatin1String(name);\r\n\t\tvar stdStringIsUTF8\r\n\t\t//process only std::string bindings with UTF8 support, in contrast to e.g. std::basic_string<unsigned char>\r\n\t\t= (name === \"std::string\");\r\n\r\n\t\tregisterType(rawType, {\r\n\t\t  name,\r\n\t\t  // For some method names we use string keys here since they are part of\r\n\t\t  // the public/external API and/or used by the runtime-generated code.\r\n\t\t  'fromWireType'(value) {\r\n\t\t\tvar length = HEAPU32[((value)>>2)];\r\n\t\t\tvar payload = value + 4;\r\n\r\n\t\t\tvar str;\r\n\t\t\tif (stdStringIsUTF8) {\r\n\t\t\t  var decodeStartPtr = payload;\r\n\t\t\t  // Looping here to support possible embedded '0' bytes\r\n\t\t\t  for (var i = 0; i <= length; ++i) {\r\n\t\t\t\tvar currentBytePtr = payload + i;\r\n\t\t\t\tif (i == length || HEAPU8[currentBytePtr] == 0) {\r\n\t\t\t\t  var maxRead = currentBytePtr - decodeStartPtr;\r\n\t\t\t\t  var stringSegment = UTF8ToString(decodeStartPtr, maxRead);\r\n\t\t\t\t  if (str === undefined) {\r\n\t\t\t\t\tstr = stringSegment;\r\n\t\t\t\t  } else {\r\n\t\t\t\t\tstr += String.fromCharCode(0);\r\n\t\t\t\t\tstr += stringSegment;\r\n\t\t\t\t  }\r\n\t\t\t\t  decodeStartPtr = currentBytePtr + 1;\r\n\t\t\t\t}\r\n\t\t\t  }\r\n\t\t\t} else {\r\n\t\t\t  var a = new Array(length);\r\n\t\t\t  for (var i = 0; i < length; ++i) {\r\n\t\t\t\ta[i] = String.fromCharCode(HEAPU8[payload + i]);\r\n\t\t\t  }\r\n\t\t\t  str = a.join('');\r\n\t\t\t}\r\n\r\n\t\t\t_free(value);\r\n\r\n\t\t\treturn str;\r\n\t\t  },\r\n\t\t  'toWireType'(destructors, value) {\r\n\t\t\tif (value instanceof ArrayBuffer) {\r\n\t\t\t  value = new Uint8Array(value);\r\n\t\t\t}\r\n\r\n\t\t\tvar length;\r\n\t\t\tvar valueIsOfTypeString = (typeof value == 'string');\r\n\r\n\t\t\tif (!(valueIsOfTypeString || value instanceof Uint8Array || value instanceof Uint8ClampedArray || value instanceof Int8Array)) {\r\n\t\t\t  throwBindingError('Cannot pass non-string to std::string');\r\n\t\t\t}\r\n\t\t\tif (stdStringIsUTF8 && valueIsOfTypeString) {\r\n\t\t\t  length = lengthBytesUTF8(value);\r\n\t\t\t} else {\r\n\t\t\t  length = value.length;\r\n\t\t\t}\r\n\r\n\t\t\t// assumes 4-byte alignment\r\n\t\t\tvar base = _malloc(4 + length + 1);\r\n\t\t\tvar ptr = base + 4;\r\n\t\t\tHEAPU32[((base)>>2)] = length;\r\n\t\t\tif (stdStringIsUTF8 && valueIsOfTypeString) {\r\n\t\t\t  stringToUTF8(value, ptr, length + 1);\r\n\t\t\t} else {\r\n\t\t\t  if (valueIsOfTypeString) {\r\n\t\t\t\tfor (var i = 0; i < length; ++i) {\r\n\t\t\t\t  var charCode = value.charCodeAt(i);\r\n\t\t\t\t  if (charCode > 255) {\r\n\t\t\t\t\t_free(ptr);\r\n\t\t\t\t\tthrowBindingError('String has UTF-16 code units that do not fit in 8 bits');\r\n\t\t\t\t  }\r\n\t\t\t\t  HEAPU8[ptr + i] = charCode;\r\n\t\t\t\t}\r\n\t\t\t  } else {\r\n\t\t\t\tfor (var i = 0; i < length; ++i) {\r\n\t\t\t\t  HEAPU8[ptr + i] = value[i];\r\n\t\t\t\t}\r\n\t\t\t  }\r\n\t\t\t}\r\n\r\n\t\t\tif (destructors !== null) {\r\n\t\t\t  destructors.push(_free, base);\r\n\t\t\t}\r\n\t\t\treturn base;\r\n\t\t  },\r\n\t\t  'argPackAdvance': GenericWireTypeSize,\r\n\t\t  'readValueFromPointer': readPointer,\r\n\t\t  destructorFunction(ptr) {\r\n\t\t\t_free(ptr);\r\n\t\t  },\r\n\t\t});\r\n\t  };\r\n\r\n\r\n\r\n\r\n\tvar UTF16Decoder = typeof TextDecoder != 'undefined' ? new TextDecoder('utf-16le') : undefined;  var UTF16ToString = (ptr, maxBytesToRead) => {\r\n\t\tassert(ptr % 2 == 0, 'Pointer passed to UTF16ToString must be aligned to two bytes!');\r\n\t\tvar endPtr = ptr;\r\n\t\t// TextDecoder needs to know the byte length in advance, it doesn't stop on\r\n\t\t// null terminator by itself.\r\n\t\t// Also, use the length info to avoid running tiny strings through\r\n\t\t// TextDecoder, since .subarray() allocates garbage.\r\n\t\tvar idx = endPtr >> 1;\r\n\t\tvar maxIdx = idx + maxBytesToRead / 2;\r\n\t\t// If maxBytesToRead is not passed explicitly, it will be undefined, and this\r\n\t\t// will always evaluate to true. This saves on code size.\r\n\t\twhile (!(idx >= maxIdx) && HEAPU16[idx]) ++idx;\r\n\t\tendPtr = idx << 1;\r\n\r\n\t\tif (endPtr - ptr > 32 && UTF16Decoder)\r\n\t\t  return UTF16Decoder.decode(HEAPU8.subarray(ptr, endPtr));\r\n\r\n\t\t// Fallback: decode without UTF16Decoder\r\n\t\tvar str = '';\r\n\r\n\t\t// If maxBytesToRead is not passed explicitly, it will be undefined, and the\r\n\t\t// for-loop's condition will always evaluate to true. The loop is then\r\n\t\t// terminated on the first null char.\r\n\t\tfor (var i = 0; !(i >= maxBytesToRead / 2); ++i) {\r\n\t\t  var codeUnit = HEAP16[(((ptr)+(i*2))>>1)];\r\n\t\t  if (codeUnit == 0) break;\r\n\t\t  // fromCharCode constructs a character from a UTF-16 code unit, so we can\r\n\t\t  // pass the UTF16 string right through.\r\n\t\t  str += String.fromCharCode(codeUnit);\r\n\t\t}\r\n\r\n\t\treturn str;\r\n\t  };\r\n\r\n\tvar stringToUTF16 = (str, outPtr, maxBytesToWrite) => {\r\n\t\tassert(outPtr % 2 == 0, 'Pointer passed to stringToUTF16 must be aligned to two bytes!');\r\n\t\tassert(typeof maxBytesToWrite == 'number', 'stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!');\r\n\t\t// Backwards compatibility: if max bytes is not specified, assume unsafe unbounded write is allowed.\r\n\t\tif (maxBytesToWrite === undefined) {\r\n\t\t  maxBytesToWrite = 0x7FFFFFFF;\r\n\t\t}\r\n\t\tif (maxBytesToWrite < 2) return 0;\r\n\t\tmaxBytesToWrite -= 2; // Null terminator.\r\n\t\tvar startPtr = outPtr;\r\n\t\tvar numCharsToWrite = (maxBytesToWrite < str.length*2) ? (maxBytesToWrite / 2) : str.length;\r\n\t\tfor (var i = 0; i < numCharsToWrite; ++i) {\r\n\t\t  // charCodeAt returns a UTF-16 encoded code unit, so it can be directly written to the HEAP.\r\n\t\t  var codeUnit = str.charCodeAt(i); // possibly a lead surrogate\r\n\t\t  HEAP16[((outPtr)>>1)] = codeUnit;\r\n\t\t  outPtr += 2;\r\n\t\t}\r\n\t\t// Null-terminate the pointer to the HEAP.\r\n\t\tHEAP16[((outPtr)>>1)] = 0;\r\n\t\treturn outPtr - startPtr;\r\n\t  };\r\n\r\n\tvar lengthBytesUTF16 = (str) => {\r\n\t\treturn str.length*2;\r\n\t  };\r\n\r\n\tvar UTF32ToString = (ptr, maxBytesToRead) => {\r\n\t\tassert(ptr % 4 == 0, 'Pointer passed to UTF32ToString must be aligned to four bytes!');\r\n\t\tvar i = 0;\r\n\r\n\t\tvar str = '';\r\n\t\t// If maxBytesToRead is not passed explicitly, it will be undefined, and this\r\n\t\t// will always evaluate to true. This saves on code size.\r\n\t\twhile (!(i >= maxBytesToRead / 4)) {\r\n\t\t  var utf32 = HEAP32[(((ptr)+(i*4))>>2)];\r\n\t\t  if (utf32 == 0) break;\r\n\t\t  ++i;\r\n\t\t  // Gotcha: fromCharCode constructs a character from a UTF-16 encoded code (pair), not from a Unicode code point! So encode the code point to UTF-16 for constructing.\r\n\t\t  // See http://unicode.org/faq/utf_bom.html#utf16-3\r\n\t\t  if (utf32 >= 0x10000) {\r\n\t\t\tvar ch = utf32 - 0x10000;\r\n\t\t\tstr += String.fromCharCode(0xD800 | (ch >> 10), 0xDC00 | (ch & 0x3FF));\r\n\t\t  } else {\r\n\t\t\tstr += String.fromCharCode(utf32);\r\n\t\t  }\r\n\t\t}\r\n\t\treturn str;\r\n\t  };\r\n\r\n\tvar stringToUTF32 = (str, outPtr, maxBytesToWrite) => {\r\n\t\tassert(outPtr % 4 == 0, 'Pointer passed to stringToUTF32 must be aligned to four bytes!');\r\n\t\tassert(typeof maxBytesToWrite == 'number', 'stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!');\r\n\t\t// Backwards compatibility: if max bytes is not specified, assume unsafe unbounded write is allowed.\r\n\t\tif (maxBytesToWrite === undefined) {\r\n\t\t  maxBytesToWrite = 0x7FFFFFFF;\r\n\t\t}\r\n\t\tif (maxBytesToWrite < 4) return 0;\r\n\t\tvar startPtr = outPtr;\r\n\t\tvar endPtr = startPtr + maxBytesToWrite - 4;\r\n\t\tfor (var i = 0; i < str.length; ++i) {\r\n\t\t  // Gotcha: charCodeAt returns a 16-bit word that is a UTF-16 encoded code unit, not a Unicode code point of the character! We must decode the string to UTF-32 to the heap.\r\n\t\t  // See http://unicode.org/faq/utf_bom.html#utf16-3\r\n\t\t  var codeUnit = str.charCodeAt(i); // possibly a lead surrogate\r\n\t\t  if (codeUnit >= 0xD800 && codeUnit <= 0xDFFF) {\r\n\t\t\tvar trailSurrogate = str.charCodeAt(++i);\r\n\t\t\tcodeUnit = 0x10000 + ((codeUnit & 0x3FF) << 10) | (trailSurrogate & 0x3FF);\r\n\t\t  }\r\n\t\t  HEAP32[((outPtr)>>2)] = codeUnit;\r\n\t\t  outPtr += 4;\r\n\t\t  if (outPtr + 4 > endPtr) break;\r\n\t\t}\r\n\t\t// Null-terminate the pointer to the HEAP.\r\n\t\tHEAP32[((outPtr)>>2)] = 0;\r\n\t\treturn outPtr - startPtr;\r\n\t  };\r\n\r\n\tvar lengthBytesUTF32 = (str) => {\r\n\t\tvar len = 0;\r\n\t\tfor (var i = 0; i < str.length; ++i) {\r\n\t\t  // Gotcha: charCodeAt returns a 16-bit word that is a UTF-16 encoded code unit, not a Unicode code point of the character! We must decode the string to UTF-32 to the heap.\r\n\t\t  // See http://unicode.org/faq/utf_bom.html#utf16-3\r\n\t\t  var codeUnit = str.charCodeAt(i);\r\n\t\t  if (codeUnit >= 0xD800 && codeUnit <= 0xDFFF) ++i; // possibly a lead surrogate, so skip over the tail surrogate.\r\n\t\t  len += 4;\r\n\t\t}\r\n\r\n\t\treturn len;\r\n\t  };\r\n\tvar __embind_register_std_wstring = (rawType, charSize, name) => {\r\n\t\tname = readLatin1String(name);\r\n\t\tvar decodeString, encodeString, getHeap, lengthBytesUTF, shift;\r\n\t\tif (charSize === 2) {\r\n\t\t  decodeString = UTF16ToString;\r\n\t\t  encodeString = stringToUTF16;\r\n\t\t  lengthBytesUTF = lengthBytesUTF16;\r\n\t\t  getHeap = () => HEAPU16;\r\n\t\t  shift = 1;\r\n\t\t} else if (charSize === 4) {\r\n\t\t  decodeString = UTF32ToString;\r\n\t\t  encodeString = stringToUTF32;\r\n\t\t  lengthBytesUTF = lengthBytesUTF32;\r\n\t\t  getHeap = () => HEAPU32;\r\n\t\t  shift = 2;\r\n\t\t}\r\n\t\tregisterType(rawType, {\r\n\t\t  name,\r\n\t\t  'fromWireType': (value) => {\r\n\t\t\t// Code mostly taken from _embind_register_std_string fromWireType\r\n\t\t\tvar length = HEAPU32[((value)>>2)];\r\n\t\t\tvar HEAP = getHeap();\r\n\t\t\tvar str;\r\n\r\n\t\t\tvar decodeStartPtr = value + 4;\r\n\t\t\t// Looping here to support possible embedded '0' bytes\r\n\t\t\tfor (var i = 0; i <= length; ++i) {\r\n\t\t\t  var currentBytePtr = value + 4 + i * charSize;\r\n\t\t\t  if (i == length || HEAP[currentBytePtr >> shift] == 0) {\r\n\t\t\t\tvar maxReadBytes = currentBytePtr - decodeStartPtr;\r\n\t\t\t\tvar stringSegment = decodeString(decodeStartPtr, maxReadBytes);\r\n\t\t\t\tif (str === undefined) {\r\n\t\t\t\t  str = stringSegment;\r\n\t\t\t\t} else {\r\n\t\t\t\t  str += String.fromCharCode(0);\r\n\t\t\t\t  str += stringSegment;\r\n\t\t\t\t}\r\n\t\t\t\tdecodeStartPtr = currentBytePtr + charSize;\r\n\t\t\t  }\r\n\t\t\t}\r\n\r\n\t\t\t_free(value);\r\n\r\n\t\t\treturn str;\r\n\t\t  },\r\n\t\t  'toWireType': (destructors, value) => {\r\n\t\t\tif (!(typeof value == 'string')) {\r\n\t\t\t  throwBindingError(`Cannot pass non-string to C++ string type ${name}`);\r\n\t\t\t}\r\n\r\n\t\t\t// assumes 4-byte alignment\r\n\t\t\tvar length = lengthBytesUTF(value);\r\n\t\t\tvar ptr = _malloc(4 + length + charSize);\r\n\t\t\tHEAPU32[ptr >> 2] = length >> shift;\r\n\r\n\t\t\tencodeString(value, ptr + 4, length + charSize);\r\n\r\n\t\t\tif (destructors !== null) {\r\n\t\t\t  destructors.push(_free, ptr);\r\n\t\t\t}\r\n\t\t\treturn ptr;\r\n\t\t  },\r\n\t\t  'argPackAdvance': GenericWireTypeSize,\r\n\t\t  'readValueFromPointer': simpleReadValueFromPointer,\r\n\t\t  destructorFunction(ptr) {\r\n\t\t\t_free(ptr);\r\n\t\t  }\r\n\t\t});\r\n\t  };\r\n\r\n\r\n\r\n\tvar __embind_register_value_object = (\r\n\t\trawType,\r\n\t\tname,\r\n\t\tconstructorSignature,\r\n\t\trawConstructor,\r\n\t\tdestructorSignature,\r\n\t\trawDestructor\r\n\t  ) => {\r\n\t\tstructRegistrations[rawType] = {\r\n\t\t  name: readLatin1String(name),\r\n\t\t  rawConstructor: embind__requireFunction(constructorSignature, rawConstructor),\r\n\t\t  rawDestructor: embind__requireFunction(destructorSignature, rawDestructor),\r\n\t\t  fields: [],\r\n\t\t};\r\n\t  };\r\n\r\n\r\n\r\n\tvar __embind_register_value_object_field = (\r\n\t\tstructType,\r\n\t\tfieldName,\r\n\t\tgetterReturnType,\r\n\t\tgetterSignature,\r\n\t\tgetter,\r\n\t\tgetterContext,\r\n\t\tsetterArgumentType,\r\n\t\tsetterSignature,\r\n\t\tsetter,\r\n\t\tsetterContext\r\n\t  ) => {\r\n\t\tstructRegistrations[structType].fields.push({\r\n\t\t  fieldName: readLatin1String(fieldName),\r\n\t\t  getterReturnType,\r\n\t\t  getter: embind__requireFunction(getterSignature, getter),\r\n\t\t  getterContext,\r\n\t\t  setterArgumentType,\r\n\t\t  setter: embind__requireFunction(setterSignature, setter),\r\n\t\t  setterContext,\r\n\t\t});\r\n\t  };\r\n\r\n\r\n\tvar __embind_register_void = (rawType, name) => {\r\n\t\tname = readLatin1String(name);\r\n\t\tregisterType(rawType, {\r\n\t\t  isVoid: true, // void return values can be optimized out sometimes\r\n\t\t  name,\r\n\t\t  'argPackAdvance': 0,\r\n\t\t  'fromWireType': () => undefined,\r\n\t\t  // TODO: assert if anything else is given?\r\n\t\t  'toWireType': (destructors, o) => undefined,\r\n\t\t});\r\n\t  };\r\n\r\n\tvar __emscripten_throw_longjmp = () => {\r\n\t\tthrow Infinity;\r\n\t  };\r\n\r\n\r\n\tvar __emval_incref = (handle) => {\r\n\t\tif (handle > 4) {\r\n\t\t  emval_handles.get(handle).refcount += 1;\r\n\t\t}\r\n\t  };\r\n\r\n\tvar emval_symbols = {\r\n\t};\r\n\r\n\tvar getStringOrSymbol = (address) => {\r\n\t\tvar symbol = emval_symbols[address];\r\n\t\tif (symbol === undefined) {\r\n\t\t  return readLatin1String(address);\r\n\t\t}\r\n\t\treturn symbol;\r\n\t  };\r\n\r\n\tvar __emval_new_cstring = (v) => {\r\n\t\treturn Emval.toHandle(getStringOrSymbol(v));\r\n\t  };\r\n\r\n\r\n\r\n\r\n\tvar requireRegisteredType = (rawType, humanName) => {\r\n\t\tvar impl = registeredTypes[rawType];\r\n\t\tif (undefined === impl) {\r\n\t\t\tthrowBindingError(humanName + \" has unknown type \" + getTypeName(rawType));\r\n\t\t}\r\n\t\treturn impl;\r\n\t  };\r\n\tvar __emval_take_value = (type, arg) => {\r\n\t\ttype = requireRegisteredType(type, '_emval_take_value');\r\n\t\tvar v = type['readValueFromPointer'](arg);\r\n\t\treturn Emval.toHandle(v);\r\n\t  };\r\n\r\n\tvar _abort = () => {\r\n\t\tabort('native code called abort()');\r\n\t  };\r\n\r\n\tvar _emscripten_memcpy_js = (dest, src, num) => HEAPU8.copyWithin(dest, src, src + num);\r\n\r\n\tvar getHeapMax = () =>\r\n\t\t// Stay one Wasm page short of 4GB: while e.g. Chrome is able to allocate\r\n\t\t// full 4GB Wasm memories, the size will wrap back to 0 bytes in Wasm side\r\n\t\t// for any code that deals with heap sizes, which would require special\r\n\t\t// casing all heap size related code to treat 0 specially.\r\n\t\t2147483648;\r\n\r\n\tvar growMemory = (size) => {\r\n\t\tvar b = wasmMemory.buffer;\r\n\t\tvar pages = (size - b.byteLength + 65535) / 65536;\r\n\t\ttry {\r\n\t\t  // round size grow request up to wasm page size (fixed 64KB per spec)\r\n\t\t  wasmMemory.grow(pages); // .grow() takes a delta compared to the previous size\r\n\t\t  updateMemoryViews();\r\n\t\t  return 1 /*success*/;\r\n\t\t} catch(e) {\r\n\t\t  err(`growMemory: Attempted to grow heap from ${b.byteLength} bytes to ${size} bytes, but got error: ${e}`);\r\n\t\t}\r\n\t\t// implicit 0 return to save code size (caller will cast \"undefined\" into 0\r\n\t\t// anyhow)\r\n\t  };\r\n\tvar _emscripten_resize_heap = (requestedSize) => {\r\n\t\tvar oldSize = HEAPU8.length;\r\n\t\t// With CAN_ADDRESS_2GB or MEMORY64, pointers are already unsigned.\r\n\t\trequestedSize >>>= 0;\r\n\t\t// With multithreaded builds, races can happen (another thread might increase the size\r\n\t\t// in between), so return a failure, and let the caller retry.\r\n\t\tassert(requestedSize > oldSize);\r\n\r\n\t\t// Memory resize rules:\r\n\t\t// 1.  Always increase heap size to at least the requested size, rounded up\r\n\t\t//     to next page multiple.\r\n\t\t// 2a. If MEMORY_GROWTH_LINEAR_STEP == -1, excessively resize the heap\r\n\t\t//     geometrically: increase the heap size according to\r\n\t\t//     MEMORY_GROWTH_GEOMETRIC_STEP factor (default +20%), At most\r\n\t\t//     overreserve by MEMORY_GROWTH_GEOMETRIC_CAP bytes (default 96MB).\r\n\t\t// 2b. If MEMORY_GROWTH_LINEAR_STEP != -1, excessively resize the heap\r\n\t\t//     linearly: increase the heap size by at least\r\n\t\t//     MEMORY_GROWTH_LINEAR_STEP bytes.\r\n\t\t// 3.  Max size for the heap is capped at 2048MB-WASM_PAGE_SIZE, or by\r\n\t\t//     MAXIMUM_MEMORY, or by ASAN limit, depending on which is smallest\r\n\t\t// 4.  If we were unable to allocate as much memory, it may be due to\r\n\t\t//     over-eager decision to excessively reserve due to (3) above.\r\n\t\t//     Hence if an allocation fails, cut down on the amount of excess\r\n\t\t//     growth, in an attempt to succeed to perform a smaller allocation.\r\n\r\n\t\t// A limit is set for how much we can grow. We should not exceed that\r\n\t\t// (the wasm binary specifies it, so if we tried, we'd fail anyhow).\r\n\t\tvar maxHeapSize = getHeapMax();\r\n\t\tif (requestedSize > maxHeapSize) {\r\n\t\t  err(`Cannot enlarge memory, requested ${requestedSize} bytes, but the limit is ${maxHeapSize} bytes!`);\r\n\t\t  return false;\r\n\t\t}\r\n\r\n\t\tvar alignUp = (x, multiple) => x + (multiple - x % multiple) % multiple;\r\n\r\n\t\t// Loop through potential heap size increases. If we attempt a too eager\r\n\t\t// reservation that fails, cut down on the attempted size and reserve a\r\n\t\t// smaller bump instead. (max 3 times, chosen somewhat arbitrarily)\r\n\t\tfor (var cutDown = 1; cutDown <= 4; cutDown *= 2) {\r\n\t\t  var overGrownHeapSize = oldSize * (1 + 0.2 / cutDown); // ensure geometric growth\r\n\t\t  // but limit overreserving (default to capping at +96MB overgrowth at most)\r\n\t\t  overGrownHeapSize = Math.min(overGrownHeapSize, requestedSize + 100663296 );\r\n\r\n\t\t  var newSize = Math.min(maxHeapSize, alignUp(Math.max(requestedSize, overGrownHeapSize), 65536));\r\n\r\n\t\t  var replacement = growMemory(newSize);\r\n\t\t  if (replacement) {\r\n\r\n\t\t\treturn true;\r\n\t\t  }\r\n\t\t}\r\n\t\terr(`Failed to grow the heap from ${oldSize} bytes to ${newSize} bytes, not enough memory!`);\r\n\t\treturn false;\r\n\t  };\r\n\r\n\tvar ENV = {\r\n\t};\r\n\r\n\tvar getExecutableName = () => {\r\n\t\treturn thisProgram || './this.program';\r\n\t  };\r\n\tvar getEnvStrings = () => {\r\n\t\tif (!getEnvStrings.strings) {\r\n\t\t  // Default values.\r\n\t\t  // Browser language detection #8751\r\n\t\t  var lang = ((typeof navigator == 'object' && navigator.languages && navigator.languages[0]) || 'C').replace('-', '_') + '.UTF-8';\r\n\t\t  var env = {\r\n\t\t\t'USER': 'web_user',\r\n\t\t\t'LOGNAME': 'web_user',\r\n\t\t\t'PATH': '/',\r\n\t\t\t'PWD': '/',\r\n\t\t\t'HOME': '/home/web_user',\r\n\t\t\t'LANG': lang,\r\n\t\t\t'_': getExecutableName()\r\n\t\t  };\r\n\t\t  // Apply the user-provided values, if any.\r\n\t\t  for (var x in ENV) {\r\n\t\t\t// x is a key in ENV; if ENV[x] is undefined, that means it was\r\n\t\t\t// explicitly set to be so. We allow user code to do that to\r\n\t\t\t// force variables with default values to remain unset.\r\n\t\t\tif (ENV[x] === undefined) delete env[x];\r\n\t\t\telse env[x] = ENV[x];\r\n\t\t  }\r\n\t\t  var strings = [];\r\n\t\t  for (var x in env) {\r\n\t\t\tstrings.push(`${x}=${env[x]}`);\r\n\t\t  }\r\n\t\t  getEnvStrings.strings = strings;\r\n\t\t}\r\n\t\treturn getEnvStrings.strings;\r\n\t  };\r\n\r\n\tvar stringToAscii = (str, buffer) => {\r\n\t\tfor (var i = 0; i < str.length; ++i) {\r\n\t\t  assert(str.charCodeAt(i) === (str.charCodeAt(i) & 0xff));\r\n\t\t  HEAP8[((buffer++)>>0)] = str.charCodeAt(i);\r\n\t\t}\r\n\t\t// Null-terminate the string\r\n\t\tHEAP8[((buffer)>>0)] = 0;\r\n\t  };\r\n\r\n\tvar PATH = {\r\n\tisAbs:(path) => path.charAt(0) === '/',\r\n\tsplitPath:(filename) => {\r\n\t\t  var splitPathRe = /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\r\n\t\t  return splitPathRe.exec(filename).slice(1);\r\n\t\t},\r\n\tnormalizeArray:(parts, allowAboveRoot) => {\r\n\t\t  // if the path tries to go above the root, `up` ends up > 0\r\n\t\t  var up = 0;\r\n\t\t  for (var i = parts.length - 1; i >= 0; i--) {\r\n\t\t\tvar last = parts[i];\r\n\t\t\tif (last === '.') {\r\n\t\t\t  parts.splice(i, 1);\r\n\t\t\t} else if (last === '..') {\r\n\t\t\t  parts.splice(i, 1);\r\n\t\t\t  up++;\r\n\t\t\t} else if (up) {\r\n\t\t\t  parts.splice(i, 1);\r\n\t\t\t  up--;\r\n\t\t\t}\r\n\t\t  }\r\n\t\t  // if the path is allowed to go above the root, restore leading ..s\r\n\t\t  if (allowAboveRoot) {\r\n\t\t\tfor (; up; up--) {\r\n\t\t\t  parts.unshift('..');\r\n\t\t\t}\r\n\t\t  }\r\n\t\t  return parts;\r\n\t\t},\r\n\tnormalize:(path) => {\r\n\t\t  var isAbsolute = PATH.isAbs(path),\r\n\t\t\t  trailingSlash = path.substr(-1) === '/';\r\n\t\t  // Normalize the path\r\n\t\t  path = PATH.normalizeArray(path.split('/').filter((p) => !!p), !isAbsolute).join('/');\r\n\t\t  if (!path && !isAbsolute) {\r\n\t\t\tpath = '.';\r\n\t\t  }\r\n\t\t  if (path && trailingSlash) {\r\n\t\t\tpath += '/';\r\n\t\t  }\r\n\t\t  return (isAbsolute ? '/' : '') + path;\r\n\t\t},\r\n\tdirname:(path) => {\r\n\t\t  var result = PATH.splitPath(path),\r\n\t\t\t  root = result[0],\r\n\t\t\t  dir = result[1];\r\n\t\t  if (!root && !dir) {\r\n\t\t\t// No dirname whatsoever\r\n\t\t\treturn '.';\r\n\t\t  }\r\n\t\t  if (dir) {\r\n\t\t\t// It has a dirname, strip trailing slash\r\n\t\t\tdir = dir.substr(0, dir.length - 1);\r\n\t\t  }\r\n\t\t  return root + dir;\r\n\t\t},\r\n\tbasename:(path) => {\r\n\t\t  // EMSCRIPTEN return '/'' for '/', not an empty string\r\n\t\t  if (path === '/') return '/';\r\n\t\t  path = PATH.normalize(path);\r\n\t\t  path = path.replace(/\\/$/, \"\");\r\n\t\t  var lastSlash = path.lastIndexOf('/');\r\n\t\t  if (lastSlash === -1) return path;\r\n\t\t  return path.substr(lastSlash+1);\r\n\t\t},\r\n\tjoin:function() {\r\n\t\t  var paths = Array.prototype.slice.call(arguments);\r\n\t\t  return PATH.normalize(paths.join('/'));\r\n\t\t},\r\n\tjoin2:(l, r) => {\r\n\t\t  return PATH.normalize(l + '/' + r);\r\n\t\t},\r\n\t};\r\n\r\n\tvar initRandomFill = () => {\r\n\t\tif (typeof crypto == 'object' && typeof crypto['getRandomValues'] == 'function') {\r\n\t\t  // for modern web browsers\r\n\t\t  return (view) => crypto.getRandomValues(view);\r\n\t\t} else\r\n\t\tif (ENVIRONMENT_IS_NODE) {\r\n\t\t  // for nodejs with or without crypto support included\r\n\t\t  try {\r\n\t\t\tvar crypto_module = require('crypto');\r\n\t\t\tvar randomFillSync = crypto_module['randomFillSync'];\r\n\t\t\tif (randomFillSync) {\r\n\t\t\t  // nodejs with LTS crypto support\r\n\t\t\t  return (view) => crypto_module['randomFillSync'](view);\r\n\t\t\t}\r\n\t\t\t// very old nodejs with the original crypto API\r\n\t\t\tvar randomBytes = crypto_module['randomBytes'];\r\n\t\t\treturn (view) => (\r\n\t\t\t  view.set(randomBytes(view.byteLength)),\r\n\t\t\t  // Return the original view to match modern native implementations.\r\n\t\t\t  view\r\n\t\t\t);\r\n\t\t  } catch (e) {\r\n\t\t\t// nodejs doesn't have crypto support\r\n\t\t  }\r\n\t\t}\r\n\t\t// we couldn't find a proper implementation, as Math.random() is not suitable for /dev/random, see emscripten-core/emscripten/pull/7096\r\n\t\tabort(\"no cryptographic support found for randomDevice. consider polyfilling it if you want to use something insecure like Math.random(), e.g. put this in a --pre-js: var crypto = { getRandomValues: (array) => { for (var i = 0; i < array.length; i++) array[i] = (Math.random()*256)|0 } };\");\r\n\t  };\r\n\tvar randomFill = (view) => {\r\n\t\t// Lazily init on the first invocation.\r\n\t\treturn (randomFill = initRandomFill())(view);\r\n\t  };\r\n\r\n\r\n\r\n\tvar PATH_FS = {\r\n\tresolve:function() {\r\n\t\t  var resolvedPath = '',\r\n\t\t\tresolvedAbsolute = false;\r\n\t\t  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\r\n\t\t\tvar path = (i >= 0) ? arguments[i] : FS.cwd();\r\n\t\t\t// Skip empty and invalid entries\r\n\t\t\tif (typeof path != 'string') {\r\n\t\t\t  throw new TypeError('Arguments to path.resolve must be strings');\r\n\t\t\t} else if (!path) {\r\n\t\t\t  return ''; // an invalid portion invalidates the whole thing\r\n\t\t\t}\r\n\t\t\tresolvedPath = path + '/' + resolvedPath;\r\n\t\t\tresolvedAbsolute = PATH.isAbs(path);\r\n\t\t  }\r\n\t\t  // At this point the path should be resolved to a full absolute path, but\r\n\t\t  // handle relative paths to be safe (might happen when process.cwd() fails)\r\n\t\t  resolvedPath = PATH.normalizeArray(resolvedPath.split('/').filter((p) => !!p), !resolvedAbsolute).join('/');\r\n\t\t  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\r\n\t\t},\r\n\trelative:(from, to) => {\r\n\t\t  from = PATH_FS.resolve(from).substr(1);\r\n\t\t  to = PATH_FS.resolve(to).substr(1);\r\n\t\t  function trim(arr) {\r\n\t\t\tvar start = 0;\r\n\t\t\tfor (; start < arr.length; start++) {\r\n\t\t\t  if (arr[start] !== '') break;\r\n\t\t\t}\r\n\t\t\tvar end = arr.length - 1;\r\n\t\t\tfor (; end >= 0; end--) {\r\n\t\t\t  if (arr[end] !== '') break;\r\n\t\t\t}\r\n\t\t\tif (start > end) return [];\r\n\t\t\treturn arr.slice(start, end - start + 1);\r\n\t\t  }\r\n\t\t  var fromParts = trim(from.split('/'));\r\n\t\t  var toParts = trim(to.split('/'));\r\n\t\t  var length = Math.min(fromParts.length, toParts.length);\r\n\t\t  var samePartsLength = length;\r\n\t\t  for (var i = 0; i < length; i++) {\r\n\t\t\tif (fromParts[i] !== toParts[i]) {\r\n\t\t\t  samePartsLength = i;\r\n\t\t\t  break;\r\n\t\t\t}\r\n\t\t  }\r\n\t\t  var outputParts = [];\r\n\t\t  for (var i = samePartsLength; i < fromParts.length; i++) {\r\n\t\t\toutputParts.push('..');\r\n\t\t  }\r\n\t\t  outputParts = outputParts.concat(toParts.slice(samePartsLength));\r\n\t\t  return outputParts.join('/');\r\n\t\t},\r\n\t};\r\n\r\n\r\n\r\n\tvar FS_stdin_getChar_buffer = [];\r\n\r\n\r\n\t/** @type {function(string, boolean=, number=)} */\r\n\tfunction intArrayFromString(stringy, dontAddNull, length) {\r\n\t  var len = length > 0 ? length : lengthBytesUTF8(stringy)+1;\r\n\t  var u8array = new Array(len);\r\n\t  var numBytesWritten = stringToUTF8Array(stringy, u8array, 0, u8array.length);\r\n\t  if (dontAddNull) u8array.length = numBytesWritten;\r\n\t  return u8array;\r\n\t}\r\n\tvar FS_stdin_getChar = () => {\r\n\t\tif (!FS_stdin_getChar_buffer.length) {\r\n\t\t  var result = null;\r\n\t\t  if (ENVIRONMENT_IS_NODE) {\r\n\t\t\t// we will read data by chunks of BUFSIZE\r\n\t\t\tvar BUFSIZE = 256;\r\n\t\t\tvar buf = Buffer.alloc(BUFSIZE);\r\n\t\t\tvar bytesRead = 0;\r\n\r\n\t\t\t// For some reason we must suppress a closure warning here, even though\r\n\t\t\t// fd definitely exists on process.stdin, and is even the proper way to\r\n\t\t\t// get the fd of stdin,\r\n\t\t\t// https://github.com/nodejs/help/issues/2136#issuecomment-523649904\r\n\t\t\t// This started to happen after moving this logic out of library_tty.js,\r\n\t\t\t// so it is related to the surrounding code in some unclear manner.\r\n\t\t\t/** @suppress {missingProperties} */\r\n\t\t\tvar fd = process.stdin.fd;\r\n\r\n\t\t\ttry {\r\n\t\t\t  bytesRead = fs.readSync(fd, buf);\r\n\t\t\t} catch(e) {\r\n\t\t\t  // Cross-platform differences: on Windows, reading EOF throws an exception, but on other OSes,\r\n\t\t\t  // reading EOF returns 0. Uniformize behavior by treating the EOF exception to return 0.\r\n\t\t\t  if (e.toString().includes('EOF')) bytesRead = 0;\r\n\t\t\t  else throw e;\r\n\t\t\t}\r\n\r\n\t\t\tif (bytesRead > 0) {\r\n\t\t\t  result = buf.slice(0, bytesRead).toString('utf-8');\r\n\t\t\t} else {\r\n\t\t\t  result = null;\r\n\t\t\t}\r\n\t\t  } else\r\n\t\t  if (typeof window != 'undefined' &&\r\n\t\t\ttypeof window.prompt == 'function') {\r\n\t\t\t// Browser.\r\n\t\t\tresult = window.prompt('Input: ');  // returns null on cancel\r\n\t\t\tif (result !== null) {\r\n\t\t\t  result += '\\n';\r\n\t\t\t}\r\n\t\t  } else if (typeof readline == 'function') {\r\n\t\t\t// Command line.\r\n\t\t\tresult = readline();\r\n\t\t\tif (result !== null) {\r\n\t\t\t  result += '\\n';\r\n\t\t\t}\r\n\t\t  }\r\n\t\t  if (!result) {\r\n\t\t\treturn null;\r\n\t\t  }\r\n\t\t  FS_stdin_getChar_buffer = intArrayFromString(result, true);\r\n\t\t}\r\n\t\treturn FS_stdin_getChar_buffer.shift();\r\n\t  };\r\n\tvar TTY = {\r\n\tttys:[],\r\n\tinit() {\r\n\t\t  // https://github.com/emscripten-core/emscripten/pull/1555\r\n\t\t  // if (ENVIRONMENT_IS_NODE) {\r\n\t\t  //   // currently, FS.init does not distinguish if process.stdin is a file or TTY\r\n\t\t  //   // device, it always assumes it's a TTY device. because of this, we're forcing\r\n\t\t  //   // process.stdin to UTF8 encoding to at least make stdin reading compatible\r\n\t\t  //   // with text files until FS.init can be refactored.\r\n\t\t  //   process.stdin.setEncoding('utf8');\r\n\t\t  // }\r\n\t\t},\r\n\tshutdown() {\r\n\t\t  // https://github.com/emscripten-core/emscripten/pull/1555\r\n\t\t  // if (ENVIRONMENT_IS_NODE) {\r\n\t\t  //   // inolen: any idea as to why node -e 'process.stdin.read()' wouldn't exit immediately (with process.stdin being a tty)?\r\n\t\t  //   // isaacs: because now it's reading from the stream, you've expressed interest in it, so that read() kicks off a _read() which creates a ReadReq operation\r\n\t\t  //   // inolen: I thought read() in that case was a synchronous operation that just grabbed some amount of buffered data if it exists?\r\n\t\t  //   // isaacs: it is. but it also triggers a _read() call, which calls readStart() on the handle\r\n\t\t  //   // isaacs: do process.stdin.pause() and i'd think it'd probably close the pending call\r\n\t\t  //   process.stdin.pause();\r\n\t\t  // }\r\n\t\t},\r\n\tregister(dev, ops) {\r\n\t\t  TTY.ttys[dev] = { input: [], output: [], ops: ops };\r\n\t\t  FS.registerDevice(dev, TTY.stream_ops);\r\n\t\t},\r\n\tstream_ops:{\r\n\topen(stream) {\r\n\t\t\tvar tty = TTY.ttys[stream.node.rdev];\r\n\t\t\tif (!tty) {\r\n\t\t\t  throw new FS.ErrnoError(43);\r\n\t\t\t}\r\n\t\t\tstream.tty = tty;\r\n\t\t\tstream.seekable = false;\r\n\t\t  },\r\n\tclose(stream) {\r\n\t\t\t// flush any pending line data\r\n\t\t\tstream.tty.ops.fsync(stream.tty);\r\n\t\t  },\r\n\tfsync(stream) {\r\n\t\t\tstream.tty.ops.fsync(stream.tty);\r\n\t\t  },\r\n\tread(stream, buffer, offset, length, pos /* ignored */) {\r\n\t\t\tif (!stream.tty || !stream.tty.ops.get_char) {\r\n\t\t\t  throw new FS.ErrnoError(60);\r\n\t\t\t}\r\n\t\t\tvar bytesRead = 0;\r\n\t\t\tfor (var i = 0; i < length; i++) {\r\n\t\t\t  var result;\r\n\t\t\t  try {\r\n\t\t\t\tresult = stream.tty.ops.get_char(stream.tty);\r\n\t\t\t  } catch (e) {\r\n\t\t\t\tthrow new FS.ErrnoError(29);\r\n\t\t\t  }\r\n\t\t\t  if (result === undefined && bytesRead === 0) {\r\n\t\t\t\tthrow new FS.ErrnoError(6);\r\n\t\t\t  }\r\n\t\t\t  if (result === null || result === undefined) break;\r\n\t\t\t  bytesRead++;\r\n\t\t\t  buffer[offset+i] = result;\r\n\t\t\t}\r\n\t\t\tif (bytesRead) {\r\n\t\t\t  stream.node.timestamp = Date.now();\r\n\t\t\t}\r\n\t\t\treturn bytesRead;\r\n\t\t  },\r\n\twrite(stream, buffer, offset, length, pos) {\r\n\t\t\tif (!stream.tty || !stream.tty.ops.put_char) {\r\n\t\t\t  throw new FS.ErrnoError(60);\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t  for (var i = 0; i < length; i++) {\r\n\t\t\t\tstream.tty.ops.put_char(stream.tty, buffer[offset+i]);\r\n\t\t\t  }\r\n\t\t\t} catch (e) {\r\n\t\t\t  throw new FS.ErrnoError(29);\r\n\t\t\t}\r\n\t\t\tif (length) {\r\n\t\t\t  stream.node.timestamp = Date.now();\r\n\t\t\t}\r\n\t\t\treturn i;\r\n\t\t  },\r\n\t},\r\n\tdefault_tty_ops:{\r\n\tget_char(tty) {\r\n\t\t\treturn FS_stdin_getChar();\r\n\t\t  },\r\n\tput_char(tty, val) {\r\n\t\t\tif (val === null || val === 10) {\r\n\t\t\t  out(UTF8ArrayToString(tty.output, 0));\r\n\t\t\t  tty.output = [];\r\n\t\t\t} else {\r\n\t\t\t  if (val != 0) tty.output.push(val); // val == 0 would cut text output off in the middle.\r\n\t\t\t}\r\n\t\t  },\r\n\tfsync(tty) {\r\n\t\t\tif (tty.output && tty.output.length > 0) {\r\n\t\t\t  out(UTF8ArrayToString(tty.output, 0));\r\n\t\t\t  tty.output = [];\r\n\t\t\t}\r\n\t\t  },\r\n\tioctl_tcgets(tty) {\r\n\t\t\t// typical setting\r\n\t\t\treturn {\r\n\t\t\t  c_iflag: 25856,\r\n\t\t\t  c_oflag: 5,\r\n\t\t\t  c_cflag: 191,\r\n\t\t\t  c_lflag: 35387,\r\n\t\t\t  c_cc: [\r\n\t\t\t\t0x03, 0x1c, 0x7f, 0x15, 0x04, 0x00, 0x01, 0x00, 0x11, 0x13, 0x1a, 0x00,\r\n\t\t\t\t0x12, 0x0f, 0x17, 0x16, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\r\n\t\t\t\t0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\r\n\t\t\t  ]\r\n\t\t\t};\r\n\t\t  },\r\n\tioctl_tcsets(tty, optional_actions, data) {\r\n\t\t\t// currently just ignore\r\n\t\t\treturn 0;\r\n\t\t  },\r\n\tioctl_tiocgwinsz(tty) {\r\n\t\t\treturn [24, 80];\r\n\t\t  },\r\n\t},\r\n\tdefault_tty1_ops:{\r\n\tput_char(tty, val) {\r\n\t\t\tif (val === null || val === 10) {\r\n\t\t\t  err(UTF8ArrayToString(tty.output, 0));\r\n\t\t\t  tty.output = [];\r\n\t\t\t} else {\r\n\t\t\t  if (val != 0) tty.output.push(val);\r\n\t\t\t}\r\n\t\t  },\r\n\tfsync(tty) {\r\n\t\t\tif (tty.output && tty.output.length > 0) {\r\n\t\t\t  err(UTF8ArrayToString(tty.output, 0));\r\n\t\t\t  tty.output = [];\r\n\t\t\t}\r\n\t\t  },\r\n\t},\r\n\t};\r\n\tvar mmapAlloc = (size) => {\r\n\t\tabort('internal error: mmapAlloc called but `emscripten_builtin_memalign` native symbol not exported');\r\n\t  };\r\n\tvar MEMFS = {\r\n\tops_table:null,\r\n\tmount(mount) {\r\n\t\t  return MEMFS.createNode(null, '/', 16384 | 511 /* 0777 */, 0);\r\n\t\t},\r\n\tcreateNode(parent, name, mode, dev) {\r\n\t\t  if (FS.isBlkdev(mode) || FS.isFIFO(mode)) {\r\n\t\t\t// no supported\r\n\t\t\tthrow new FS.ErrnoError(63);\r\n\t\t  }\r\n\t\t  if (!MEMFS.ops_table) {\r\n\t\t\tMEMFS.ops_table = {\r\n\t\t\t  dir: {\r\n\t\t\t\tnode: {\r\n\t\t\t\t  getattr: MEMFS.node_ops.getattr,\r\n\t\t\t\t  setattr: MEMFS.node_ops.setattr,\r\n\t\t\t\t  lookup: MEMFS.node_ops.lookup,\r\n\t\t\t\t  mknod: MEMFS.node_ops.mknod,\r\n\t\t\t\t  rename: MEMFS.node_ops.rename,\r\n\t\t\t\t  unlink: MEMFS.node_ops.unlink,\r\n\t\t\t\t  rmdir: MEMFS.node_ops.rmdir,\r\n\t\t\t\t  readdir: MEMFS.node_ops.readdir,\r\n\t\t\t\t  symlink: MEMFS.node_ops.symlink\r\n\t\t\t\t},\r\n\t\t\t\tstream: {\r\n\t\t\t\t  llseek: MEMFS.stream_ops.llseek\r\n\t\t\t\t}\r\n\t\t\t  },\r\n\t\t\t  file: {\r\n\t\t\t\tnode: {\r\n\t\t\t\t  getattr: MEMFS.node_ops.getattr,\r\n\t\t\t\t  setattr: MEMFS.node_ops.setattr\r\n\t\t\t\t},\r\n\t\t\t\tstream: {\r\n\t\t\t\t  llseek: MEMFS.stream_ops.llseek,\r\n\t\t\t\t  read: MEMFS.stream_ops.read,\r\n\t\t\t\t  write: MEMFS.stream_ops.write,\r\n\t\t\t\t  allocate: MEMFS.stream_ops.allocate,\r\n\t\t\t\t  mmap: MEMFS.stream_ops.mmap,\r\n\t\t\t\t  msync: MEMFS.stream_ops.msync\r\n\t\t\t\t}\r\n\t\t\t  },\r\n\t\t\t  link: {\r\n\t\t\t\tnode: {\r\n\t\t\t\t  getattr: MEMFS.node_ops.getattr,\r\n\t\t\t\t  setattr: MEMFS.node_ops.setattr,\r\n\t\t\t\t  readlink: MEMFS.node_ops.readlink\r\n\t\t\t\t},\r\n\t\t\t\tstream: {}\r\n\t\t\t  },\r\n\t\t\t  chrdev: {\r\n\t\t\t\tnode: {\r\n\t\t\t\t  getattr: MEMFS.node_ops.getattr,\r\n\t\t\t\t  setattr: MEMFS.node_ops.setattr\r\n\t\t\t\t},\r\n\t\t\t\tstream: FS.chrdev_stream_ops\r\n\t\t\t  }\r\n\t\t\t};\r\n\t\t  }\r\n\t\t  var node = FS.createNode(parent, name, mode, dev);\r\n\t\t  if (FS.isDir(node.mode)) {\r\n\t\t\tnode.node_ops = MEMFS.ops_table.dir.node;\r\n\t\t\tnode.stream_ops = MEMFS.ops_table.dir.stream;\r\n\t\t\tnode.contents = {};\r\n\t\t  } else if (FS.isFile(node.mode)) {\r\n\t\t\tnode.node_ops = MEMFS.ops_table.file.node;\r\n\t\t\tnode.stream_ops = MEMFS.ops_table.file.stream;\r\n\t\t\tnode.usedBytes = 0; // The actual number of bytes used in the typed array, as opposed to contents.length which gives the whole capacity.\r\n\t\t\t// When the byte data of the file is populated, this will point to either a typed array, or a normal JS array. Typed arrays are preferred\r\n\t\t\t// for performance, and used by default. However, typed arrays are not resizable like normal JS arrays are, so there is a small disk size\r\n\t\t\t// penalty involved for appending file writes that continuously grow a file similar to std::vector capacity vs used -scheme.\r\n\t\t\tnode.contents = null;\r\n\t\t  } else if (FS.isLink(node.mode)) {\r\n\t\t\tnode.node_ops = MEMFS.ops_table.link.node;\r\n\t\t\tnode.stream_ops = MEMFS.ops_table.link.stream;\r\n\t\t  } else if (FS.isChrdev(node.mode)) {\r\n\t\t\tnode.node_ops = MEMFS.ops_table.chrdev.node;\r\n\t\t\tnode.stream_ops = MEMFS.ops_table.chrdev.stream;\r\n\t\t  }\r\n\t\t  node.timestamp = Date.now();\r\n\t\t  // add the new node to the parent\r\n\t\t  if (parent) {\r\n\t\t\tparent.contents[name] = node;\r\n\t\t\tparent.timestamp = node.timestamp;\r\n\t\t  }\r\n\t\t  return node;\r\n\t\t},\r\n\tgetFileDataAsTypedArray(node) {\r\n\t\t  if (!node.contents) return new Uint8Array(0);\r\n\t\t  if (node.contents.subarray) return node.contents.subarray(0, node.usedBytes); // Make sure to not return excess unused bytes.\r\n\t\t  return new Uint8Array(node.contents);\r\n\t\t},\r\n\texpandFileStorage(node, newCapacity) {\r\n\t\t  var prevCapacity = node.contents ? node.contents.length : 0;\r\n\t\t  if (prevCapacity >= newCapacity) return; // No need to expand, the storage was already large enough.\r\n\t\t  // Don't expand strictly to the given requested limit if it's only a very small increase, but instead geometrically grow capacity.\r\n\t\t  // For small filesizes (<1MB), perform size*2 geometric increase, but for large sizes, do a much more conservative size*1.125 increase to\r\n\t\t  // avoid overshooting the allocation cap by a very large margin.\r\n\t\t  var CAPACITY_DOUBLING_MAX = 1024 * 1024;\r\n\t\t  newCapacity = Math.max(newCapacity, (prevCapacity * (prevCapacity < CAPACITY_DOUBLING_MAX ? 2.0 : 1.125)) >>> 0);\r\n\t\t  if (prevCapacity != 0) newCapacity = Math.max(newCapacity, 256); // At minimum allocate 256b for each file when expanding.\r\n\t\t  var oldContents = node.contents;\r\n\t\t  node.contents = new Uint8Array(newCapacity); // Allocate new storage.\r\n\t\t  if (node.usedBytes > 0) node.contents.set(oldContents.subarray(0, node.usedBytes), 0); // Copy old data over to the new storage.\r\n\t\t},\r\n\tresizeFileStorage(node, newSize) {\r\n\t\t  if (node.usedBytes == newSize) return;\r\n\t\t  if (newSize == 0) {\r\n\t\t\tnode.contents = null; // Fully decommit when requesting a resize to zero.\r\n\t\t\tnode.usedBytes = 0;\r\n\t\t  } else {\r\n\t\t\tvar oldContents = node.contents;\r\n\t\t\tnode.contents = new Uint8Array(newSize); // Allocate new storage.\r\n\t\t\tif (oldContents) {\r\n\t\t\t  node.contents.set(oldContents.subarray(0, Math.min(newSize, node.usedBytes))); // Copy old data over to the new storage.\r\n\t\t\t}\r\n\t\t\tnode.usedBytes = newSize;\r\n\t\t  }\r\n\t\t},\r\n\tnode_ops:{\r\n\tgetattr(node) {\r\n\t\t\tvar attr = {};\r\n\t\t\t// device numbers reuse inode numbers.\r\n\t\t\tattr.dev = FS.isChrdev(node.mode) ? node.id : 1;\r\n\t\t\tattr.ino = node.id;\r\n\t\t\tattr.mode = node.mode;\r\n\t\t\tattr.nlink = 1;\r\n\t\t\tattr.uid = 0;\r\n\t\t\tattr.gid = 0;\r\n\t\t\tattr.rdev = node.rdev;\r\n\t\t\tif (FS.isDir(node.mode)) {\r\n\t\t\t  attr.size = 4096;\r\n\t\t\t} else if (FS.isFile(node.mode)) {\r\n\t\t\t  attr.size = node.usedBytes;\r\n\t\t\t} else if (FS.isLink(node.mode)) {\r\n\t\t\t  attr.size = node.link.length;\r\n\t\t\t} else {\r\n\t\t\t  attr.size = 0;\r\n\t\t\t}\r\n\t\t\tattr.atime = new Date(node.timestamp);\r\n\t\t\tattr.mtime = new Date(node.timestamp);\r\n\t\t\tattr.ctime = new Date(node.timestamp);\r\n\t\t\t// NOTE: In our implementation, st_blocks = Math.ceil(st_size/st_blksize),\r\n\t\t\t//       but this is not required by the standard.\r\n\t\t\tattr.blksize = 4096;\r\n\t\t\tattr.blocks = Math.ceil(attr.size / attr.blksize);\r\n\t\t\treturn attr;\r\n\t\t  },\r\n\tsetattr(node, attr) {\r\n\t\t\tif (attr.mode !== undefined) {\r\n\t\t\t  node.mode = attr.mode;\r\n\t\t\t}\r\n\t\t\tif (attr.timestamp !== undefined) {\r\n\t\t\t  node.timestamp = attr.timestamp;\r\n\t\t\t}\r\n\t\t\tif (attr.size !== undefined) {\r\n\t\t\t  MEMFS.resizeFileStorage(node, attr.size);\r\n\t\t\t}\r\n\t\t  },\r\n\tlookup(parent, name) {\r\n\t\t\tthrow FS.genericErrors[44];\r\n\t\t  },\r\n\tmknod(parent, name, mode, dev) {\r\n\t\t\treturn MEMFS.createNode(parent, name, mode, dev);\r\n\t\t  },\r\n\trename(old_node, new_dir, new_name) {\r\n\t\t\t// if we're overwriting a directory at new_name, make sure it's empty.\r\n\t\t\tif (FS.isDir(old_node.mode)) {\r\n\t\t\t  var new_node;\r\n\t\t\t  try {\r\n\t\t\t\tnew_node = FS.lookupNode(new_dir, new_name);\r\n\t\t\t  } catch (e) {\r\n\t\t\t  }\r\n\t\t\t  if (new_node) {\r\n\t\t\t\tfor (var i in new_node.contents) {\r\n\t\t\t\t  throw new FS.ErrnoError(55);\r\n\t\t\t\t}\r\n\t\t\t  }\r\n\t\t\t}\r\n\t\t\t// do the internal rewiring\r\n\t\t\tdelete old_node.parent.contents[old_node.name];\r\n\t\t\told_node.parent.timestamp = Date.now();\r\n\t\t\told_node.name = new_name;\r\n\t\t\tnew_dir.contents[new_name] = old_node;\r\n\t\t\tnew_dir.timestamp = old_node.parent.timestamp;\r\n\t\t\told_node.parent = new_dir;\r\n\t\t  },\r\n\tunlink(parent, name) {\r\n\t\t\tdelete parent.contents[name];\r\n\t\t\tparent.timestamp = Date.now();\r\n\t\t  },\r\n\trmdir(parent, name) {\r\n\t\t\tvar node = FS.lookupNode(parent, name);\r\n\t\t\tfor (var i in node.contents) {\r\n\t\t\t  throw new FS.ErrnoError(55);\r\n\t\t\t}\r\n\t\t\tdelete parent.contents[name];\r\n\t\t\tparent.timestamp = Date.now();\r\n\t\t  },\r\n\treaddir(node) {\r\n\t\t\tvar entries = ['.', '..'];\r\n\t\t\tfor (var key in node.contents) {\r\n\t\t\t  if (!node.contents.hasOwnProperty(key)) {\r\n\t\t\t\tcontinue;\r\n\t\t\t  }\r\n\t\t\t  entries.push(key);\r\n\t\t\t}\r\n\t\t\treturn entries;\r\n\t\t  },\r\n\tsymlink(parent, newname, oldpath) {\r\n\t\t\tvar node = MEMFS.createNode(parent, newname, 511 /* 0777 */ | 40960, 0);\r\n\t\t\tnode.link = oldpath;\r\n\t\t\treturn node;\r\n\t\t  },\r\n\treadlink(node) {\r\n\t\t\tif (!FS.isLink(node.mode)) {\r\n\t\t\t  throw new FS.ErrnoError(28);\r\n\t\t\t}\r\n\t\t\treturn node.link;\r\n\t\t  },\r\n\t},\r\n\tstream_ops:{\r\n\tread(stream, buffer, offset, length, position) {\r\n\t\t\tvar contents = stream.node.contents;\r\n\t\t\tif (position >= stream.node.usedBytes) return 0;\r\n\t\t\tvar size = Math.min(stream.node.usedBytes - position, length);\r\n\t\t\tassert(size >= 0);\r\n\t\t\tif (size > 8 && contents.subarray) { // non-trivial, and typed array\r\n\t\t\t  buffer.set(contents.subarray(position, position + size), offset);\r\n\t\t\t} else {\r\n\t\t\t  for (var i = 0; i < size; i++) buffer[offset + i] = contents[position + i];\r\n\t\t\t}\r\n\t\t\treturn size;\r\n\t\t  },\r\n\twrite(stream, buffer, offset, length, position, canOwn) {\r\n\t\t\t// The data buffer should be a typed array view\r\n\t\t\tassert(!(buffer instanceof ArrayBuffer));\r\n\t\t\t// If the buffer is located in main memory (HEAP), and if\r\n\t\t\t// memory can grow, we can't hold on to references of the\r\n\t\t\t// memory buffer, as they may get invalidated. That means we\r\n\t\t\t// need to do copy its contents.\r\n\t\t\tif (buffer.buffer === HEAP8.buffer) {\r\n\t\t\t  canOwn = false;\r\n\t\t\t}\r\n\r\n\t\t\tif (!length) return 0;\r\n\t\t\tvar node = stream.node;\r\n\t\t\tnode.timestamp = Date.now();\r\n\r\n\t\t\tif (buffer.subarray && (!node.contents || node.contents.subarray)) { // This write is from a typed array to a typed array?\r\n\t\t\t  if (canOwn) {\r\n\t\t\t\tassert(position === 0, 'canOwn must imply no weird position inside the file');\r\n\t\t\t\tnode.contents = buffer.subarray(offset, offset + length);\r\n\t\t\t\tnode.usedBytes = length;\r\n\t\t\t\treturn length;\r\n\t\t\t  } else if (node.usedBytes === 0 && position === 0) { // If this is a simple first write to an empty file, do a fast set since we don't need to care about old data.\r\n\t\t\t\tnode.contents = buffer.slice(offset, offset + length);\r\n\t\t\t\tnode.usedBytes = length;\r\n\t\t\t\treturn length;\r\n\t\t\t  } else if (position + length <= node.usedBytes) { // Writing to an already allocated and used subrange of the file?\r\n\t\t\t\tnode.contents.set(buffer.subarray(offset, offset + length), position);\r\n\t\t\t\treturn length;\r\n\t\t\t  }\r\n\t\t\t}\r\n\r\n\t\t\t// Appending to an existing file and we need to reallocate, or source data did not come as a typed array.\r\n\t\t\tMEMFS.expandFileStorage(node, position+length);\r\n\t\t\tif (node.contents.subarray && buffer.subarray) {\r\n\t\t\t  // Use typed array write which is available.\r\n\t\t\t  node.contents.set(buffer.subarray(offset, offset + length), position);\r\n\t\t\t} else {\r\n\t\t\t  for (var i = 0; i < length; i++) {\r\n\t\t\t   node.contents[position + i] = buffer[offset + i]; // Or fall back to manual write if not.\r\n\t\t\t  }\r\n\t\t\t}\r\n\t\t\tnode.usedBytes = Math.max(node.usedBytes, position + length);\r\n\t\t\treturn length;\r\n\t\t  },\r\n\tllseek(stream, offset, whence) {\r\n\t\t\tvar position = offset;\r\n\t\t\tif (whence === 1) {\r\n\t\t\t  position += stream.position;\r\n\t\t\t} else if (whence === 2) {\r\n\t\t\t  if (FS.isFile(stream.node.mode)) {\r\n\t\t\t\tposition += stream.node.usedBytes;\r\n\t\t\t  }\r\n\t\t\t}\r\n\t\t\tif (position < 0) {\r\n\t\t\t  throw new FS.ErrnoError(28);\r\n\t\t\t}\r\n\t\t\treturn position;\r\n\t\t  },\r\n\tallocate(stream, offset, length) {\r\n\t\t\tMEMFS.expandFileStorage(stream.node, offset + length);\r\n\t\t\tstream.node.usedBytes = Math.max(stream.node.usedBytes, offset + length);\r\n\t\t  },\r\n\tmmap(stream, length, position, prot, flags) {\r\n\t\t\tif (!FS.isFile(stream.node.mode)) {\r\n\t\t\t  throw new FS.ErrnoError(43);\r\n\t\t\t}\r\n\t\t\tvar ptr;\r\n\t\t\tvar allocated;\r\n\t\t\tvar contents = stream.node.contents;\r\n\t\t\t// Only make a new copy when MAP_PRIVATE is specified.\r\n\t\t\tif (!(flags & 2) && contents.buffer === HEAP8.buffer) {\r\n\t\t\t  // We can't emulate MAP_SHARED when the file is not backed by the\r\n\t\t\t  // buffer we're mapping to (e.g. the HEAP buffer).\r\n\t\t\t  allocated = false;\r\n\t\t\t  ptr = contents.byteOffset;\r\n\t\t\t} else {\r\n\t\t\t  // Try to avoid unnecessary slices.\r\n\t\t\t  if (position > 0 || position + length < contents.length) {\r\n\t\t\t\tif (contents.subarray) {\r\n\t\t\t\t  contents = contents.subarray(position, position + length);\r\n\t\t\t\t} else {\r\n\t\t\t\t  contents = Array.prototype.slice.call(contents, position, position + length);\r\n\t\t\t\t}\r\n\t\t\t  }\r\n\t\t\t  allocated = true;\r\n\t\t\t  ptr = mmapAlloc();\r\n\t\t\t  if (!ptr) {\r\n\t\t\t\tthrow new FS.ErrnoError(48);\r\n\t\t\t  }\r\n\t\t\t  HEAP8.set(contents, ptr);\r\n\t\t\t}\r\n\t\t\treturn { ptr, allocated };\r\n\t\t  },\r\n\tmsync(stream, buffer, offset, length, mmapFlags) {\r\n\t\t\tMEMFS.stream_ops.write(stream, buffer, 0, length, offset, false);\r\n\t\t\t// should we check if bytesWritten and length are the same?\r\n\t\t\treturn 0;\r\n\t\t  },\r\n\t},\r\n\t};\r\n\r\n\t/** @param {boolean=} noRunDep */\r\n\tvar asyncLoad = (url, onload, onerror, noRunDep) => {\r\n\t\tvar dep = !noRunDep ? getUniqueRunDependency(`al ${url}`) : '';\r\n\t\treadAsync(url, (arrayBuffer) => {\r\n\t\t  assert(arrayBuffer, `Loading data file \"${url}\" failed (no arrayBuffer).`);\r\n\t\t  onload(new Uint8Array(arrayBuffer));\r\n\t\t  if (dep) removeRunDependency(dep);\r\n\t\t}, (event) => {\r\n\t\t  if (onerror) {\r\n\t\t\tonerror();\r\n\t\t  } else {\r\n\t\t\tthrow `Loading data file \"${url}\" failed.`;\r\n\t\t  }\r\n\t\t});\r\n\t\tif (dep) addRunDependency(dep);\r\n\t  };\r\n\r\n\r\n\tvar FS_createDataFile = (parent, name, fileData, canRead, canWrite, canOwn) => {\r\n\t\treturn FS.createDataFile(parent, name, fileData, canRead, canWrite, canOwn);\r\n\t  };\r\n\r\n\tvar preloadPlugins = Module['preloadPlugins'] || [];\r\n\tvar FS_handledByPreloadPlugin = (byteArray, fullname, finish, onerror) => {\r\n\t\t// Ensure plugins are ready.\r\n\t\tif (typeof Browser != 'undefined') Browser.init();\r\n\r\n\t\tvar handled = false;\r\n\t\tpreloadPlugins.forEach((plugin) => {\r\n\t\t  if (handled) return;\r\n\t\t  if (plugin['canHandle'](fullname)) {\r\n\t\t\tplugin['handle'](byteArray, fullname, finish, onerror);\r\n\t\t\thandled = true;\r\n\t\t  }\r\n\t\t});\r\n\t\treturn handled;\r\n\t  };\r\n\tvar FS_createPreloadedFile = (parent, name, url, canRead, canWrite, onload, onerror, dontCreateFile, canOwn, preFinish) => {\r\n\t\t// TODO we should allow people to just pass in a complete filename instead\r\n\t\t// of parent and name being that we just join them anyways\r\n\t\tvar fullname = name ? PATH_FS.resolve(PATH.join2(parent, name)) : parent;\r\n\t\tvar dep = getUniqueRunDependency(`cp ${fullname}`); // might have several active requests for the same fullname\r\n\t\tfunction processData(byteArray) {\r\n\t\t  function finish(byteArray) {\r\n\t\t\tif (preFinish) preFinish();\r\n\t\t\tif (!dontCreateFile) {\r\n\t\t\t  FS_createDataFile(parent, name, byteArray, canRead, canWrite, canOwn);\r\n\t\t\t}\r\n\t\t\tif (onload) onload();\r\n\t\t\tremoveRunDependency(dep);\r\n\t\t  }\r\n\t\t  if (FS_handledByPreloadPlugin(byteArray, fullname, finish, () => {\r\n\t\t\tif (onerror) onerror();\r\n\t\t\tremoveRunDependency(dep);\r\n\t\t  })) {\r\n\t\t\treturn;\r\n\t\t  }\r\n\t\t  finish(byteArray);\r\n\t\t}\r\n\t\taddRunDependency(dep);\r\n\t\tif (typeof url == 'string') {\r\n\t\t  asyncLoad(url, (byteArray) => processData(byteArray), onerror);\r\n\t\t} else {\r\n\t\t  processData(url);\r\n\t\t}\r\n\t  };\r\n\r\n\tvar FS_modeStringToFlags = (str) => {\r\n\t\tvar flagModes = {\r\n\t\t  'r': 0,\r\n\t\t  'r+': 2,\r\n\t\t  'w': 512 | 64 | 1,\r\n\t\t  'w+': 512 | 64 | 2,\r\n\t\t  'a': 1024 | 64 | 1,\r\n\t\t  'a+': 1024 | 64 | 2,\r\n\t\t};\r\n\t\tvar flags = flagModes[str];\r\n\t\tif (typeof flags == 'undefined') {\r\n\t\t  throw new Error(`Unknown file open mode: ${str}`);\r\n\t\t}\r\n\t\treturn flags;\r\n\t  };\r\n\r\n\tvar FS_getMode = (canRead, canWrite) => {\r\n\t\tvar mode = 0;\r\n\t\tif (canRead) mode |= 292 | 73;\r\n\t\tif (canWrite) mode |= 146;\r\n\t\treturn mode;\r\n\t  };\r\n\r\n\r\n\r\n\r\n\tvar ERRNO_MESSAGES = {\r\n\t0:\"Success\",\r\n\t1:\"Arg list too long\",\r\n\t2:\"Permission denied\",\r\n\t3:\"Address already in use\",\r\n\t4:\"Address not available\",\r\n\t5:\"Address family not supported by protocol family\",\r\n\t6:\"No more processes\",\r\n\t7:\"Socket already connected\",\r\n\t8:\"Bad file number\",\r\n\t9:\"Trying to read unreadable message\",\r\n\t10:\"Mount device busy\",\r\n\t11:\"Operation canceled\",\r\n\t12:\"No children\",\r\n\t13:\"Connection aborted\",\r\n\t14:\"Connection refused\",\r\n\t15:\"Connection reset by peer\",\r\n\t16:\"File locking deadlock error\",\r\n\t17:\"Destination address required\",\r\n\t18:\"Math arg out of domain of func\",\r\n\t19:\"Quota exceeded\",\r\n\t20:\"File exists\",\r\n\t21:\"Bad address\",\r\n\t22:\"File too large\",\r\n\t23:\"Host is unreachable\",\r\n\t24:\"Identifier removed\",\r\n\t25:\"Illegal byte sequence\",\r\n\t26:\"Connection already in progress\",\r\n\t27:\"Interrupted system call\",\r\n\t28:\"Invalid argument\",\r\n\t29:\"I/O error\",\r\n\t30:\"Socket is already connected\",\r\n\t31:\"Is a directory\",\r\n\t32:\"Too many symbolic links\",\r\n\t33:\"Too many open files\",\r\n\t34:\"Too many links\",\r\n\t35:\"Message too long\",\r\n\t36:\"Multihop attempted\",\r\n\t37:\"File or path name too long\",\r\n\t38:\"Network interface is not configured\",\r\n\t39:\"Connection reset by network\",\r\n\t40:\"Network is unreachable\",\r\n\t41:\"Too many open files in system\",\r\n\t42:\"No buffer space available\",\r\n\t43:\"No such device\",\r\n\t44:\"No such file or directory\",\r\n\t45:\"Exec format error\",\r\n\t46:\"No record locks available\",\r\n\t47:\"The link has been severed\",\r\n\t48:\"Not enough core\",\r\n\t49:\"No message of desired type\",\r\n\t50:\"Protocol not available\",\r\n\t51:\"No space left on device\",\r\n\t52:\"Function not implemented\",\r\n\t53:\"Socket is not connected\",\r\n\t54:\"Not a directory\",\r\n\t55:\"Directory not empty\",\r\n\t56:\"State not recoverable\",\r\n\t57:\"Socket operation on non-socket\",\r\n\t59:\"Not a typewriter\",\r\n\t60:\"No such device or address\",\r\n\t61:\"Value too large for defined data type\",\r\n\t62:\"Previous owner died\",\r\n\t63:\"Not super-user\",\r\n\t64:\"Broken pipe\",\r\n\t65:\"Protocol error\",\r\n\t66:\"Unknown protocol\",\r\n\t67:\"Protocol wrong type for socket\",\r\n\t68:\"Math result not representable\",\r\n\t69:\"Read only file system\",\r\n\t70:\"Illegal seek\",\r\n\t71:\"No such process\",\r\n\t72:\"Stale file handle\",\r\n\t73:\"Connection timed out\",\r\n\t74:\"Text file busy\",\r\n\t75:\"Cross-device link\",\r\n\t100:\"Device not a stream\",\r\n\t101:\"Bad font file fmt\",\r\n\t102:\"Invalid slot\",\r\n\t103:\"Invalid request code\",\r\n\t104:\"No anode\",\r\n\t105:\"Block device required\",\r\n\t106:\"Channel number out of range\",\r\n\t107:\"Level 3 halted\",\r\n\t108:\"Level 3 reset\",\r\n\t109:\"Link number out of range\",\r\n\t110:\"Protocol driver not attached\",\r\n\t111:\"No CSI structure available\",\r\n\t112:\"Level 2 halted\",\r\n\t113:\"Invalid exchange\",\r\n\t114:\"Invalid request descriptor\",\r\n\t115:\"Exchange full\",\r\n\t116:\"No data (for no delay io)\",\r\n\t117:\"Timer expired\",\r\n\t118:\"Out of streams resources\",\r\n\t119:\"Machine is not on the network\",\r\n\t120:\"Package not installed\",\r\n\t121:\"The object is remote\",\r\n\t122:\"Advertise error\",\r\n\t123:\"Srmount error\",\r\n\t124:\"Communication error on send\",\r\n\t125:\"Cross mount point (not really error)\",\r\n\t126:\"Given log. name not unique\",\r\n\t127:\"f.d. invalid for this operation\",\r\n\t128:\"Remote address changed\",\r\n\t129:\"Can   access a needed shared lib\",\r\n\t130:\"Accessing a corrupted shared lib\",\r\n\t131:\".lib section in a.out corrupted\",\r\n\t132:\"Attempting to link in too many libs\",\r\n\t133:\"Attempting to exec a shared library\",\r\n\t135:\"Streams pipe error\",\r\n\t136:\"Too many users\",\r\n\t137:\"Socket type not supported\",\r\n\t138:\"Not supported\",\r\n\t139:\"Protocol family not supported\",\r\n\t140:\"Can't send after socket shutdown\",\r\n\t141:\"Too many references\",\r\n\t142:\"Host is down\",\r\n\t148:\"No medium (in tape drive)\",\r\n\t156:\"Level 2 not synchronized\",\r\n\t};\r\n\r\n\tvar ERRNO_CODES = {\r\n\t};\r\n\r\n\tvar demangle = (func) => {\r\n\t\twarnOnce('warning: build with -sDEMANGLE_SUPPORT to link in libcxxabi demangling');\r\n\t\treturn func;\r\n\t  };\r\n\tvar demangleAll = (text) => {\r\n\t\tvar regex =\r\n\t\t  /\\b_Z[\\w\\d_]+/g;\r\n\t\treturn text.replace(regex,\r\n\t\t  function(x) {\r\n\t\t\tvar y = demangle(x);\r\n\t\t\treturn x === y ? x : (y + ' [' + x + ']');\r\n\t\t  });\r\n\t  };\r\n\tvar FS = {\r\n\troot:null,\r\n\tmounts:[],\r\n\tdevices:{\r\n\t},\r\n\tstreams:[],\r\n\tnextInode:1,\r\n\tnameTable:null,\r\n\tcurrentPath:\"/\",\r\n\tinitialized:false,\r\n\tignorePermissions:true,\r\n\tErrnoError:null,\r\n\tgenericErrors:{\r\n\t},\r\n\tfilesystems:null,\r\n\tsyncFSRequests:0,\r\n\tlookupPath(path, opts = {}) {\r\n\t\t  path = PATH_FS.resolve(path);\r\n\r\n\t\t  if (!path) return { path: '', node: null };\r\n\r\n\t\t  var defaults = {\r\n\t\t\tfollow_mount: true,\r\n\t\t\trecurse_count: 0\r\n\t\t  };\r\n\t\t  opts = Object.assign(defaults, opts);\r\n\r\n\t\t  if (opts.recurse_count > 8) {  // max recursive lookup of 8\r\n\t\t\tthrow new FS.ErrnoError(32);\r\n\t\t  }\r\n\r\n\t\t  // split the absolute path\r\n\t\t  var parts = path.split('/').filter((p) => !!p);\r\n\r\n\t\t  // start at the root\r\n\t\t  var current = FS.root;\r\n\t\t  var current_path = '/';\r\n\r\n\t\t  for (var i = 0; i < parts.length; i++) {\r\n\t\t\tvar islast = (i === parts.length-1);\r\n\t\t\tif (islast && opts.parent) {\r\n\t\t\t  // stop resolving\r\n\t\t\t  break;\r\n\t\t\t}\r\n\r\n\t\t\tcurrent = FS.lookupNode(current, parts[i]);\r\n\t\t\tcurrent_path = PATH.join2(current_path, parts[i]);\r\n\r\n\t\t\t// jump to the mount's root node if this is a mountpoint\r\n\t\t\tif (FS.isMountpoint(current)) {\r\n\t\t\t  if (!islast || (islast && opts.follow_mount)) {\r\n\t\t\t\tcurrent = current.mounted.root;\r\n\t\t\t  }\r\n\t\t\t}\r\n\r\n\t\t\t// by default, lookupPath will not follow a symlink if it is the final path component.\r\n\t\t\t// setting opts.follow = true will override this behavior.\r\n\t\t\tif (!islast || opts.follow) {\r\n\t\t\t  var count = 0;\r\n\t\t\t  while (FS.isLink(current.mode)) {\r\n\t\t\t\tvar link = FS.readlink(current_path);\r\n\t\t\t\tcurrent_path = PATH_FS.resolve(PATH.dirname(current_path), link);\r\n\r\n\t\t\t\tvar lookup = FS.lookupPath(current_path, { recurse_count: opts.recurse_count + 1 });\r\n\t\t\t\tcurrent = lookup.node;\r\n\r\n\t\t\t\tif (count++ > 40) {  // limit max consecutive symlinks to 40 (SYMLOOP_MAX).\r\n\t\t\t\t  throw new FS.ErrnoError(32);\r\n\t\t\t\t}\r\n\t\t\t  }\r\n\t\t\t}\r\n\t\t  }\r\n\r\n\t\t  return { path: current_path, node: current };\r\n\t\t},\r\n\tgetPath(node) {\r\n\t\t  var path;\r\n\t\t  while (true) {\r\n\t\t\tif (FS.isRoot(node)) {\r\n\t\t\t  var mount = node.mount.mountpoint;\r\n\t\t\t  if (!path) return mount;\r\n\t\t\t  return mount[mount.length-1] !== '/' ? `${mount}/${path}` : mount + path;\r\n\t\t\t}\r\n\t\t\tpath = path ? `${node.name}/${path}` : node.name;\r\n\t\t\tnode = node.parent;\r\n\t\t  }\r\n\t\t},\r\n\thashName(parentid, name) {\r\n\t\t  var hash = 0;\r\n\r\n\t\t  for (var i = 0; i < name.length; i++) {\r\n\t\t\thash = ((hash << 5) - hash + name.charCodeAt(i)) | 0;\r\n\t\t  }\r\n\t\t  return ((parentid + hash) >>> 0) % FS.nameTable.length;\r\n\t\t},\r\n\thashAddNode(node) {\r\n\t\t  var hash = FS.hashName(node.parent.id, node.name);\r\n\t\t  node.name_next = FS.nameTable[hash];\r\n\t\t  FS.nameTable[hash] = node;\r\n\t\t},\r\n\thashRemoveNode(node) {\r\n\t\t  var hash = FS.hashName(node.parent.id, node.name);\r\n\t\t  if (FS.nameTable[hash] === node) {\r\n\t\t\tFS.nameTable[hash] = node.name_next;\r\n\t\t  } else {\r\n\t\t\tvar current = FS.nameTable[hash];\r\n\t\t\twhile (current) {\r\n\t\t\t  if (current.name_next === node) {\r\n\t\t\t\tcurrent.name_next = node.name_next;\r\n\t\t\t\tbreak;\r\n\t\t\t  }\r\n\t\t\t  current = current.name_next;\r\n\t\t\t}\r\n\t\t  }\r\n\t\t},\r\n\tlookupNode(parent, name) {\r\n\t\t  var errCode = FS.mayLookup(parent);\r\n\t\t  if (errCode) {\r\n\t\t\tthrow new FS.ErrnoError(errCode, parent);\r\n\t\t  }\r\n\t\t  var hash = FS.hashName(parent.id, name);\r\n\t\t  for (var node = FS.nameTable[hash]; node; node = node.name_next) {\r\n\t\t\tvar nodeName = node.name;\r\n\t\t\tif (node.parent.id === parent.id && nodeName === name) {\r\n\t\t\t  return node;\r\n\t\t\t}\r\n\t\t  }\r\n\t\t  // if we failed to find it in the cache, call into the VFS\r\n\t\t  return FS.lookup(parent, name);\r\n\t\t},\r\n\tcreateNode(parent, name, mode, rdev) {\r\n\t\t  assert(typeof parent == 'object');\r\n\t\t  var node = new FS.FSNode(parent, name, mode, rdev);\r\n\r\n\t\t  FS.hashAddNode(node);\r\n\r\n\t\t  return node;\r\n\t\t},\r\n\tdestroyNode(node) {\r\n\t\t  FS.hashRemoveNode(node);\r\n\t\t},\r\n\tisRoot(node) {\r\n\t\t  return node === node.parent;\r\n\t\t},\r\n\tisMountpoint(node) {\r\n\t\t  return !!node.mounted;\r\n\t\t},\r\n\tisFile(mode) {\r\n\t\t  return (mode & 61440) === 32768;\r\n\t\t},\r\n\tisDir(mode) {\r\n\t\t  return (mode & 61440) === 16384;\r\n\t\t},\r\n\tisLink(mode) {\r\n\t\t  return (mode & 61440) === 40960;\r\n\t\t},\r\n\tisChrdev(mode) {\r\n\t\t  return (mode & 61440) === 8192;\r\n\t\t},\r\n\tisBlkdev(mode) {\r\n\t\t  return (mode & 61440) === 24576;\r\n\t\t},\r\n\tisFIFO(mode) {\r\n\t\t  return (mode & 61440) === 4096;\r\n\t\t},\r\n\tisSocket(mode) {\r\n\t\t  return (mode & 49152) === 49152;\r\n\t\t},\r\n\tflagsToPermissionString(flag) {\r\n\t\t  var perms = ['r', 'w', 'rw'][flag & 3];\r\n\t\t  if ((flag & 512)) {\r\n\t\t\tperms += 'w';\r\n\t\t  }\r\n\t\t  return perms;\r\n\t\t},\r\n\tnodePermissions(node, perms) {\r\n\t\t  if (FS.ignorePermissions) {\r\n\t\t\treturn 0;\r\n\t\t  }\r\n\t\t  // return 0 if any user, group or owner bits are set.\r\n\t\t  if (perms.includes('r') && !(node.mode & 292)) {\r\n\t\t\treturn 2;\r\n\t\t  } else if (perms.includes('w') && !(node.mode & 146)) {\r\n\t\t\treturn 2;\r\n\t\t  } else if (perms.includes('x') && !(node.mode & 73)) {\r\n\t\t\treturn 2;\r\n\t\t  }\r\n\t\t  return 0;\r\n\t\t},\r\n\tmayLookup(dir) {\r\n\t\t  var errCode = FS.nodePermissions(dir, 'x');\r\n\t\t  if (errCode) return errCode;\r\n\t\t  if (!dir.node_ops.lookup) return 2;\r\n\t\t  return 0;\r\n\t\t},\r\n\tmayCreate(dir, name) {\r\n\t\t  try {\r\n\t\t\tvar node = FS.lookupNode(dir, name);\r\n\t\t\treturn 20;\r\n\t\t  } catch (e) {\r\n\t\t  }\r\n\t\t  return FS.nodePermissions(dir, 'wx');\r\n\t\t},\r\n\tmayDelete(dir, name, isdir) {\r\n\t\t  var node;\r\n\t\t  try {\r\n\t\t\tnode = FS.lookupNode(dir, name);\r\n\t\t  } catch (e) {\r\n\t\t\treturn e.errno;\r\n\t\t  }\r\n\t\t  var errCode = FS.nodePermissions(dir, 'wx');\r\n\t\t  if (errCode) {\r\n\t\t\treturn errCode;\r\n\t\t  }\r\n\t\t  if (isdir) {\r\n\t\t\tif (!FS.isDir(node.mode)) {\r\n\t\t\t  return 54;\r\n\t\t\t}\r\n\t\t\tif (FS.isRoot(node) || FS.getPath(node) === FS.cwd()) {\r\n\t\t\t  return 10;\r\n\t\t\t}\r\n\t\t  } else {\r\n\t\t\tif (FS.isDir(node.mode)) {\r\n\t\t\t  return 31;\r\n\t\t\t}\r\n\t\t  }\r\n\t\t  return 0;\r\n\t\t},\r\n\tmayOpen(node, flags) {\r\n\t\t  if (!node) {\r\n\t\t\treturn 44;\r\n\t\t  }\r\n\t\t  if (FS.isLink(node.mode)) {\r\n\t\t\treturn 32;\r\n\t\t  } else if (FS.isDir(node.mode)) {\r\n\t\t\tif (FS.flagsToPermissionString(flags) !== 'r' || // opening for write\r\n\t\t\t\t(flags & 512)) { // TODO: check for O_SEARCH? (== search for dir only)\r\n\t\t\t  return 31;\r\n\t\t\t}\r\n\t\t  }\r\n\t\t  return FS.nodePermissions(node, FS.flagsToPermissionString(flags));\r\n\t\t},\r\n\tMAX_OPEN_FDS:4096,\r\n\tnextfd() {\r\n\t\t  for (var fd = 0; fd <= FS.MAX_OPEN_FDS; fd++) {\r\n\t\t\tif (!FS.streams[fd]) {\r\n\t\t\t  return fd;\r\n\t\t\t}\r\n\t\t  }\r\n\t\t  throw new FS.ErrnoError(33);\r\n\t\t},\r\n\tgetStreamChecked(fd) {\r\n\t\t  var stream = FS.getStream(fd);\r\n\t\t  if (!stream) {\r\n\t\t\tthrow new FS.ErrnoError(8);\r\n\t\t  }\r\n\t\t  return stream;\r\n\t\t},\r\n\tgetStream:(fd) => FS.streams[fd],\r\n\tcreateStream(stream, fd = -1) {\r\n\t\t  if (!FS.FSStream) {\r\n\t\t\tFS.FSStream = /** @constructor */ function() {\r\n\t\t\t  this.shared = { };\r\n\t\t\t};\r\n\t\t\tFS.FSStream.prototype = {};\r\n\t\t\tObject.defineProperties(FS.FSStream.prototype, {\r\n\t\t\t  object: {\r\n\t\t\t\t/** @this {FS.FSStream} */\r\n\t\t\t\tget() { return this.node; },\r\n\t\t\t\t/** @this {FS.FSStream} */\r\n\t\t\t\tset(val) { this.node = val; }\r\n\t\t\t  },\r\n\t\t\t  isRead: {\r\n\t\t\t\t/** @this {FS.FSStream} */\r\n\t\t\t\tget() { return (this.flags & 2097155) !== 1; }\r\n\t\t\t  },\r\n\t\t\t  isWrite: {\r\n\t\t\t\t/** @this {FS.FSStream} */\r\n\t\t\t\tget() { return (this.flags & 2097155) !== 0; }\r\n\t\t\t  },\r\n\t\t\t  isAppend: {\r\n\t\t\t\t/** @this {FS.FSStream} */\r\n\t\t\t\tget() { return (this.flags & 1024); }\r\n\t\t\t  },\r\n\t\t\t  flags: {\r\n\t\t\t\t/** @this {FS.FSStream} */\r\n\t\t\t\tget() { return this.shared.flags; },\r\n\t\t\t\t/** @this {FS.FSStream} */\r\n\t\t\t\tset(val) { this.shared.flags = val; },\r\n\t\t\t  },\r\n\t\t\t  position : {\r\n\t\t\t\t/** @this {FS.FSStream} */\r\n\t\t\t\tget() { return this.shared.position; },\r\n\t\t\t\t/** @this {FS.FSStream} */\r\n\t\t\t\tset(val) { this.shared.position = val; },\r\n\t\t\t  },\r\n\t\t\t});\r\n\t\t  }\r\n\t\t  // clone it, so we can return an instance of FSStream\r\n\t\t  stream = Object.assign(new FS.FSStream(), stream);\r\n\t\t  if (fd == -1) {\r\n\t\t\tfd = FS.nextfd();\r\n\t\t  }\r\n\t\t  stream.fd = fd;\r\n\t\t  FS.streams[fd] = stream;\r\n\t\t  return stream;\r\n\t\t},\r\n\tcloseStream(fd) {\r\n\t\t  FS.streams[fd] = null;\r\n\t\t},\r\n\tchrdev_stream_ops:{\r\n\topen(stream) {\r\n\t\t\tvar device = FS.getDevice(stream.node.rdev);\r\n\t\t\t// override node's stream ops with the device's\r\n\t\t\tstream.stream_ops = device.stream_ops;\r\n\t\t\t// forward the open call\r\n\t\t\tif (stream.stream_ops.open) {\r\n\t\t\t  stream.stream_ops.open(stream);\r\n\t\t\t}\r\n\t\t  },\r\n\tllseek() {\r\n\t\t\tthrow new FS.ErrnoError(70);\r\n\t\t  },\r\n\t},\r\n\tmajor:(dev) => ((dev) >> 8),\r\n\tminor:(dev) => ((dev) & 0xff),\r\n\tmakedev:(ma, mi) => ((ma) << 8 | (mi)),\r\n\tregisterDevice(dev, ops) {\r\n\t\t  FS.devices[dev] = { stream_ops: ops };\r\n\t\t},\r\n\tgetDevice:(dev) => FS.devices[dev],\r\n\tgetMounts(mount) {\r\n\t\t  var mounts = [];\r\n\t\t  var check = [mount];\r\n\r\n\t\t  while (check.length) {\r\n\t\t\tvar m = check.pop();\r\n\r\n\t\t\tmounts.push(m);\r\n\r\n\t\t\tcheck.push.apply(check, m.mounts);\r\n\t\t  }\r\n\r\n\t\t  return mounts;\r\n\t\t},\r\n\tsyncfs(populate, callback) {\r\n\t\t  if (typeof populate == 'function') {\r\n\t\t\tcallback = populate;\r\n\t\t\tpopulate = false;\r\n\t\t  }\r\n\r\n\t\t  FS.syncFSRequests++;\r\n\r\n\t\t  if (FS.syncFSRequests > 1) {\r\n\t\t\terr(`warning: ${FS.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);\r\n\t\t  }\r\n\r\n\t\t  var mounts = FS.getMounts(FS.root.mount);\r\n\t\t  var completed = 0;\r\n\r\n\t\t  function doCallback(errCode) {\r\n\t\t\tassert(FS.syncFSRequests > 0);\r\n\t\t\tFS.syncFSRequests--;\r\n\t\t\treturn callback(errCode);\r\n\t\t  }\r\n\r\n\t\t  function done(errCode) {\r\n\t\t\tif (errCode) {\r\n\t\t\t  if (!done.errored) {\r\n\t\t\t\tdone.errored = true;\r\n\t\t\t\treturn doCallback(errCode);\r\n\t\t\t  }\r\n\t\t\t  return;\r\n\t\t\t}\r\n\t\t\tif (++completed >= mounts.length) {\r\n\t\t\t  doCallback(null);\r\n\t\t\t}\r\n\t\t  }\r\n\t\t  // sync all mounts\r\n\t\t  mounts.forEach((mount) => {\r\n\t\t\tif (!mount.type.syncfs) {\r\n\t\t\t  return done(null);\r\n\t\t\t}\r\n\t\t\tmount.type.syncfs(mount, populate, done);\r\n\t\t  });\r\n\t\t},\r\n\tmount(type, opts, mountpoint) {\r\n\t\t  if (typeof type == 'string') {\r\n\t\t\t// The filesystem was not included, and instead we have an error\r\n\t\t\t// message stored in the variable.\r\n\t\t\tthrow type;\r\n\t\t  }\r\n\t\t  var root = mountpoint === '/';\r\n\t\t  var pseudo = !mountpoint;\r\n\t\t  var node;\r\n\r\n\t\t  if (root && FS.root) {\r\n\t\t\tthrow new FS.ErrnoError(10);\r\n\t\t  } else if (!root && !pseudo) {\r\n\t\t\tvar lookup = FS.lookupPath(mountpoint, { follow_mount: false });\r\n\r\n\t\t\tmountpoint = lookup.path;  // use the absolute path\r\n\t\t\tnode = lookup.node;\r\n\r\n\t\t\tif (FS.isMountpoint(node)) {\r\n\t\t\t  throw new FS.ErrnoError(10);\r\n\t\t\t}\r\n\r\n\t\t\tif (!FS.isDir(node.mode)) {\r\n\t\t\t  throw new FS.ErrnoError(54);\r\n\t\t\t}\r\n\t\t  }\r\n\r\n\t\t  var mount = {\r\n\t\t\ttype,\r\n\t\t\topts,\r\n\t\t\tmountpoint,\r\n\t\t\tmounts: []\r\n\t\t  };\r\n\r\n\t\t  // create a root node for the fs\r\n\t\t  var mountRoot = type.mount(mount);\r\n\t\t  mountRoot.mount = mount;\r\n\t\t  mount.root = mountRoot;\r\n\r\n\t\t  if (root) {\r\n\t\t\tFS.root = mountRoot;\r\n\t\t  } else if (node) {\r\n\t\t\t// set as a mountpoint\r\n\t\t\tnode.mounted = mount;\r\n\r\n\t\t\t// add the new mount to the current mount's children\r\n\t\t\tif (node.mount) {\r\n\t\t\t  node.mount.mounts.push(mount);\r\n\t\t\t}\r\n\t\t  }\r\n\r\n\t\t  return mountRoot;\r\n\t\t},\r\n\tunmount(mountpoint) {\r\n\t\t  var lookup = FS.lookupPath(mountpoint, { follow_mount: false });\r\n\r\n\t\t  if (!FS.isMountpoint(lookup.node)) {\r\n\t\t\tthrow new FS.ErrnoError(28);\r\n\t\t  }\r\n\r\n\t\t  // destroy the nodes for this mount, and all its child mounts\r\n\t\t  var node = lookup.node;\r\n\t\t  var mount = node.mounted;\r\n\t\t  var mounts = FS.getMounts(mount);\r\n\r\n\t\t  Object.keys(FS.nameTable).forEach((hash) => {\r\n\t\t\tvar current = FS.nameTable[hash];\r\n\r\n\t\t\twhile (current) {\r\n\t\t\t  var next = current.name_next;\r\n\r\n\t\t\t  if (mounts.includes(current.mount)) {\r\n\t\t\t\tFS.destroyNode(current);\r\n\t\t\t  }\r\n\r\n\t\t\t  current = next;\r\n\t\t\t}\r\n\t\t  });\r\n\r\n\t\t  // no longer a mountpoint\r\n\t\t  node.mounted = null;\r\n\r\n\t\t  // remove this mount from the child mounts\r\n\t\t  var idx = node.mount.mounts.indexOf(mount);\r\n\t\t  assert(idx !== -1);\r\n\t\t  node.mount.mounts.splice(idx, 1);\r\n\t\t},\r\n\tlookup(parent, name) {\r\n\t\t  return parent.node_ops.lookup(parent, name);\r\n\t\t},\r\n\tmknod(path, mode, dev) {\r\n\t\t  var lookup = FS.lookupPath(path, { parent: true });\r\n\t\t  var parent = lookup.node;\r\n\t\t  var name = PATH.basename(path);\r\n\t\t  if (!name || name === '.' || name === '..') {\r\n\t\t\tthrow new FS.ErrnoError(28);\r\n\t\t  }\r\n\t\t  var errCode = FS.mayCreate(parent, name);\r\n\t\t  if (errCode) {\r\n\t\t\tthrow new FS.ErrnoError(errCode);\r\n\t\t  }\r\n\t\t  if (!parent.node_ops.mknod) {\r\n\t\t\tthrow new FS.ErrnoError(63);\r\n\t\t  }\r\n\t\t  return parent.node_ops.mknod(parent, name, mode, dev);\r\n\t\t},\r\n\tcreate(path, mode) {\r\n\t\t  mode = mode !== undefined ? mode : 438 /* 0666 */;\r\n\t\t  mode &= 4095;\r\n\t\t  mode |= 32768;\r\n\t\t  return FS.mknod(path, mode, 0);\r\n\t\t},\r\n\tmkdir(path, mode) {\r\n\t\t  mode = mode !== undefined ? mode : 511 /* 0777 */;\r\n\t\t  mode &= 511 | 512;\r\n\t\t  mode |= 16384;\r\n\t\t  return FS.mknod(path, mode, 0);\r\n\t\t},\r\n\tmkdirTree(path, mode) {\r\n\t\t  var dirs = path.split('/');\r\n\t\t  var d = '';\r\n\t\t  for (var i = 0; i < dirs.length; ++i) {\r\n\t\t\tif (!dirs[i]) continue;\r\n\t\t\td += '/' + dirs[i];\r\n\t\t\ttry {\r\n\t\t\t  FS.mkdir(d, mode);\r\n\t\t\t} catch(e) {\r\n\t\t\t  if (e.errno != 20) throw e;\r\n\t\t\t}\r\n\t\t  }\r\n\t\t},\r\n\tmkdev(path, mode, dev) {\r\n\t\t  if (typeof dev == 'undefined') {\r\n\t\t\tdev = mode;\r\n\t\t\tmode = 438 /* 0666 */;\r\n\t\t  }\r\n\t\t  mode |= 8192;\r\n\t\t  return FS.mknod(path, mode, dev);\r\n\t\t},\r\n\tsymlink(oldpath, newpath) {\r\n\t\t  if (!PATH_FS.resolve(oldpath)) {\r\n\t\t\tthrow new FS.ErrnoError(44);\r\n\t\t  }\r\n\t\t  var lookup = FS.lookupPath(newpath, { parent: true });\r\n\t\t  var parent = lookup.node;\r\n\t\t  if (!parent) {\r\n\t\t\tthrow new FS.ErrnoError(44);\r\n\t\t  }\r\n\t\t  var newname = PATH.basename(newpath);\r\n\t\t  var errCode = FS.mayCreate(parent, newname);\r\n\t\t  if (errCode) {\r\n\t\t\tthrow new FS.ErrnoError(errCode);\r\n\t\t  }\r\n\t\t  if (!parent.node_ops.symlink) {\r\n\t\t\tthrow new FS.ErrnoError(63);\r\n\t\t  }\r\n\t\t  return parent.node_ops.symlink(parent, newname, oldpath);\r\n\t\t},\r\n\trename(old_path, new_path) {\r\n\t\t  var old_dirname = PATH.dirname(old_path);\r\n\t\t  var new_dirname = PATH.dirname(new_path);\r\n\t\t  var old_name = PATH.basename(old_path);\r\n\t\t  var new_name = PATH.basename(new_path);\r\n\t\t  // parents must exist\r\n\t\t  var lookup, old_dir, new_dir;\r\n\r\n\t\t  // let the errors from non existant directories percolate up\r\n\t\t  lookup = FS.lookupPath(old_path, { parent: true });\r\n\t\t  old_dir = lookup.node;\r\n\t\t  lookup = FS.lookupPath(new_path, { parent: true });\r\n\t\t  new_dir = lookup.node;\r\n\r\n\t\t  if (!old_dir || !new_dir) throw new FS.ErrnoError(44);\r\n\t\t  // need to be part of the same mount\r\n\t\t  if (old_dir.mount !== new_dir.mount) {\r\n\t\t\tthrow new FS.ErrnoError(75);\r\n\t\t  }\r\n\t\t  // source must exist\r\n\t\t  var old_node = FS.lookupNode(old_dir, old_name);\r\n\t\t  // old path should not be an ancestor of the new path\r\n\t\t  var relative = PATH_FS.relative(old_path, new_dirname);\r\n\t\t  if (relative.charAt(0) !== '.') {\r\n\t\t\tthrow new FS.ErrnoError(28);\r\n\t\t  }\r\n\t\t  // new path should not be an ancestor of the old path\r\n\t\t  relative = PATH_FS.relative(new_path, old_dirname);\r\n\t\t  if (relative.charAt(0) !== '.') {\r\n\t\t\tthrow new FS.ErrnoError(55);\r\n\t\t  }\r\n\t\t  // see if the new path already exists\r\n\t\t  var new_node;\r\n\t\t  try {\r\n\t\t\tnew_node = FS.lookupNode(new_dir, new_name);\r\n\t\t  } catch (e) {\r\n\t\t\t// not fatal\r\n\t\t  }\r\n\t\t  // early out if nothing needs to change\r\n\t\t  if (old_node === new_node) {\r\n\t\t\treturn;\r\n\t\t  }\r\n\t\t  // we'll need to delete the old entry\r\n\t\t  var isdir = FS.isDir(old_node.mode);\r\n\t\t  var errCode = FS.mayDelete(old_dir, old_name, isdir);\r\n\t\t  if (errCode) {\r\n\t\t\tthrow new FS.ErrnoError(errCode);\r\n\t\t  }\r\n\t\t  // need delete permissions if we'll be overwriting.\r\n\t\t  // need create permissions if new doesn't already exist.\r\n\t\t  errCode = new_node ?\r\n\t\t\tFS.mayDelete(new_dir, new_name, isdir) :\r\n\t\t\tFS.mayCreate(new_dir, new_name);\r\n\t\t  if (errCode) {\r\n\t\t\tthrow new FS.ErrnoError(errCode);\r\n\t\t  }\r\n\t\t  if (!old_dir.node_ops.rename) {\r\n\t\t\tthrow new FS.ErrnoError(63);\r\n\t\t  }\r\n\t\t  if (FS.isMountpoint(old_node) || (new_node && FS.isMountpoint(new_node))) {\r\n\t\t\tthrow new FS.ErrnoError(10);\r\n\t\t  }\r\n\t\t  // if we are going to change the parent, check write permissions\r\n\t\t  if (new_dir !== old_dir) {\r\n\t\t\terrCode = FS.nodePermissions(old_dir, 'w');\r\n\t\t\tif (errCode) {\r\n\t\t\t  throw new FS.ErrnoError(errCode);\r\n\t\t\t}\r\n\t\t  }\r\n\t\t  // remove the node from the lookup hash\r\n\t\t  FS.hashRemoveNode(old_node);\r\n\t\t  // do the underlying fs rename\r\n\t\t  try {\r\n\t\t\told_dir.node_ops.rename(old_node, new_dir, new_name);\r\n\t\t  } catch (e) {\r\n\t\t\tthrow e;\r\n\t\t  } finally {\r\n\t\t\t// add the node back to the hash (in case node_ops.rename\r\n\t\t\t// changed its name)\r\n\t\t\tFS.hashAddNode(old_node);\r\n\t\t  }\r\n\t\t},\r\n\trmdir(path) {\r\n\t\t  var lookup = FS.lookupPath(path, { parent: true });\r\n\t\t  var parent = lookup.node;\r\n\t\t  var name = PATH.basename(path);\r\n\t\t  var node = FS.lookupNode(parent, name);\r\n\t\t  var errCode = FS.mayDelete(parent, name, true);\r\n\t\t  if (errCode) {\r\n\t\t\tthrow new FS.ErrnoError(errCode);\r\n\t\t  }\r\n\t\t  if (!parent.node_ops.rmdir) {\r\n\t\t\tthrow new FS.ErrnoError(63);\r\n\t\t  }\r\n\t\t  if (FS.isMountpoint(node)) {\r\n\t\t\tthrow new FS.ErrnoError(10);\r\n\t\t  }\r\n\t\t  parent.node_ops.rmdir(parent, name);\r\n\t\t  FS.destroyNode(node);\r\n\t\t},\r\n\treaddir(path) {\r\n\t\t  var lookup = FS.lookupPath(path, { follow: true });\r\n\t\t  var node = lookup.node;\r\n\t\t  if (!node.node_ops.readdir) {\r\n\t\t\tthrow new FS.ErrnoError(54);\r\n\t\t  }\r\n\t\t  return node.node_ops.readdir(node);\r\n\t\t},\r\n\tunlink(path) {\r\n\t\t  var lookup = FS.lookupPath(path, { parent: true });\r\n\t\t  var parent = lookup.node;\r\n\t\t  if (!parent) {\r\n\t\t\tthrow new FS.ErrnoError(44);\r\n\t\t  }\r\n\t\t  var name = PATH.basename(path);\r\n\t\t  var node = FS.lookupNode(parent, name);\r\n\t\t  var errCode = FS.mayDelete(parent, name, false);\r\n\t\t  if (errCode) {\r\n\t\t\t// According to POSIX, we should map EISDIR to EPERM, but\r\n\t\t\t// we instead do what Linux does (and we must, as we use\r\n\t\t\t// the musl linux libc).\r\n\t\t\tthrow new FS.ErrnoError(errCode);\r\n\t\t  }\r\n\t\t  if (!parent.node_ops.unlink) {\r\n\t\t\tthrow new FS.ErrnoError(63);\r\n\t\t  }\r\n\t\t  if (FS.isMountpoint(node)) {\r\n\t\t\tthrow new FS.ErrnoError(10);\r\n\t\t  }\r\n\t\t  parent.node_ops.unlink(parent, name);\r\n\t\t  FS.destroyNode(node);\r\n\t\t},\r\n\treadlink(path) {\r\n\t\t  var lookup = FS.lookupPath(path);\r\n\t\t  var link = lookup.node;\r\n\t\t  if (!link) {\r\n\t\t\tthrow new FS.ErrnoError(44);\r\n\t\t  }\r\n\t\t  if (!link.node_ops.readlink) {\r\n\t\t\tthrow new FS.ErrnoError(28);\r\n\t\t  }\r\n\t\t  return PATH_FS.resolve(FS.getPath(link.parent), link.node_ops.readlink(link));\r\n\t\t},\r\n\tstat(path, dontFollow) {\r\n\t\t  var lookup = FS.lookupPath(path, { follow: !dontFollow });\r\n\t\t  var node = lookup.node;\r\n\t\t  if (!node) {\r\n\t\t\tthrow new FS.ErrnoError(44);\r\n\t\t  }\r\n\t\t  if (!node.node_ops.getattr) {\r\n\t\t\tthrow new FS.ErrnoError(63);\r\n\t\t  }\r\n\t\t  return node.node_ops.getattr(node);\r\n\t\t},\r\n\tlstat(path) {\r\n\t\t  return FS.stat(path, true);\r\n\t\t},\r\n\tchmod(path, mode, dontFollow) {\r\n\t\t  var node;\r\n\t\t  if (typeof path == 'string') {\r\n\t\t\tvar lookup = FS.lookupPath(path, { follow: !dontFollow });\r\n\t\t\tnode = lookup.node;\r\n\t\t  } else {\r\n\t\t\tnode = path;\r\n\t\t  }\r\n\t\t  if (!node.node_ops.setattr) {\r\n\t\t\tthrow new FS.ErrnoError(63);\r\n\t\t  }\r\n\t\t  node.node_ops.setattr(node, {\r\n\t\t\tmode: (mode & 4095) | (node.mode & ~4095),\r\n\t\t\ttimestamp: Date.now()\r\n\t\t  });\r\n\t\t},\r\n\tlchmod(path, mode) {\r\n\t\t  FS.chmod(path, mode, true);\r\n\t\t},\r\n\tfchmod(fd, mode) {\r\n\t\t  var stream = FS.getStreamChecked(fd);\r\n\t\t  FS.chmod(stream.node, mode);\r\n\t\t},\r\n\tchown(path, uid, gid, dontFollow) {\r\n\t\t  var node;\r\n\t\t  if (typeof path == 'string') {\r\n\t\t\tvar lookup = FS.lookupPath(path, { follow: !dontFollow });\r\n\t\t\tnode = lookup.node;\r\n\t\t  } else {\r\n\t\t\tnode = path;\r\n\t\t  }\r\n\t\t  if (!node.node_ops.setattr) {\r\n\t\t\tthrow new FS.ErrnoError(63);\r\n\t\t  }\r\n\t\t  node.node_ops.setattr(node, {\r\n\t\t\ttimestamp: Date.now()\r\n\t\t\t// we ignore the uid / gid for now\r\n\t\t  });\r\n\t\t},\r\n\tlchown(path, uid, gid) {\r\n\t\t  FS.chown(path, uid, gid, true);\r\n\t\t},\r\n\tfchown(fd, uid, gid) {\r\n\t\t  var stream = FS.getStreamChecked(fd);\r\n\t\t  FS.chown(stream.node, uid, gid);\r\n\t\t},\r\n\ttruncate(path, len) {\r\n\t\t  if (len < 0) {\r\n\t\t\tthrow new FS.ErrnoError(28);\r\n\t\t  }\r\n\t\t  var node;\r\n\t\t  if (typeof path == 'string') {\r\n\t\t\tvar lookup = FS.lookupPath(path, { follow: true });\r\n\t\t\tnode = lookup.node;\r\n\t\t  } else {\r\n\t\t\tnode = path;\r\n\t\t  }\r\n\t\t  if (!node.node_ops.setattr) {\r\n\t\t\tthrow new FS.ErrnoError(63);\r\n\t\t  }\r\n\t\t  if (FS.isDir(node.mode)) {\r\n\t\t\tthrow new FS.ErrnoError(31);\r\n\t\t  }\r\n\t\t  if (!FS.isFile(node.mode)) {\r\n\t\t\tthrow new FS.ErrnoError(28);\r\n\t\t  }\r\n\t\t  var errCode = FS.nodePermissions(node, 'w');\r\n\t\t  if (errCode) {\r\n\t\t\tthrow new FS.ErrnoError(errCode);\r\n\t\t  }\r\n\t\t  node.node_ops.setattr(node, {\r\n\t\t\tsize: len,\r\n\t\t\ttimestamp: Date.now()\r\n\t\t  });\r\n\t\t},\r\n\tftruncate(fd, len) {\r\n\t\t  var stream = FS.getStreamChecked(fd);\r\n\t\t  if ((stream.flags & 2097155) === 0) {\r\n\t\t\tthrow new FS.ErrnoError(28);\r\n\t\t  }\r\n\t\t  FS.truncate(stream.node, len);\r\n\t\t},\r\n\tutime(path, atime, mtime) {\r\n\t\t  var lookup = FS.lookupPath(path, { follow: true });\r\n\t\t  var node = lookup.node;\r\n\t\t  node.node_ops.setattr(node, {\r\n\t\t\ttimestamp: Math.max(atime, mtime)\r\n\t\t  });\r\n\t\t},\r\n\topen(path, flags, mode) {\r\n\t\t  if (path === \"\") {\r\n\t\t\tthrow new FS.ErrnoError(44);\r\n\t\t  }\r\n\t\t  flags = typeof flags == 'string' ? FS_modeStringToFlags(flags) : flags;\r\n\t\t  mode = typeof mode == 'undefined' ? 438 /* 0666 */ : mode;\r\n\t\t  if ((flags & 64)) {\r\n\t\t\tmode = (mode & 4095) | 32768;\r\n\t\t  } else {\r\n\t\t\tmode = 0;\r\n\t\t  }\r\n\t\t  var node;\r\n\t\t  if (typeof path == 'object') {\r\n\t\t\tnode = path;\r\n\t\t  } else {\r\n\t\t\tpath = PATH.normalize(path);\r\n\t\t\ttry {\r\n\t\t\t  var lookup = FS.lookupPath(path, {\r\n\t\t\t\tfollow: !(flags & 131072)\r\n\t\t\t  });\r\n\t\t\t  node = lookup.node;\r\n\t\t\t} catch (e) {\r\n\t\t\t  // ignore\r\n\t\t\t}\r\n\t\t  }\r\n\t\t  // perhaps we need to create the node\r\n\t\t  var created = false;\r\n\t\t  if ((flags & 64)) {\r\n\t\t\tif (node) {\r\n\t\t\t  // if O_CREAT and O_EXCL are set, error out if the node already exists\r\n\t\t\t  if ((flags & 128)) {\r\n\t\t\t\tthrow new FS.ErrnoError(20);\r\n\t\t\t  }\r\n\t\t\t} else {\r\n\t\t\t  // node doesn't exist, try to create it\r\n\t\t\t  node = FS.mknod(path, mode, 0);\r\n\t\t\t  created = true;\r\n\t\t\t}\r\n\t\t  }\r\n\t\t  if (!node) {\r\n\t\t\tthrow new FS.ErrnoError(44);\r\n\t\t  }\r\n\t\t  // can't truncate a device\r\n\t\t  if (FS.isChrdev(node.mode)) {\r\n\t\t\tflags &= ~512;\r\n\t\t  }\r\n\t\t  // if asked only for a directory, then this must be one\r\n\t\t  if ((flags & 65536) && !FS.isDir(node.mode)) {\r\n\t\t\tthrow new FS.ErrnoError(54);\r\n\t\t  }\r\n\t\t  // check permissions, if this is not a file we just created now (it is ok to\r\n\t\t  // create and write to a file with read-only permissions; it is read-only\r\n\t\t  // for later use)\r\n\t\t  if (!created) {\r\n\t\t\tvar errCode = FS.mayOpen(node, flags);\r\n\t\t\tif (errCode) {\r\n\t\t\t  throw new FS.ErrnoError(errCode);\r\n\t\t\t}\r\n\t\t  }\r\n\t\t  // do truncation if necessary\r\n\t\t  if ((flags & 512) && !created) {\r\n\t\t\tFS.truncate(node, 0);\r\n\t\t  }\r\n\t\t  // we've already handled these, don't pass down to the underlying vfs\r\n\t\t  flags &= ~(128 | 512 | 131072);\r\n\r\n\t\t  // register the stream with the filesystem\r\n\t\t  var stream = FS.createStream({\r\n\t\t\tnode,\r\n\t\t\tpath: FS.getPath(node),  // we want the absolute path to the node\r\n\t\t\tflags,\r\n\t\t\tseekable: true,\r\n\t\t\tposition: 0,\r\n\t\t\tstream_ops: node.stream_ops,\r\n\t\t\t// used by the file family libc calls (fopen, fwrite, ferror, etc.)\r\n\t\t\tungotten: [],\r\n\t\t\terror: false\r\n\t\t  });\r\n\t\t  // call the new stream's open function\r\n\t\t  if (stream.stream_ops.open) {\r\n\t\t\tstream.stream_ops.open(stream);\r\n\t\t  }\r\n\t\t  if (Module['logReadFiles'] && !(flags & 1)) {\r\n\t\t\tif (!FS.readFiles) FS.readFiles = {};\r\n\t\t\tif (!(path in FS.readFiles)) {\r\n\t\t\t  FS.readFiles[path] = 1;\r\n\t\t\t}\r\n\t\t  }\r\n\t\t  return stream;\r\n\t\t},\r\n\tclose(stream) {\r\n\t\t  if (FS.isClosed(stream)) {\r\n\t\t\tthrow new FS.ErrnoError(8);\r\n\t\t  }\r\n\t\t  if (stream.getdents) stream.getdents = null; // free readdir state\r\n\t\t  try {\r\n\t\t\tif (stream.stream_ops.close) {\r\n\t\t\t  stream.stream_ops.close(stream);\r\n\t\t\t}\r\n\t\t  } catch (e) {\r\n\t\t\tthrow e;\r\n\t\t  } finally {\r\n\t\t\tFS.closeStream(stream.fd);\r\n\t\t  }\r\n\t\t  stream.fd = null;\r\n\t\t},\r\n\tisClosed(stream) {\r\n\t\t  return stream.fd === null;\r\n\t\t},\r\n\tllseek(stream, offset, whence) {\r\n\t\t  if (FS.isClosed(stream)) {\r\n\t\t\tthrow new FS.ErrnoError(8);\r\n\t\t  }\r\n\t\t  if (!stream.seekable || !stream.stream_ops.llseek) {\r\n\t\t\tthrow new FS.ErrnoError(70);\r\n\t\t  }\r\n\t\t  if (whence != 0 && whence != 1 && whence != 2) {\r\n\t\t\tthrow new FS.ErrnoError(28);\r\n\t\t  }\r\n\t\t  stream.position = stream.stream_ops.llseek(stream, offset, whence);\r\n\t\t  stream.ungotten = [];\r\n\t\t  return stream.position;\r\n\t\t},\r\n\tread(stream, buffer, offset, length, position) {\r\n\t\t  assert(offset >= 0);\r\n\t\t  if (length < 0 || position < 0) {\r\n\t\t\tthrow new FS.ErrnoError(28);\r\n\t\t  }\r\n\t\t  if (FS.isClosed(stream)) {\r\n\t\t\tthrow new FS.ErrnoError(8);\r\n\t\t  }\r\n\t\t  if ((stream.flags & 2097155) === 1) {\r\n\t\t\tthrow new FS.ErrnoError(8);\r\n\t\t  }\r\n\t\t  if (FS.isDir(stream.node.mode)) {\r\n\t\t\tthrow new FS.ErrnoError(31);\r\n\t\t  }\r\n\t\t  if (!stream.stream_ops.read) {\r\n\t\t\tthrow new FS.ErrnoError(28);\r\n\t\t  }\r\n\t\t  var seeking = typeof position != 'undefined';\r\n\t\t  if (!seeking) {\r\n\t\t\tposition = stream.position;\r\n\t\t  } else if (!stream.seekable) {\r\n\t\t\tthrow new FS.ErrnoError(70);\r\n\t\t  }\r\n\t\t  var bytesRead = stream.stream_ops.read(stream, buffer, offset, length, position);\r\n\t\t  if (!seeking) stream.position += bytesRead;\r\n\t\t  return bytesRead;\r\n\t\t},\r\n\twrite(stream, buffer, offset, length, position, canOwn) {\r\n\t\t  assert(offset >= 0);\r\n\t\t  if (length < 0 || position < 0) {\r\n\t\t\tthrow new FS.ErrnoError(28);\r\n\t\t  }\r\n\t\t  if (FS.isClosed(stream)) {\r\n\t\t\tthrow new FS.ErrnoError(8);\r\n\t\t  }\r\n\t\t  if ((stream.flags & 2097155) === 0) {\r\n\t\t\tthrow new FS.ErrnoError(8);\r\n\t\t  }\r\n\t\t  if (FS.isDir(stream.node.mode)) {\r\n\t\t\tthrow new FS.ErrnoError(31);\r\n\t\t  }\r\n\t\t  if (!stream.stream_ops.write) {\r\n\t\t\tthrow new FS.ErrnoError(28);\r\n\t\t  }\r\n\t\t  if (stream.seekable && stream.flags & 1024) {\r\n\t\t\t// seek to the end before writing in append mode\r\n\t\t\tFS.llseek(stream, 0, 2);\r\n\t\t  }\r\n\t\t  var seeking = typeof position != 'undefined';\r\n\t\t  if (!seeking) {\r\n\t\t\tposition = stream.position;\r\n\t\t  } else if (!stream.seekable) {\r\n\t\t\tthrow new FS.ErrnoError(70);\r\n\t\t  }\r\n\t\t  var bytesWritten = stream.stream_ops.write(stream, buffer, offset, length, position, canOwn);\r\n\t\t  if (!seeking) stream.position += bytesWritten;\r\n\t\t  return bytesWritten;\r\n\t\t},\r\n\tallocate(stream, offset, length) {\r\n\t\t  if (FS.isClosed(stream)) {\r\n\t\t\tthrow new FS.ErrnoError(8);\r\n\t\t  }\r\n\t\t  if (offset < 0 || length <= 0) {\r\n\t\t\tthrow new FS.ErrnoError(28);\r\n\t\t  }\r\n\t\t  if ((stream.flags & 2097155) === 0) {\r\n\t\t\tthrow new FS.ErrnoError(8);\r\n\t\t  }\r\n\t\t  if (!FS.isFile(stream.node.mode) && !FS.isDir(stream.node.mode)) {\r\n\t\t\tthrow new FS.ErrnoError(43);\r\n\t\t  }\r\n\t\t  if (!stream.stream_ops.allocate) {\r\n\t\t\tthrow new FS.ErrnoError(138);\r\n\t\t  }\r\n\t\t  stream.stream_ops.allocate(stream, offset, length);\r\n\t\t},\r\n\tmmap(stream, length, position, prot, flags) {\r\n\t\t  // User requests writing to file (prot & PROT_WRITE != 0).\r\n\t\t  // Checking if we have permissions to write to the file unless\r\n\t\t  // MAP_PRIVATE flag is set. According to POSIX spec it is possible\r\n\t\t  // to write to file opened in read-only mode with MAP_PRIVATE flag,\r\n\t\t  // as all modifications will be visible only in the memory of\r\n\t\t  // the current process.\r\n\t\t  if ((prot & 2) !== 0\r\n\t\t\t  && (flags & 2) === 0\r\n\t\t\t  && (stream.flags & 2097155) !== 2) {\r\n\t\t\tthrow new FS.ErrnoError(2);\r\n\t\t  }\r\n\t\t  if ((stream.flags & 2097155) === 1) {\r\n\t\t\tthrow new FS.ErrnoError(2);\r\n\t\t  }\r\n\t\t  if (!stream.stream_ops.mmap) {\r\n\t\t\tthrow new FS.ErrnoError(43);\r\n\t\t  }\r\n\t\t  return stream.stream_ops.mmap(stream, length, position, prot, flags);\r\n\t\t},\r\n\tmsync(stream, buffer, offset, length, mmapFlags) {\r\n\t\t  assert(offset >= 0);\r\n\t\t  if (!stream.stream_ops.msync) {\r\n\t\t\treturn 0;\r\n\t\t  }\r\n\t\t  return stream.stream_ops.msync(stream, buffer, offset, length, mmapFlags);\r\n\t\t},\r\n\tmunmap:(stream) => 0,\r\n\tioctl(stream, cmd, arg) {\r\n\t\t  if (!stream.stream_ops.ioctl) {\r\n\t\t\tthrow new FS.ErrnoError(59);\r\n\t\t  }\r\n\t\t  return stream.stream_ops.ioctl(stream, cmd, arg);\r\n\t\t},\r\n\treadFile(path, opts = {}) {\r\n\t\t  opts.flags = opts.flags || 0;\r\n\t\t  opts.encoding = opts.encoding || 'binary';\r\n\t\t  if (opts.encoding !== 'utf8' && opts.encoding !== 'binary') {\r\n\t\t\tthrow new Error(`Invalid encoding type \"${opts.encoding}\"`);\r\n\t\t  }\r\n\t\t  var ret;\r\n\t\t  var stream = FS.open(path, opts.flags);\r\n\t\t  var stat = FS.stat(path);\r\n\t\t  var length = stat.size;\r\n\t\t  var buf = new Uint8Array(length);\r\n\t\t  FS.read(stream, buf, 0, length, 0);\r\n\t\t  if (opts.encoding === 'utf8') {\r\n\t\t\tret = UTF8ArrayToString(buf, 0);\r\n\t\t  } else if (opts.encoding === 'binary') {\r\n\t\t\tret = buf;\r\n\t\t  }\r\n\t\t  FS.close(stream);\r\n\t\t  return ret;\r\n\t\t},\r\n\twriteFile(path, data, opts = {}) {\r\n\t\t  opts.flags = opts.flags || 577;\r\n\t\t  var stream = FS.open(path, opts.flags, opts.mode);\r\n\t\t  if (typeof data == 'string') {\r\n\t\t\tvar buf = new Uint8Array(lengthBytesUTF8(data)+1);\r\n\t\t\tvar actualNumBytes = stringToUTF8Array(data, buf, 0, buf.length);\r\n\t\t\tFS.write(stream, buf, 0, actualNumBytes, undefined, opts.canOwn);\r\n\t\t  } else if (ArrayBuffer.isView(data)) {\r\n\t\t\tFS.write(stream, data, 0, data.byteLength, undefined, opts.canOwn);\r\n\t\t  } else {\r\n\t\t\tthrow new Error('Unsupported data type');\r\n\t\t  }\r\n\t\t  FS.close(stream);\r\n\t\t},\r\n\tcwd:() => FS.currentPath,\r\n\tchdir(path) {\r\n\t\t  var lookup = FS.lookupPath(path, { follow: true });\r\n\t\t  if (lookup.node === null) {\r\n\t\t\tthrow new FS.ErrnoError(44);\r\n\t\t  }\r\n\t\t  if (!FS.isDir(lookup.node.mode)) {\r\n\t\t\tthrow new FS.ErrnoError(54);\r\n\t\t  }\r\n\t\t  var errCode = FS.nodePermissions(lookup.node, 'x');\r\n\t\t  if (errCode) {\r\n\t\t\tthrow new FS.ErrnoError(errCode);\r\n\t\t  }\r\n\t\t  FS.currentPath = lookup.path;\r\n\t\t},\r\n\tcreateDefaultDirectories() {\r\n\t\t  FS.mkdir('/tmp');\r\n\t\t  FS.mkdir('/home');\r\n\t\t  FS.mkdir('/home/web_user');\r\n\t\t},\r\n\tcreateDefaultDevices() {\r\n\t\t  // create /dev\r\n\t\t  FS.mkdir('/dev');\r\n\t\t  // setup /dev/null\r\n\t\t  FS.registerDevice(FS.makedev(1, 3), {\r\n\t\t\tread: () => 0,\r\n\t\t\twrite: (stream, buffer, offset, length, pos) => length,\r\n\t\t  });\r\n\t\t  FS.mkdev('/dev/null', FS.makedev(1, 3));\r\n\t\t  // setup /dev/tty and /dev/tty1\r\n\t\t  // stderr needs to print output using err() rather than out()\r\n\t\t  // so we register a second tty just for it.\r\n\t\t  TTY.register(FS.makedev(5, 0), TTY.default_tty_ops);\r\n\t\t  TTY.register(FS.makedev(6, 0), TTY.default_tty1_ops);\r\n\t\t  FS.mkdev('/dev/tty', FS.makedev(5, 0));\r\n\t\t  FS.mkdev('/dev/tty1', FS.makedev(6, 0));\r\n\t\t  // setup /dev/[u]random\r\n\t\t  // use a buffer to avoid overhead of individual crypto calls per byte\r\n\t\t  var randomBuffer = new Uint8Array(1024), randomLeft = 0;\r\n\t\t  var randomByte = () => {\r\n\t\t\tif (randomLeft === 0) {\r\n\t\t\t  randomLeft = randomFill(randomBuffer).byteLength;\r\n\t\t\t}\r\n\t\t\treturn randomBuffer[--randomLeft];\r\n\t\t  };\r\n\t\t  FS.createDevice('/dev', 'random', randomByte);\r\n\t\t  FS.createDevice('/dev', 'urandom', randomByte);\r\n\t\t  // we're not going to emulate the actual shm device,\r\n\t\t  // just create the tmp dirs that reside in it commonly\r\n\t\t  FS.mkdir('/dev/shm');\r\n\t\t  FS.mkdir('/dev/shm/tmp');\r\n\t\t},\r\n\tcreateSpecialDirectories() {\r\n\t\t  // create /proc/self/fd which allows /proc/self/fd/6 => readlink gives the\r\n\t\t  // name of the stream for fd 6 (see test_unistd_ttyname)\r\n\t\t  FS.mkdir('/proc');\r\n\t\t  var proc_self = FS.mkdir('/proc/self');\r\n\t\t  FS.mkdir('/proc/self/fd');\r\n\t\t  FS.mount({\r\n\t\t\tmount() {\r\n\t\t\t  var node = FS.createNode(proc_self, 'fd', 16384 | 511 /* 0777 */, 73);\r\n\t\t\t  node.node_ops = {\r\n\t\t\t\tlookup(parent, name) {\r\n\t\t\t\t  var fd = +name;\r\n\t\t\t\t  var stream = FS.getStreamChecked(fd);\r\n\t\t\t\t  var ret = {\r\n\t\t\t\t\tparent: null,\r\n\t\t\t\t\tmount: { mountpoint: 'fake' },\r\n\t\t\t\t\tnode_ops: { readlink: () => stream.path },\r\n\t\t\t\t  };\r\n\t\t\t\t  ret.parent = ret; // make it look like a simple root node\r\n\t\t\t\t  return ret;\r\n\t\t\t\t}\r\n\t\t\t  };\r\n\t\t\t  return node;\r\n\t\t\t}\r\n\t\t  }, {}, '/proc/self/fd');\r\n\t\t},\r\n\tcreateStandardStreams() {\r\n\t\t  // TODO deprecate the old functionality of a single\r\n\t\t  // input / output callback and that utilizes FS.createDevice\r\n\t\t  // and instead require a unique set of stream ops\r\n\r\n\t\t  // by default, we symlink the standard streams to the\r\n\t\t  // default tty devices. however, if the standard streams\r\n\t\t  // have been overwritten we create a unique device for\r\n\t\t  // them instead.\r\n\t\t  if (Module['stdin']) {\r\n\t\t\tFS.createDevice('/dev', 'stdin', Module['stdin']);\r\n\t\t  } else {\r\n\t\t\tFS.symlink('/dev/tty', '/dev/stdin');\r\n\t\t  }\r\n\t\t  if (Module['stdout']) {\r\n\t\t\tFS.createDevice('/dev', 'stdout', null, Module['stdout']);\r\n\t\t  } else {\r\n\t\t\tFS.symlink('/dev/tty', '/dev/stdout');\r\n\t\t  }\r\n\t\t  if (Module['stderr']) {\r\n\t\t\tFS.createDevice('/dev', 'stderr', null, Module['stderr']);\r\n\t\t  } else {\r\n\t\t\tFS.symlink('/dev/tty1', '/dev/stderr');\r\n\t\t  }\r\n\r\n\t\t  // open default streams for the stdin, stdout and stderr devices\r\n\t\t  var stdin = FS.open('/dev/stdin', 0);\r\n\t\t  var stdout = FS.open('/dev/stdout', 1);\r\n\t\t  var stderr = FS.open('/dev/stderr', 1);\r\n\t\t  assert(stdin.fd === 0, `invalid handle for stdin (${stdin.fd})`);\r\n\t\t  assert(stdout.fd === 1, `invalid handle for stdout (${stdout.fd})`);\r\n\t\t  assert(stderr.fd === 2, `invalid handle for stderr (${stderr.fd})`);\r\n\t\t},\r\n\tensureErrnoError() {\r\n\t\t  if (FS.ErrnoError) return;\r\n\t\t  FS.ErrnoError = /** @this{Object} */ function ErrnoError(errno, node) {\r\n\t\t\t// We set the `name` property to be able to identify `FS.ErrnoError`\r\n\t\t\t// - the `name` is a standard ECMA-262 property of error objects. Kind of good to have it anyway.\r\n\t\t\t// - when using PROXYFS, an error can come from an underlying FS\r\n\t\t\t// as different FS objects have their own FS.ErrnoError each,\r\n\t\t\t// the test `err instanceof FS.ErrnoError` won't detect an error coming from another filesystem, causing bugs.\r\n\t\t\t// we'll use the reliable test `err.name == \"ErrnoError\"` instead\r\n\t\t\tthis.name = 'ErrnoError';\r\n\t\t\tthis.node = node;\r\n\t\t\tthis.setErrno = /** @this{Object} */ function(errno) {\r\n\t\t\t  this.errno = errno;\r\n\t\t\t  for (var key in ERRNO_CODES) {\r\n\t\t\t\tif (ERRNO_CODES[key] === errno) {\r\n\t\t\t\t  this.code = key;\r\n\t\t\t\t  break;\r\n\t\t\t\t}\r\n\t\t\t  }\r\n\t\t\t};\r\n\t\t\tthis.setErrno(errno);\r\n\t\t\tthis.message = ERRNO_MESSAGES[errno];\r\n\r\n\t\t\t// Try to get a maximally helpful stack trace. On Node.js, getting Error.stack\r\n\t\t\t// now ensures it shows what we want.\r\n\t\t\tif (this.stack) {\r\n\t\t\t  // Define the stack property for Node.js 4, which otherwise errors on the next line.\r\n\t\t\t  Object.defineProperty(this, \"stack\", { value: (new Error).stack, writable: true });\r\n\t\t\t  this.stack = demangleAll(this.stack);\r\n\t\t\t}\r\n\t\t  };\r\n\t\t  FS.ErrnoError.prototype = new Error();\r\n\t\t  FS.ErrnoError.prototype.constructor = FS.ErrnoError;\r\n\t\t  // Some errors may happen quite a bit, to avoid overhead we reuse them (and suffer a lack of stack info)\r\n\t\t  [44].forEach((code) => {\r\n\t\t\tFS.genericErrors[code] = new FS.ErrnoError(code);\r\n\t\t\tFS.genericErrors[code].stack = '<generic error, no stack>';\r\n\t\t  });\r\n\t\t},\r\n\tstaticInit() {\r\n\t\t  FS.ensureErrnoError();\r\n\r\n\t\t  FS.nameTable = new Array(4096);\r\n\r\n\t\t  FS.mount(MEMFS, {}, '/');\r\n\r\n\t\t  FS.createDefaultDirectories();\r\n\t\t  FS.createDefaultDevices();\r\n\t\t  FS.createSpecialDirectories();\r\n\r\n\t\t  FS.filesystems = {\r\n\t\t\t'MEMFS': MEMFS,\r\n\t\t  };\r\n\t\t},\r\n\tinit(input, output, error) {\r\n\t\t  assert(!FS.init.initialized, 'FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)');\r\n\t\t  FS.init.initialized = true;\r\n\r\n\t\t  FS.ensureErrnoError();\r\n\r\n\t\t  // Allow Module.stdin etc. to provide defaults, if none explicitly passed to us here\r\n\t\t  Module['stdin'] = input || Module['stdin'];\r\n\t\t  Module['stdout'] = output || Module['stdout'];\r\n\t\t  Module['stderr'] = error || Module['stderr'];\r\n\r\n\t\t  FS.createStandardStreams();\r\n\t\t},\r\n\tquit() {\r\n\t\t  FS.init.initialized = false;\r\n\t\t  // force-flush all streams, so we get musl std streams printed out\r\n\t\t  _fflush(0);\r\n\t\t  // close all of our streams\r\n\t\t  for (var i = 0; i < FS.streams.length; i++) {\r\n\t\t\tvar stream = FS.streams[i];\r\n\t\t\tif (!stream) {\r\n\t\t\t  continue;\r\n\t\t\t}\r\n\t\t\tFS.close(stream);\r\n\t\t  }\r\n\t\t},\r\n\tfindObject(path, dontResolveLastLink) {\r\n\t\t  var ret = FS.analyzePath(path, dontResolveLastLink);\r\n\t\t  if (!ret.exists) {\r\n\t\t\treturn null;\r\n\t\t  }\r\n\t\t  return ret.object;\r\n\t\t},\r\n\tanalyzePath(path, dontResolveLastLink) {\r\n\t\t  // operate from within the context of the symlink's target\r\n\t\t  try {\r\n\t\t\tvar lookup = FS.lookupPath(path, { follow: !dontResolveLastLink });\r\n\t\t\tpath = lookup.path;\r\n\t\t  } catch (e) {\r\n\t\t  }\r\n\t\t  var ret = {\r\n\t\t\tisRoot: false, exists: false, error: 0, name: null, path: null, object: null,\r\n\t\t\tparentExists: false, parentPath: null, parentObject: null\r\n\t\t  };\r\n\t\t  try {\r\n\t\t\tvar lookup = FS.lookupPath(path, { parent: true });\r\n\t\t\tret.parentExists = true;\r\n\t\t\tret.parentPath = lookup.path;\r\n\t\t\tret.parentObject = lookup.node;\r\n\t\t\tret.name = PATH.basename(path);\r\n\t\t\tlookup = FS.lookupPath(path, { follow: !dontResolveLastLink });\r\n\t\t\tret.exists = true;\r\n\t\t\tret.path = lookup.path;\r\n\t\t\tret.object = lookup.node;\r\n\t\t\tret.name = lookup.node.name;\r\n\t\t\tret.isRoot = lookup.path === '/';\r\n\t\t  } catch (e) {\r\n\t\t\tret.error = e.errno;\r\n\t\t  }        return ret;\r\n\t\t},\r\n\tcreatePath(parent, path, canRead, canWrite) {\r\n\t\t  parent = typeof parent == 'string' ? parent : FS.getPath(parent);\r\n\t\t  var parts = path.split('/').reverse();\r\n\t\t  while (parts.length) {\r\n\t\t\tvar part = parts.pop();\r\n\t\t\tif (!part) continue;\r\n\t\t\tvar current = PATH.join2(parent, part);\r\n\t\t\ttry {\r\n\t\t\t  FS.mkdir(current);\r\n\t\t\t} catch (e) {\r\n\t\t\t  // ignore EEXIST\r\n\t\t\t}\r\n\t\t\tparent = current;\r\n\t\t  }\r\n\t\t  return current;\r\n\t\t},\r\n\tcreateFile(parent, name, properties, canRead, canWrite) {\r\n\t\t  var path = PATH.join2(typeof parent == 'string' ? parent : FS.getPath(parent), name);\r\n\t\t  var mode = FS_getMode(canRead, canWrite);\r\n\t\t  return FS.create(path, mode);\r\n\t\t},\r\n\tcreateDataFile(parent, name, data, canRead, canWrite, canOwn) {\r\n\t\t  var path = name;\r\n\t\t  if (parent) {\r\n\t\t\tparent = typeof parent == 'string' ? parent : FS.getPath(parent);\r\n\t\t\tpath = name ? PATH.join2(parent, name) : parent;\r\n\t\t  }\r\n\t\t  var mode = FS_getMode(canRead, canWrite);\r\n\t\t  var node = FS.create(path, mode);\r\n\t\t  if (data) {\r\n\t\t\tif (typeof data == 'string') {\r\n\t\t\t  var arr = new Array(data.length);\r\n\t\t\t  for (var i = 0, len = data.length; i < len; ++i) arr[i] = data.charCodeAt(i);\r\n\t\t\t  data = arr;\r\n\t\t\t}\r\n\t\t\t// make sure we can write to the file\r\n\t\t\tFS.chmod(node, mode | 146);\r\n\t\t\tvar stream = FS.open(node, 577);\r\n\t\t\tFS.write(stream, data, 0, data.length, 0, canOwn);\r\n\t\t\tFS.close(stream);\r\n\t\t\tFS.chmod(node, mode);\r\n\t\t  }\r\n\t\t  return node;\r\n\t\t},\r\n\tcreateDevice(parent, name, input, output) {\r\n\t\t  var path = PATH.join2(typeof parent == 'string' ? parent : FS.getPath(parent), name);\r\n\t\t  var mode = FS_getMode(!!input, !!output);\r\n\t\t  if (!FS.createDevice.major) FS.createDevice.major = 64;\r\n\t\t  var dev = FS.makedev(FS.createDevice.major++, 0);\r\n\t\t  // Create a fake device that a set of stream ops to emulate\r\n\t\t  // the old behavior.\r\n\t\t  FS.registerDevice(dev, {\r\n\t\t\topen(stream) {\r\n\t\t\t  stream.seekable = false;\r\n\t\t\t},\r\n\t\t\tclose(stream) {\r\n\t\t\t  // flush any pending line data\r\n\t\t\t  if (output && output.buffer && output.buffer.length) {\r\n\t\t\t\toutput(10);\r\n\t\t\t  }\r\n\t\t\t},\r\n\t\t\tread(stream, buffer, offset, length, pos /* ignored */) {\r\n\t\t\t  var bytesRead = 0;\r\n\t\t\t  for (var i = 0; i < length; i++) {\r\n\t\t\t\tvar result;\r\n\t\t\t\ttry {\r\n\t\t\t\t  result = input();\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t  throw new FS.ErrnoError(29);\r\n\t\t\t\t}\r\n\t\t\t\tif (result === undefined && bytesRead === 0) {\r\n\t\t\t\t  throw new FS.ErrnoError(6);\r\n\t\t\t\t}\r\n\t\t\t\tif (result === null || result === undefined) break;\r\n\t\t\t\tbytesRead++;\r\n\t\t\t\tbuffer[offset+i] = result;\r\n\t\t\t  }\r\n\t\t\t  if (bytesRead) {\r\n\t\t\t\tstream.node.timestamp = Date.now();\r\n\t\t\t  }\r\n\t\t\t  return bytesRead;\r\n\t\t\t},\r\n\t\t\twrite(stream, buffer, offset, length, pos) {\r\n\t\t\t  for (var i = 0; i < length; i++) {\r\n\t\t\t\ttry {\r\n\t\t\t\t  output(buffer[offset+i]);\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t  throw new FS.ErrnoError(29);\r\n\t\t\t\t}\r\n\t\t\t  }\r\n\t\t\t  if (length) {\r\n\t\t\t\tstream.node.timestamp = Date.now();\r\n\t\t\t  }\r\n\t\t\t  return i;\r\n\t\t\t}\r\n\t\t  });\r\n\t\t  return FS.mkdev(path, mode, dev);\r\n\t\t},\r\n\tforceLoadFile(obj) {\r\n\t\t  if (obj.isDevice || obj.isFolder || obj.link || obj.contents) return true;\r\n\t\t  if (typeof XMLHttpRequest != 'undefined') {\r\n\t\t\tthrow new Error(\"Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.\");\r\n\t\t  } else if (read_) {\r\n\t\t\t// Command-line.\r\n\t\t\ttry {\r\n\t\t\t  // WARNING: Can't read binary files in V8's d8 or tracemonkey's js, as\r\n\t\t\t  //          read() will try to parse UTF8.\r\n\t\t\t  obj.contents = intArrayFromString(read_(obj.url), true);\r\n\t\t\t  obj.usedBytes = obj.contents.length;\r\n\t\t\t} catch (e) {\r\n\t\t\t  throw new FS.ErrnoError(29);\r\n\t\t\t}\r\n\t\t  } else {\r\n\t\t\tthrow new Error('Cannot load without read() or XMLHttpRequest.');\r\n\t\t  }\r\n\t\t},\r\n\tcreateLazyFile(parent, name, url, canRead, canWrite) {\r\n\t\t  // Lazy chunked Uint8Array (implements get and length from Uint8Array). Actual getting is abstracted away for eventual reuse.\r\n\t\t  /** @constructor */\r\n\t\t  function LazyUint8Array() {\r\n\t\t\tthis.lengthKnown = false;\r\n\t\t\tthis.chunks = []; // Loaded chunks. Index is the chunk number\r\n\t\t  }\r\n\t\t  LazyUint8Array.prototype.get = /** @this{Object} */ function LazyUint8Array_get(idx) {\r\n\t\t\tif (idx > this.length-1 || idx < 0) {\r\n\t\t\t  return undefined;\r\n\t\t\t}\r\n\t\t\tvar chunkOffset = idx % this.chunkSize;\r\n\t\t\tvar chunkNum = (idx / this.chunkSize)|0;\r\n\t\t\treturn this.getter(chunkNum)[chunkOffset];\r\n\t\t  };\r\n\t\t  LazyUint8Array.prototype.setDataGetter = function LazyUint8Array_setDataGetter(getter) {\r\n\t\t\tthis.getter = getter;\r\n\t\t  };\r\n\t\t  LazyUint8Array.prototype.cacheLength = function LazyUint8Array_cacheLength() {\r\n\t\t\t// Find length\r\n\t\t\tvar xhr = new XMLHttpRequest();\r\n\t\t\txhr.open('HEAD', url, false);\r\n\t\t\txhr.send(null);\r\n\t\t\tif (!(xhr.status >= 200 && xhr.status < 300 || xhr.status === 304)) throw new Error(\"Couldn't load \" + url + \". Status: \" + xhr.status);\r\n\t\t\tvar datalength = Number(xhr.getResponseHeader(\"Content-length\"));\r\n\t\t\tvar header;\r\n\t\t\tvar hasByteServing = (header = xhr.getResponseHeader(\"Accept-Ranges\")) && header === \"bytes\";\r\n\t\t\tvar usesGzip = (header = xhr.getResponseHeader(\"Content-Encoding\")) && header === \"gzip\";\r\n\r\n\t\t\tvar chunkSize = 1024*1024; // Chunk size in bytes\r\n\r\n\t\t\tif (!hasByteServing) chunkSize = datalength;\r\n\r\n\t\t\t// Function to get a range from the remote URL.\r\n\t\t\tvar doXHR = (from, to) => {\r\n\t\t\t  if (from > to) throw new Error(\"invalid range (\" + from + \", \" + to + \") or no bytes requested!\");\r\n\t\t\t  if (to > datalength-1) throw new Error(\"only \" + datalength + \" bytes available! programmer error!\");\r\n\r\n\t\t\t  // TODO: Use mozResponseArrayBuffer, responseStream, etc. if available.\r\n\t\t\t  var xhr = new XMLHttpRequest();\r\n\t\t\t  xhr.open('GET', url, false);\r\n\t\t\t  if (datalength !== chunkSize) xhr.setRequestHeader(\"Range\", \"bytes=\" + from + \"-\" + to);\r\n\r\n\t\t\t  // Some hints to the browser that we want binary data.\r\n\t\t\t  xhr.responseType = 'arraybuffer';\r\n\t\t\t  if (xhr.overrideMimeType) {\r\n\t\t\t\txhr.overrideMimeType('text/plain; charset=x-user-defined');\r\n\t\t\t  }\r\n\r\n\t\t\t  xhr.send(null);\r\n\t\t\t  if (!(xhr.status >= 200 && xhr.status < 300 || xhr.status === 304)) throw new Error(\"Couldn't load \" + url + \". Status: \" + xhr.status);\r\n\t\t\t  if (xhr.response !== undefined) {\r\n\t\t\t\treturn new Uint8Array(/** @type{Array<number>} */(xhr.response || []));\r\n\t\t\t  }\r\n\t\t\t  return intArrayFromString(xhr.responseText || '', true);\r\n\t\t\t};\r\n\t\t\tvar lazyArray = this;\r\n\t\t\tlazyArray.setDataGetter((chunkNum) => {\r\n\t\t\t  var start = chunkNum * chunkSize;\r\n\t\t\t  var end = (chunkNum+1) * chunkSize - 1; // including this byte\r\n\t\t\t  end = Math.min(end, datalength-1); // if datalength-1 is selected, this is the last block\r\n\t\t\t  if (typeof lazyArray.chunks[chunkNum] == 'undefined') {\r\n\t\t\t\tlazyArray.chunks[chunkNum] = doXHR(start, end);\r\n\t\t\t  }\r\n\t\t\t  if (typeof lazyArray.chunks[chunkNum] == 'undefined') throw new Error('doXHR failed!');\r\n\t\t\t  return lazyArray.chunks[chunkNum];\r\n\t\t\t});\r\n\r\n\t\t\tif (usesGzip || !datalength) {\r\n\t\t\t  // if the server uses gzip or doesn't supply the length, we have to download the whole file to get the (uncompressed) length\r\n\t\t\t  chunkSize = datalength = 1; // this will force getter(0)/doXHR do download the whole file\r\n\t\t\t  datalength = this.getter(0).length;\r\n\t\t\t  chunkSize = datalength;\r\n\t\t\t  out(\"LazyFiles on gzip forces download of the whole file when length is accessed\");\r\n\t\t\t}\r\n\r\n\t\t\tthis._length = datalength;\r\n\t\t\tthis._chunkSize = chunkSize;\r\n\t\t\tthis.lengthKnown = true;\r\n\t\t  };\r\n\t\t  if (typeof XMLHttpRequest != 'undefined') {\r\n\t\t\tif (!ENVIRONMENT_IS_WORKER) throw 'Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc';\r\n\t\t\tvar lazyArray = new LazyUint8Array();\r\n\t\t\tObject.defineProperties(lazyArray, {\r\n\t\t\t  length: {\r\n\t\t\t\tget: /** @this{Object} */ function() {\r\n\t\t\t\t  if (!this.lengthKnown) {\r\n\t\t\t\t\tthis.cacheLength();\r\n\t\t\t\t  }\r\n\t\t\t\t  return this._length;\r\n\t\t\t\t}\r\n\t\t\t  },\r\n\t\t\t  chunkSize: {\r\n\t\t\t\tget: /** @this{Object} */ function() {\r\n\t\t\t\t  if (!this.lengthKnown) {\r\n\t\t\t\t\tthis.cacheLength();\r\n\t\t\t\t  }\r\n\t\t\t\t  return this._chunkSize;\r\n\t\t\t\t}\r\n\t\t\t  }\r\n\t\t\t});\r\n\r\n\t\t\tvar properties = { isDevice: false, contents: lazyArray };\r\n\t\t  } else {\r\n\t\t\tvar properties = { isDevice: false, url: url };\r\n\t\t  }\r\n\r\n\t\t  var node = FS.createFile(parent, name, properties, canRead, canWrite);\r\n\t\t  // This is a total hack, but I want to get this lazy file code out of the\r\n\t\t  // core of MEMFS. If we want to keep this lazy file concept I feel it should\r\n\t\t  // be its own thin LAZYFS proxying calls to MEMFS.\r\n\t\t  if (properties.contents) {\r\n\t\t\tnode.contents = properties.contents;\r\n\t\t  } else if (properties.url) {\r\n\t\t\tnode.contents = null;\r\n\t\t\tnode.url = properties.url;\r\n\t\t  }\r\n\t\t  // Add a function that defers querying the file size until it is asked the first time.\r\n\t\t  Object.defineProperties(node, {\r\n\t\t\tusedBytes: {\r\n\t\t\t  get: /** @this {FSNode} */ function() { return this.contents.length; }\r\n\t\t\t}\r\n\t\t  });\r\n\t\t  // override each stream op with one that tries to force load the lazy file first\r\n\t\t  var stream_ops = {};\r\n\t\t  var keys = Object.keys(node.stream_ops);\r\n\t\t  keys.forEach((key) => {\r\n\t\t\tvar fn = node.stream_ops[key];\r\n\t\t\tstream_ops[key] = function forceLoadLazyFile() {\r\n\t\t\t  FS.forceLoadFile(node);\r\n\t\t\t  return fn.apply(null, arguments);\r\n\t\t\t};\r\n\t\t  });\r\n\t\t  function writeChunks(stream, buffer, offset, length, position) {\r\n\t\t\tvar contents = stream.node.contents;\r\n\t\t\tif (position >= contents.length)\r\n\t\t\t  return 0;\r\n\t\t\tvar size = Math.min(contents.length - position, length);\r\n\t\t\tassert(size >= 0);\r\n\t\t\tif (contents.slice) { // normal array\r\n\t\t\t  for (var i = 0; i < size; i++) {\r\n\t\t\t\tbuffer[offset + i] = contents[position + i];\r\n\t\t\t  }\r\n\t\t\t} else {\r\n\t\t\t  for (var i = 0; i < size; i++) { // LazyUint8Array from sync binary XHR\r\n\t\t\t\tbuffer[offset + i] = contents.get(position + i);\r\n\t\t\t  }\r\n\t\t\t}\r\n\t\t\treturn size;\r\n\t\t  }\r\n\t\t  // use a custom read function\r\n\t\t  stream_ops.read = (stream, buffer, offset, length, position) => {\r\n\t\t\tFS.forceLoadFile(node);\r\n\t\t\treturn writeChunks(stream, buffer, offset, length, position)\r\n\t\t  };\r\n\t\t  // use a custom mmap function\r\n\t\t  stream_ops.mmap = (stream, length, position, prot, flags) => {\r\n\t\t\tFS.forceLoadFile(node);\r\n\t\t\tvar ptr = mmapAlloc();\r\n\t\t\tif (!ptr) {\r\n\t\t\t  throw new FS.ErrnoError(48);\r\n\t\t\t}\r\n\t\t\twriteChunks(stream, HEAP8, ptr, length, position);\r\n\t\t\treturn { ptr, allocated: true };\r\n\t\t  };\r\n\t\t  node.stream_ops = stream_ops;\r\n\t\t  return node;\r\n\t\t},\r\n\tabsolutePath() {\r\n\t\t  abort('FS.absolutePath has been removed; use PATH_FS.resolve instead');\r\n\t\t},\r\n\tcreateFolder() {\r\n\t\t  abort('FS.createFolder has been removed; use FS.mkdir instead');\r\n\t\t},\r\n\tcreateLink() {\r\n\t\t  abort('FS.createLink has been removed; use FS.symlink instead');\r\n\t\t},\r\n\tjoinPath() {\r\n\t\t  abort('FS.joinPath has been removed; use PATH.join instead');\r\n\t\t},\r\n\tmmapAlloc() {\r\n\t\t  abort('FS.mmapAlloc has been replaced by the top level function mmapAlloc');\r\n\t\t},\r\n\tstandardizePath() {\r\n\t\t  abort('FS.standardizePath has been removed; use PATH.normalize instead');\r\n\t\t},\r\n\t};\r\n\r\n\tvar SYSCALLS = {\r\n\tDEFAULT_POLLMASK:5,\r\n\tcalculateAt(dirfd, path, allowEmpty) {\r\n\t\t  if (PATH.isAbs(path)) {\r\n\t\t\treturn path;\r\n\t\t  }\r\n\t\t  // relative path\r\n\t\t  var dir;\r\n\t\t  if (dirfd === -100) {\r\n\t\t\tdir = FS.cwd();\r\n\t\t  } else {\r\n\t\t\tvar dirstream = SYSCALLS.getStreamFromFD(dirfd);\r\n\t\t\tdir = dirstream.path;\r\n\t\t  }\r\n\t\t  if (path.length == 0) {\r\n\t\t\tif (!allowEmpty) {\r\n\t\t\t  throw new FS.ErrnoError(44);          }\r\n\t\t\treturn dir;\r\n\t\t  }\r\n\t\t  return PATH.join2(dir, path);\r\n\t\t},\r\n\tdoStat(func, path, buf) {\r\n\t\t  try {\r\n\t\t\tvar stat = func(path);\r\n\t\t  } catch (e) {\r\n\t\t\tif (e && e.node && PATH.normalize(path) !== PATH.normalize(FS.getPath(e.node))) {\r\n\t\t\t  // an error occurred while trying to look up the path; we should just report ENOTDIR\r\n\t\t\t  return -54;\r\n\t\t\t}\r\n\t\t\tthrow e;\r\n\t\t  }\r\n\t\t  HEAP32[((buf)>>2)] = stat.dev;\r\n\t\t  HEAP32[(((buf)+(4))>>2)] = stat.mode;\r\n\t\t  HEAPU32[(((buf)+(8))>>2)] = stat.nlink;\r\n\t\t  HEAP32[(((buf)+(12))>>2)] = stat.uid;\r\n\t\t  HEAP32[(((buf)+(16))>>2)] = stat.gid;\r\n\t\t  HEAP32[(((buf)+(20))>>2)] = stat.rdev;\r\n\t\t  (tempI64 = [stat.size>>>0,(tempDouble=stat.size,(+(Math.abs(tempDouble))) >= 1.0 ? (tempDouble > 0.0 ? (+(Math.floor((tempDouble)/4294967296.0)))>>>0 : (~~((+(Math.ceil((tempDouble - +(((~~(tempDouble)))>>>0))/4294967296.0)))))>>>0) : 0)], HEAP32[(((buf)+(24))>>2)] = tempI64[0],HEAP32[(((buf)+(28))>>2)] = tempI64[1]);\r\n\t\t  HEAP32[(((buf)+(32))>>2)] = 4096;\r\n\t\t  HEAP32[(((buf)+(36))>>2)] = stat.blocks;\r\n\t\t  var atime = stat.atime.getTime();\r\n\t\t  var mtime = stat.mtime.getTime();\r\n\t\t  var ctime = stat.ctime.getTime();\r\n\t\t  (tempI64 = [Math.floor(atime / 1000)>>>0,(tempDouble=Math.floor(atime / 1000),(+(Math.abs(tempDouble))) >= 1.0 ? (tempDouble > 0.0 ? (+(Math.floor((tempDouble)/4294967296.0)))>>>0 : (~~((+(Math.ceil((tempDouble - +(((~~(tempDouble)))>>>0))/4294967296.0)))))>>>0) : 0)], HEAP32[(((buf)+(40))>>2)] = tempI64[0],HEAP32[(((buf)+(44))>>2)] = tempI64[1]);\r\n\t\t  HEAPU32[(((buf)+(48))>>2)] = (atime % 1000) * 1000;\r\n\t\t  (tempI64 = [Math.floor(mtime / 1000)>>>0,(tempDouble=Math.floor(mtime / 1000),(+(Math.abs(tempDouble))) >= 1.0 ? (tempDouble > 0.0 ? (+(Math.floor((tempDouble)/4294967296.0)))>>>0 : (~~((+(Math.ceil((tempDouble - +(((~~(tempDouble)))>>>0))/4294967296.0)))))>>>0) : 0)], HEAP32[(((buf)+(56))>>2)] = tempI64[0],HEAP32[(((buf)+(60))>>2)] = tempI64[1]);\r\n\t\t  HEAPU32[(((buf)+(64))>>2)] = (mtime % 1000) * 1000;\r\n\t\t  (tempI64 = [Math.floor(ctime / 1000)>>>0,(tempDouble=Math.floor(ctime / 1000),(+(Math.abs(tempDouble))) >= 1.0 ? (tempDouble > 0.0 ? (+(Math.floor((tempDouble)/4294967296.0)))>>>0 : (~~((+(Math.ceil((tempDouble - +(((~~(tempDouble)))>>>0))/4294967296.0)))))>>>0) : 0)], HEAP32[(((buf)+(72))>>2)] = tempI64[0],HEAP32[(((buf)+(76))>>2)] = tempI64[1]);\r\n\t\t  HEAPU32[(((buf)+(80))>>2)] = (ctime % 1000) * 1000;\r\n\t\t  (tempI64 = [stat.ino>>>0,(tempDouble=stat.ino,(+(Math.abs(tempDouble))) >= 1.0 ? (tempDouble > 0.0 ? (+(Math.floor((tempDouble)/4294967296.0)))>>>0 : (~~((+(Math.ceil((tempDouble - +(((~~(tempDouble)))>>>0))/4294967296.0)))))>>>0) : 0)], HEAP32[(((buf)+(88))>>2)] = tempI64[0],HEAP32[(((buf)+(92))>>2)] = tempI64[1]);\r\n\t\t  return 0;\r\n\t\t},\r\n\tdoMsync(addr, stream, len, flags, offset) {\r\n\t\t  if (!FS.isFile(stream.node.mode)) {\r\n\t\t\tthrow new FS.ErrnoError(43);\r\n\t\t  }\r\n\t\t  if (flags & 2) {\r\n\t\t\t// MAP_PRIVATE calls need not to be synced back to underlying fs\r\n\t\t\treturn 0;\r\n\t\t  }\r\n\t\t  var buffer = HEAPU8.slice(addr, addr + len);\r\n\t\t  FS.msync(stream, buffer, offset, len, flags);\r\n\t\t},\r\n\tvarargs:undefined,\r\n\tget() {\r\n\t\t  assert(SYSCALLS.varargs != undefined);\r\n\t\t  // the `+` prepended here is necessary to convince the JSCompiler that varargs is indeed a number.\r\n\t\t  var ret = HEAP32[((+SYSCALLS.varargs)>>2)];\r\n\t\t  SYSCALLS.varargs += 4;\r\n\t\t  return ret;\r\n\t\t},\r\n\tgetp() { return SYSCALLS.get() },\r\n\tgetStr(ptr) {\r\n\t\t  var ret = UTF8ToString(ptr);\r\n\t\t  return ret;\r\n\t\t},\r\n\tgetStreamFromFD(fd) {\r\n\t\t  var stream = FS.getStreamChecked(fd);\r\n\t\t  return stream;\r\n\t\t},\r\n\t};\r\n\tvar _environ_get = (__environ, environ_buf) => {\r\n\t\tvar bufSize = 0;\r\n\t\tgetEnvStrings().forEach((string, i) => {\r\n\t\t  var ptr = environ_buf + bufSize;\r\n\t\t  HEAPU32[(((__environ)+(i*4))>>2)] = ptr;\r\n\t\t  stringToAscii(string, ptr);\r\n\t\t  bufSize += string.length + 1;\r\n\t\t});\r\n\t\treturn 0;\r\n\t  };\r\n\r\n\r\n\tvar _environ_sizes_get = (penviron_count, penviron_buf_size) => {\r\n\t\tvar strings = getEnvStrings();\r\n\t\tHEAPU32[((penviron_count)>>2)] = strings.length;\r\n\t\tvar bufSize = 0;\r\n\t\tstrings.forEach((string) => bufSize += string.length + 1);\r\n\t\tHEAPU32[((penviron_buf_size)>>2)] = bufSize;\r\n\t\treturn 0;\r\n\t  };\r\n\r\n\r\n\tvar runtimeKeepaliveCounter = 0;\r\n\tvar keepRuntimeAlive = () => noExitRuntime || runtimeKeepaliveCounter > 0;\r\n\r\n\tvar _proc_exit = (code) => {\r\n\t\tEXITSTATUS = code;\r\n\t\tif (!keepRuntimeAlive()) {\r\n\t\t  if (Module['onExit']) Module['onExit'](code);\r\n\t\t  ABORT = true;\r\n\t\t}\r\n\t\tquit_(code, new ExitStatus(code));\r\n\t  };\r\n\r\n\t/** @suppress {duplicate } */\r\n\t/** @param {boolean|number=} implicit */\r\n\tvar exitJS = (status, implicit) => {\r\n\t\tEXITSTATUS = status;\r\n\r\n\t\tcheckUnflushedContent();\r\n\r\n\t\t// if exit() was called explicitly, warn the user if the runtime isn't actually being shut down\r\n\t\tif (keepRuntimeAlive() && !implicit) {\r\n\t\t  var msg = `program exited (with status: ${status}), but keepRuntimeAlive() is set (counter=${runtimeKeepaliveCounter}) due to an async operation, so halting execution but not exiting the runtime or preventing further async execution (you can use emscripten_force_exit, if you want to force a true shutdown)`;\r\n\t\t  readyPromiseReject(msg);\r\n\t\t  err(msg);\r\n\t\t}\r\n\r\n\t\t_proc_exit(status);\r\n\t  };\r\n\tvar _exit = exitJS;\r\n\r\n\tfunction _fd_close(fd) {\r\n\ttry {\r\n\r\n\t\tvar stream = SYSCALLS.getStreamFromFD(fd);\r\n\t\tFS.close(stream);\r\n\t\treturn 0;\r\n\t  } catch (e) {\r\n\t  if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\r\n\t  return e.errno;\r\n\t}\r\n\t}\r\n\r\n\t/** @param {number=} offset */\r\n\tvar doReadv = (stream, iov, iovcnt, offset) => {\r\n\t\tvar ret = 0;\r\n\t\tfor (var i = 0; i < iovcnt; i++) {\r\n\t\t  var ptr = HEAPU32[((iov)>>2)];\r\n\t\t  var len = HEAPU32[(((iov)+(4))>>2)];\r\n\t\t  iov += 8;\r\n\t\t  var curr = FS.read(stream, HEAP8, ptr, len, offset);\r\n\t\t  if (curr < 0) return -1;\r\n\t\t  ret += curr;\r\n\t\t  if (curr < len) break; // nothing more to read\r\n\t\t  if (typeof offset !== 'undefined') {\r\n\t\t\toffset += curr;\r\n\t\t  }\r\n\t\t}\r\n\t\treturn ret;\r\n\t  };\r\n\r\n\tfunction _fd_read(fd, iov, iovcnt, pnum) {\r\n\ttry {\r\n\r\n\t\tvar stream = SYSCALLS.getStreamFromFD(fd);\r\n\t\tvar num = doReadv(stream, iov, iovcnt);\r\n\t\tHEAPU32[((pnum)>>2)] = num;\r\n\t\treturn 0;\r\n\t  } catch (e) {\r\n\t  if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\r\n\t  return e.errno;\r\n\t}\r\n\t}\r\n\r\n\r\n\tvar convertI32PairToI53Checked = (lo, hi) => {\r\n\t\tassert(lo == (lo >>> 0) || lo == (lo|0)); // lo should either be a i32 or a u32\r\n\t\tassert(hi === (hi|0));                    // hi should be a i32\r\n\t\treturn ((hi + 0x200000) >>> 0 < 0x400001 - !!lo) ? (lo >>> 0) + hi * 4294967296 : NaN;\r\n\t  };\r\n\tfunction _fd_seek(fd,offset_low, offset_high,whence,newOffset) {\r\n\t  var offset = convertI32PairToI53Checked(offset_low, offset_high);\r\n\r\n\ttry {\r\n\r\n\t\tif (isNaN(offset)) return 61;\r\n\t\tvar stream = SYSCALLS.getStreamFromFD(fd);\r\n\t\tFS.llseek(stream, offset, whence);\r\n\t\t(tempI64 = [stream.position>>>0,(tempDouble=stream.position,(+(Math.abs(tempDouble))) >= 1.0 ? (tempDouble > 0.0 ? (+(Math.floor((tempDouble)/4294967296.0)))>>>0 : (~~((+(Math.ceil((tempDouble - +(((~~(tempDouble)))>>>0))/4294967296.0)))))>>>0) : 0)], HEAP32[((newOffset)>>2)] = tempI64[0],HEAP32[(((newOffset)+(4))>>2)] = tempI64[1]);\r\n\t\tif (stream.getdents && offset === 0 && whence === 0) stream.getdents = null; // reset readdir state\r\n\t\treturn 0;\r\n\t  } catch (e) {\r\n\t  if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\r\n\t  return e.errno;\r\n\t}\r\n\t}\r\n\r\n\t/** @param {number=} offset */\r\n\tvar doWritev = (stream, iov, iovcnt, offset) => {\r\n\t\tvar ret = 0;\r\n\t\tfor (var i = 0; i < iovcnt; i++) {\r\n\t\t  var ptr = HEAPU32[((iov)>>2)];\r\n\t\t  var len = HEAPU32[(((iov)+(4))>>2)];\r\n\t\t  iov += 8;\r\n\t\t  var curr = FS.write(stream, HEAP8, ptr, len, offset);\r\n\t\t  if (curr < 0) return -1;\r\n\t\t  ret += curr;\r\n\t\t  if (typeof offset !== 'undefined') {\r\n\t\t\toffset += curr;\r\n\t\t  }\r\n\t\t}\r\n\t\treturn ret;\r\n\t  };\r\n\r\n\tfunction _fd_write(fd, iov, iovcnt, pnum) {\r\n\ttry {\r\n\r\n\t\tvar stream = SYSCALLS.getStreamFromFD(fd);\r\n\t\tvar num = doWritev(stream, iov, iovcnt);\r\n\t\tHEAPU32[((pnum)>>2)] = num;\r\n\t\treturn 0;\r\n\t  } catch (e) {\r\n\t  if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\r\n\t  return e.errno;\r\n\t}\r\n\t}\r\n\r\n\tvar isLeapYear = (year) => {\r\n\t\t  return year%4 === 0 && (year%100 !== 0 || year%400 === 0);\r\n\t  };\r\n\r\n\tvar arraySum = (array, index) => {\r\n\t\tvar sum = 0;\r\n\t\tfor (var i = 0; i <= index; sum += array[i++]) {\r\n\t\t  // no-op\r\n\t\t}\r\n\t\treturn sum;\r\n\t  };\r\n\r\n\r\n\tvar MONTH_DAYS_LEAP = [31,29,31,30,31,30,31,31,30,31,30,31];\r\n\r\n\tvar MONTH_DAYS_REGULAR = [31,28,31,30,31,30,31,31,30,31,30,31];\r\n\tvar addDays = (date, days) => {\r\n\t\tvar newDate = new Date(date.getTime());\r\n\t\twhile (days > 0) {\r\n\t\t  var leap = isLeapYear(newDate.getFullYear());\r\n\t\t  var currentMonth = newDate.getMonth();\r\n\t\t  var daysInCurrentMonth = (leap ? MONTH_DAYS_LEAP : MONTH_DAYS_REGULAR)[currentMonth];\r\n\r\n\t\t  if (days > daysInCurrentMonth-newDate.getDate()) {\r\n\t\t\t// we spill over to next month\r\n\t\t\tdays -= (daysInCurrentMonth-newDate.getDate()+1);\r\n\t\t\tnewDate.setDate(1);\r\n\t\t\tif (currentMonth < 11) {\r\n\t\t\t  newDate.setMonth(currentMonth+1);\r\n\t\t\t} else {\r\n\t\t\t  newDate.setMonth(0);\r\n\t\t\t  newDate.setFullYear(newDate.getFullYear()+1);\r\n\t\t\t}\r\n\t\t  } else {\r\n\t\t\t// we stay in current month\r\n\t\t\tnewDate.setDate(newDate.getDate()+days);\r\n\t\t\treturn newDate;\r\n\t\t  }\r\n\t\t}\r\n\r\n\t\treturn newDate;\r\n\t  };\r\n\r\n\r\n\r\n\r\n\tvar writeArrayToMemory = (array, buffer) => {\r\n\t\tassert(array.length >= 0, 'writeArrayToMemory array must have a length (should be an array or typed array)');\r\n\t\tHEAP8.set(array, buffer);\r\n\t  };\r\n\r\n\tvar _strftime = (s, maxsize, format, tm) => {\r\n\t\t// size_t strftime(char *restrict s, size_t maxsize, const char *restrict format, const struct tm *restrict timeptr);\r\n\t\t// http://pubs.opengroup.org/onlinepubs/009695399/functions/strftime.html\r\n\r\n\t\tvar tm_zone = HEAPU32[(((tm)+(40))>>2)];\r\n\r\n\t\tvar date = {\r\n\t\t  tm_sec: HEAP32[((tm)>>2)],\r\n\t\t  tm_min: HEAP32[(((tm)+(4))>>2)],\r\n\t\t  tm_hour: HEAP32[(((tm)+(8))>>2)],\r\n\t\t  tm_mday: HEAP32[(((tm)+(12))>>2)],\r\n\t\t  tm_mon: HEAP32[(((tm)+(16))>>2)],\r\n\t\t  tm_year: HEAP32[(((tm)+(20))>>2)],\r\n\t\t  tm_wday: HEAP32[(((tm)+(24))>>2)],\r\n\t\t  tm_yday: HEAP32[(((tm)+(28))>>2)],\r\n\t\t  tm_isdst: HEAP32[(((tm)+(32))>>2)],\r\n\t\t  tm_gmtoff: HEAP32[(((tm)+(36))>>2)],\r\n\t\t  tm_zone: tm_zone ? UTF8ToString(tm_zone) : ''\r\n\t\t};\r\n\r\n\t\tvar pattern = UTF8ToString(format);\r\n\r\n\t\t// expand format\r\n\t\tvar EXPANSION_RULES_1 = {\r\n\t\t  '%c': '%a %b %d %H:%M:%S %Y',     // Replaced by the locale's appropriate date and time representation - e.g., Mon Aug  3 14:02:01 2013\r\n\t\t  '%D': '%m/%d/%y',                 // Equivalent to %m / %d / %y\r\n\t\t  '%F': '%Y-%m-%d',                 // Equivalent to %Y - %m - %d\r\n\t\t  '%h': '%b',                       // Equivalent to %b\r\n\t\t  '%r': '%I:%M:%S %p',              // Replaced by the time in a.m. and p.m. notation\r\n\t\t  '%R': '%H:%M',                    // Replaced by the time in 24-hour notation\r\n\t\t  '%T': '%H:%M:%S',                 // Replaced by the time\r\n\t\t  '%x': '%m/%d/%y',                 // Replaced by the locale's appropriate date representation\r\n\t\t  '%X': '%H:%M:%S',                 // Replaced by the locale's appropriate time representation\r\n\t\t  // Modified Conversion Specifiers\r\n\t\t  '%Ec': '%c',                      // Replaced by the locale's alternative appropriate date and time representation.\r\n\t\t  '%EC': '%C',                      // Replaced by the name of the base year (period) in the locale's alternative representation.\r\n\t\t  '%Ex': '%m/%d/%y',                // Replaced by the locale's alternative date representation.\r\n\t\t  '%EX': '%H:%M:%S',                // Replaced by the locale's alternative time representation.\r\n\t\t  '%Ey': '%y',                      // Replaced by the offset from %EC (year only) in the locale's alternative representation.\r\n\t\t  '%EY': '%Y',                      // Replaced by the full alternative year representation.\r\n\t\t  '%Od': '%d',                      // Replaced by the day of the month, using the locale's alternative numeric symbols, filled as needed with leading zeros if there is any alternative symbol for zero; otherwise, with leading <space> characters.\r\n\t\t  '%Oe': '%e',                      // Replaced by the day of the month, using the locale's alternative numeric symbols, filled as needed with leading <space> characters.\r\n\t\t  '%OH': '%H',                      // Replaced by the hour (24-hour clock) using the locale's alternative numeric symbols.\r\n\t\t  '%OI': '%I',                      // Replaced by the hour (12-hour clock) using the locale's alternative numeric symbols.\r\n\t\t  '%Om': '%m',                      // Replaced by the month using the locale's alternative numeric symbols.\r\n\t\t  '%OM': '%M',                      // Replaced by the minutes using the locale's alternative numeric symbols.\r\n\t\t  '%OS': '%S',                      // Replaced by the seconds using the locale's alternative numeric symbols.\r\n\t\t  '%Ou': '%u',                      // Replaced by the weekday as a number in the locale's alternative representation (Monday=1).\r\n\t\t  '%OU': '%U',                      // Replaced by the week number of the year (Sunday as the first day of the week, rules corresponding to %U ) using the locale's alternative numeric symbols.\r\n\t\t  '%OV': '%V',                      // Replaced by the week number of the year (Monday as the first day of the week, rules corresponding to %V ) using the locale's alternative numeric symbols.\r\n\t\t  '%Ow': '%w',                      // Replaced by the number of the weekday (Sunday=0) using the locale's alternative numeric symbols.\r\n\t\t  '%OW': '%W',                      // Replaced by the week number of the year (Monday as the first day of the week) using the locale's alternative numeric symbols.\r\n\t\t  '%Oy': '%y',                      // Replaced by the year (offset from %C ) using the locale's alternative numeric symbols.\r\n\t\t};\r\n\t\tfor (var rule in EXPANSION_RULES_1) {\r\n\t\t  pattern = pattern.replace(new RegExp(rule, 'g'), EXPANSION_RULES_1[rule]);\r\n\t\t}\r\n\r\n\t\tvar WEEKDAYS = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\n\t\tvar MONTHS = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\r\n\r\n\t\tfunction leadingSomething(value, digits, character) {\r\n\t\t  var str = typeof value == 'number' ? value.toString() : (value || '');\r\n\t\t  while (str.length < digits) {\r\n\t\t\tstr = character[0]+str;\r\n\t\t  }\r\n\t\t  return str;\r\n\t\t}\r\n\r\n\t\tfunction leadingNulls(value, digits) {\r\n\t\t  return leadingSomething(value, digits, '0');\r\n\t\t}\r\n\r\n\t\tfunction compareByDay(date1, date2) {\r\n\t\t  function sgn(value) {\r\n\t\t\treturn value < 0 ? -1 : (value > 0 ? 1 : 0);\r\n\t\t  }\r\n\r\n\t\t  var compare;\r\n\t\t  if ((compare = sgn(date1.getFullYear()-date2.getFullYear())) === 0) {\r\n\t\t\tif ((compare = sgn(date1.getMonth()-date2.getMonth())) === 0) {\r\n\t\t\t  compare = sgn(date1.getDate()-date2.getDate());\r\n\t\t\t}\r\n\t\t  }\r\n\t\t  return compare;\r\n\t\t}\r\n\r\n\t\tfunction getFirstWeekStartDate(janFourth) {\r\n\t\t\tswitch (janFourth.getDay()) {\r\n\t\t\t  case 0: // Sunday\r\n\t\t\t\treturn new Date(janFourth.getFullYear()-1, 11, 29);\r\n\t\t\t  case 1: // Monday\r\n\t\t\t\treturn janFourth;\r\n\t\t\t  case 2: // Tuesday\r\n\t\t\t\treturn new Date(janFourth.getFullYear(), 0, 3);\r\n\t\t\t  case 3: // Wednesday\r\n\t\t\t\treturn new Date(janFourth.getFullYear(), 0, 2);\r\n\t\t\t  case 4: // Thursday\r\n\t\t\t\treturn new Date(janFourth.getFullYear(), 0, 1);\r\n\t\t\t  case 5: // Friday\r\n\t\t\t\treturn new Date(janFourth.getFullYear()-1, 11, 31);\r\n\t\t\t  case 6: // Saturday\r\n\t\t\t\treturn new Date(janFourth.getFullYear()-1, 11, 30);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction getWeekBasedYear(date) {\r\n\t\t\tvar thisDate = addDays(new Date(date.tm_year+1900, 0, 1), date.tm_yday);\r\n\r\n\t\t\tvar janFourthThisYear = new Date(thisDate.getFullYear(), 0, 4);\r\n\t\t\tvar janFourthNextYear = new Date(thisDate.getFullYear()+1, 0, 4);\r\n\r\n\t\t\tvar firstWeekStartThisYear = getFirstWeekStartDate(janFourthThisYear);\r\n\t\t\tvar firstWeekStartNextYear = getFirstWeekStartDate(janFourthNextYear);\r\n\r\n\t\t\tif (compareByDay(firstWeekStartThisYear, thisDate) <= 0) {\r\n\t\t\t  // this date is after the start of the first week of this year\r\n\t\t\t  if (compareByDay(firstWeekStartNextYear, thisDate) <= 0) {\r\n\t\t\t\treturn thisDate.getFullYear()+1;\r\n\t\t\t  }\r\n\t\t\t  return thisDate.getFullYear();\r\n\t\t\t}\r\n\t\t\treturn thisDate.getFullYear()-1;\r\n\t\t}\r\n\r\n\t\tvar EXPANSION_RULES_2 = {\r\n\t\t  '%a': (date) => WEEKDAYS[date.tm_wday].substring(0,3) ,\r\n\t\t  '%A': (date) => WEEKDAYS[date.tm_wday],\r\n\t\t  '%b': (date) => MONTHS[date.tm_mon].substring(0,3),\r\n\t\t  '%B': (date) => MONTHS[date.tm_mon],\r\n\t\t  '%C': (date) => {\r\n\t\t\tvar year = date.tm_year+1900;\r\n\t\t\treturn leadingNulls((year/100)|0,2);\r\n\t\t  },\r\n\t\t  '%d': (date) => leadingNulls(date.tm_mday, 2),\r\n\t\t  '%e': (date) => leadingSomething(date.tm_mday, 2, ' '),\r\n\t\t  '%g': (date) => {\r\n\t\t\t// %g, %G, and %V give values according to the ISO 8601:2000 standard week-based year.\r\n\t\t\t// In this system, weeks begin on a Monday and week 1 of the year is the week that includes\r\n\t\t\t// January 4th, which is also the week that includes the first Thursday of the year, and\r\n\t\t\t// is also the first week that contains at least four days in the year.\r\n\t\t\t// If the first Monday of January is the 2nd, 3rd, or 4th, the preceding days are part of\r\n\t\t\t// the last week of the preceding year; thus, for Saturday 2nd January 1999,\r\n\t\t\t// %G is replaced by 1998 and %V is replaced by 53. If December 29th, 30th,\r\n\t\t\t// or 31st is a Monday, it and any following days are part of week 1 of the following year.\r\n\t\t\t// Thus, for Tuesday 30th December 1997, %G is replaced by 1998 and %V is replaced by 01.\r\n\r\n\t\t\treturn getWeekBasedYear(date).toString().substring(2);\r\n\t\t  },\r\n\t\t  '%G': (date) => getWeekBasedYear(date),\r\n\t\t  '%H': (date) => leadingNulls(date.tm_hour, 2),\r\n\t\t  '%I': (date) => {\r\n\t\t\tvar twelveHour = date.tm_hour;\r\n\t\t\tif (twelveHour == 0) twelveHour = 12;\r\n\t\t\telse if (twelveHour > 12) twelveHour -= 12;\r\n\t\t\treturn leadingNulls(twelveHour, 2);\r\n\t\t  },\r\n\t\t  '%j': (date) => {\r\n\t\t\t// Day of the year (001-366)\r\n\t\t\treturn leadingNulls(date.tm_mday + arraySum(isLeapYear(date.tm_year+1900) ? MONTH_DAYS_LEAP : MONTH_DAYS_REGULAR, date.tm_mon-1), 3);\r\n\t\t  },\r\n\t\t  '%m': (date) => leadingNulls(date.tm_mon+1, 2),\r\n\t\t  '%M': (date) => leadingNulls(date.tm_min, 2),\r\n\t\t  '%n': () => '\\n',\r\n\t\t  '%p': (date) => {\r\n\t\t\tif (date.tm_hour >= 0 && date.tm_hour < 12) {\r\n\t\t\t  return 'AM';\r\n\t\t\t}\r\n\t\t\treturn 'PM';\r\n\t\t  },\r\n\t\t  '%S': (date) => leadingNulls(date.tm_sec, 2),\r\n\t\t  '%t': () => '\\t',\r\n\t\t  '%u': (date) => date.tm_wday || 7,\r\n\t\t  '%U': (date) => {\r\n\t\t\tvar days = date.tm_yday + 7 - date.tm_wday;\r\n\t\t\treturn leadingNulls(Math.floor(days / 7), 2);\r\n\t\t  },\r\n\t\t  '%V': (date) => {\r\n\t\t\t// Replaced by the week number of the year (Monday as the first day of the week)\r\n\t\t\t// as a decimal number [01,53]. If the week containing 1 January has four\r\n\t\t\t// or more days in the new year, then it is considered week 1.\r\n\t\t\t// Otherwise, it is the last week of the previous year, and the next week is week 1.\r\n\t\t\t// Both January 4th and the first Thursday of January are always in week 1. [ tm_year, tm_wday, tm_yday]\r\n\t\t\tvar val = Math.floor((date.tm_yday + 7 - (date.tm_wday + 6) % 7 ) / 7);\r\n\t\t\t// If 1 Jan is just 1-3 days past Monday, the previous week\r\n\t\t\t// is also in this year.\r\n\t\t\tif ((date.tm_wday + 371 - date.tm_yday - 2) % 7 <= 2) {\r\n\t\t\t  val++;\r\n\t\t\t}\r\n\t\t\tif (!val) {\r\n\t\t\t  val = 52;\r\n\t\t\t  // If 31 December of prev year a Thursday, or Friday of a\r\n\t\t\t  // leap year, then the prev year has 53 weeks.\r\n\t\t\t  var dec31 = (date.tm_wday + 7 - date.tm_yday - 1) % 7;\r\n\t\t\t  if (dec31 == 4 || (dec31 == 5 && isLeapYear(date.tm_year%400-1))) {\r\n\t\t\t\tval++;\r\n\t\t\t  }\r\n\t\t\t} else if (val == 53) {\r\n\t\t\t  // If 1 January is not a Thursday, and not a Wednesday of a\r\n\t\t\t  // leap year, then this year has only 52 weeks.\r\n\t\t\t  var jan1 = (date.tm_wday + 371 - date.tm_yday) % 7;\r\n\t\t\t  if (jan1 != 4 && (jan1 != 3 || !isLeapYear(date.tm_year)))\r\n\t\t\t\tval = 1;\r\n\t\t\t}\r\n\t\t\treturn leadingNulls(val, 2);\r\n\t\t  },\r\n\t\t  '%w': (date) => date.tm_wday,\r\n\t\t  '%W': (date) => {\r\n\t\t\tvar days = date.tm_yday + 7 - ((date.tm_wday + 6) % 7);\r\n\t\t\treturn leadingNulls(Math.floor(days / 7), 2);\r\n\t\t  },\r\n\t\t  '%y': (date) => {\r\n\t\t\t// Replaced by the last two digits of the year as a decimal number [00,99]. [ tm_year]\r\n\t\t\treturn (date.tm_year+1900).toString().substring(2);\r\n\t\t  },\r\n\t\t  // Replaced by the year as a decimal number (for example, 1997). [ tm_year]\r\n\t\t  '%Y': (date) => date.tm_year+1900,\r\n\t\t  '%z': (date) => {\r\n\t\t\t// Replaced by the offset from UTC in the ISO 8601:2000 standard format ( +hhmm or -hhmm ).\r\n\t\t\t// For example, \"-0430\" means 4 hours 30 minutes behind UTC (west of Greenwich).\r\n\t\t\tvar off = date.tm_gmtoff;\r\n\t\t\tvar ahead = off >= 0;\r\n\t\t\toff = Math.abs(off) / 60;\r\n\t\t\t// convert from minutes into hhmm format (which means 60 minutes = 100 units)\r\n\t\t\toff = (off / 60)*100 + (off % 60);\r\n\t\t\treturn (ahead ? '+' : '-') + String(\"0000\" + off).slice(-4);\r\n\t\t  },\r\n\t\t  '%Z': (date) => date.tm_zone,\r\n\t\t  '%%': () => '%'\r\n\t\t};\r\n\r\n\t\t// Replace %% with a pair of NULLs (which cannot occur in a C string), then\r\n\t\t// re-inject them after processing.\r\n\t\tpattern = pattern.replace(/%%/g, '\\0\\0');\r\n\t\tfor (var rule in EXPANSION_RULES_2) {\r\n\t\t  if (pattern.includes(rule)) {\r\n\t\t\tpattern = pattern.replace(new RegExp(rule, 'g'), EXPANSION_RULES_2[rule](date));\r\n\t\t  }\r\n\t\t}\r\n\t\tpattern = pattern.replace(/\\0\\0/g, '%');\r\n\r\n\t\tvar bytes = intArrayFromString(pattern, false);\r\n\t\tif (bytes.length > maxsize) {\r\n\t\t  return 0;\r\n\t\t}\r\n\r\n\t\twriteArrayToMemory(bytes, s);\r\n\t\treturn bytes.length-1;\r\n\t  };\r\n\tvar _strftime_l = (s, maxsize, format, tm, loc) => {\r\n\t\treturn _strftime(s, maxsize, format, tm); // no locale support yet\r\n\t  };\r\n\r\n\r\n\tvar handleException = (e) => {\r\n\t\t// Certain exception types we do not treat as errors since they are used for\r\n\t\t// internal control flow.\r\n\t\t// 1. ExitStatus, which is thrown by exit()\r\n\t\t// 2. \"unwind\", which is thrown by emscripten_unwind_to_js_event_loop() and others\r\n\t\t//    that wish to return to JS event loop.\r\n\t\tif (e instanceof ExitStatus || e == 'unwind') {\r\n\t\t  return EXITSTATUS;\r\n\t\t}\r\n\t\tcheckStackCookie();\r\n\t\tif (e instanceof WebAssembly.RuntimeError) {\r\n\t\t  if (_emscripten_stack_get_current() <= 0) {\r\n\t\t\terr('Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 65536)');\r\n\t\t  }\r\n\t\t}\r\n\t\tquit_(1, e);\r\n\t  };\r\n\r\n  InternalError = Module['InternalError'] = class InternalError extends Error { constructor(message) { super(message); this.name = 'InternalError'; }};\r\n  embind_init_charCodes();\r\n  BindingError = Module['BindingError'] = class BindingError extends Error { constructor(message) { super(message); this.name = 'BindingError'; }};\r\n  handleAllocatorInit();\r\n  init_emval();UnboundTypeError = Module['UnboundTypeError'] = extendError(Error, 'UnboundTypeError');\r\n\tvar FSNode = /** @constructor */ function(parent, name, mode, rdev) {\r\n\t  if (!parent) {\r\n\t\tparent = this;  // root node sets parent to itself\r\n\t  }\r\n\t  this.parent = parent;\r\n\t  this.mount = parent.mount;\r\n\t  this.mounted = null;\r\n\t  this.id = FS.nextInode++;\r\n\t  this.name = name;\r\n\t  this.mode = mode;\r\n\t  this.node_ops = {};\r\n\t  this.stream_ops = {};\r\n\t  this.rdev = rdev;\r\n\t};\r\n\tvar readMode = 292/*292*/ | 73/*73*/;\r\n\tvar writeMode = 146/*146*/;\r\n\tObject.defineProperties(FSNode.prototype, {\r\n\t read: {\r\n\t  get: /** @this{FSNode} */function() {\r\n\t   return (this.mode & readMode) === readMode;\r\n\t  },\r\n\t  set: /** @this{FSNode} */function(val) {\r\n\t   val ? this.mode |= readMode : this.mode &= ~readMode;\r\n\t  }\r\n\t },\r\n\t write: {\r\n\t  get: /** @this{FSNode} */function() {\r\n\t   return (this.mode & writeMode) === writeMode;\r\n\t  },\r\n\t  set: /** @this{FSNode} */function(val) {\r\n\t   val ? this.mode |= writeMode : this.mode &= ~writeMode;\r\n\t  }\r\n\t },\r\n\t isFolder: {\r\n\t  get: /** @this{FSNode} */function() {\r\n\t   return FS.isDir(this.mode);\r\n\t  }\r\n\t },\r\n\t isDevice: {\r\n\t  get: /** @this{FSNode} */function() {\r\n\t   return FS.isChrdev(this.mode);\r\n\t  }\r\n\t }\r\n\t});\r\n\tFS.FSNode = FSNode;\r\n\tFS.createPreloadedFile = FS_createPreloadedFile;\r\n\tFS.staticInit();ERRNO_CODES = {\r\n\t\t'EPERM': 63,\r\n\t\t'ENOENT': 44,\r\n\t\t'ESRCH': 71,\r\n\t\t'EINTR': 27,\r\n\t\t'EIO': 29,\r\n\t\t'ENXIO': 60,\r\n\t\t'E2BIG': 1,\r\n\t\t'ENOEXEC': 45,\r\n\t\t'EBADF': 8,\r\n\t\t'ECHILD': 12,\r\n\t\t'EAGAIN': 6,\r\n\t\t'EWOULDBLOCK': 6,\r\n\t\t'ENOMEM': 48,\r\n\t\t'EACCES': 2,\r\n\t\t'EFAULT': 21,\r\n\t\t'ENOTBLK': 105,\r\n\t\t'EBUSY': 10,\r\n\t\t'EEXIST': 20,\r\n\t\t'EXDEV': 75,\r\n\t\t'ENODEV': 43,\r\n\t\t'ENOTDIR': 54,\r\n\t\t'EISDIR': 31,\r\n\t\t'EINVAL': 28,\r\n\t\t'ENFILE': 41,\r\n\t\t'EMFILE': 33,\r\n\t\t'ENOTTY': 59,\r\n\t\t'ETXTBSY': 74,\r\n\t\t'EFBIG': 22,\r\n\t\t'ENOSPC': 51,\r\n\t\t'ESPIPE': 70,\r\n\t\t'EROFS': 69,\r\n\t\t'EMLINK': 34,\r\n\t\t'EPIPE': 64,\r\n\t\t'EDOM': 18,\r\n\t\t'ERANGE': 68,\r\n\t\t'ENOMSG': 49,\r\n\t\t'EIDRM': 24,\r\n\t\t'ECHRNG': 106,\r\n\t\t'EL2NSYNC': 156,\r\n\t\t'EL3HLT': 107,\r\n\t\t'EL3RST': 108,\r\n\t\t'ELNRNG': 109,\r\n\t\t'EUNATCH': 110,\r\n\t\t'ENOCSI': 111,\r\n\t\t'EL2HLT': 112,\r\n\t\t'EDEADLK': 16,\r\n\t\t'ENOLCK': 46,\r\n\t\t'EBADE': 113,\r\n\t\t'EBADR': 114,\r\n\t\t'EXFULL': 115,\r\n\t\t'ENOANO': 104,\r\n\t\t'EBADRQC': 103,\r\n\t\t'EBADSLT': 102,\r\n\t\t'EDEADLOCK': 16,\r\n\t\t'EBFONT': 101,\r\n\t\t'ENOSTR': 100,\r\n\t\t'ENODATA': 116,\r\n\t\t'ETIME': 117,\r\n\t\t'ENOSR': 118,\r\n\t\t'ENONET': 119,\r\n\t\t'ENOPKG': 120,\r\n\t\t'EREMOTE': 121,\r\n\t\t'ENOLINK': 47,\r\n\t\t'EADV': 122,\r\n\t\t'ESRMNT': 123,\r\n\t\t'ECOMM': 124,\r\n\t\t'EPROTO': 65,\r\n\t\t'EMULTIHOP': 36,\r\n\t\t'EDOTDOT': 125,\r\n\t\t'EBADMSG': 9,\r\n\t\t'ENOTUNIQ': 126,\r\n\t\t'EBADFD': 127,\r\n\t\t'EREMCHG': 128,\r\n\t\t'ELIBACC': 129,\r\n\t\t'ELIBBAD': 130,\r\n\t\t'ELIBSCN': 131,\r\n\t\t'ELIBMAX': 132,\r\n\t\t'ELIBEXEC': 133,\r\n\t\t'ENOSYS': 52,\r\n\t\t'ENOTEMPTY': 55,\r\n\t\t'ENAMETOOLONG': 37,\r\n\t\t'ELOOP': 32,\r\n\t\t'EOPNOTSUPP': 138,\r\n\t\t'EPFNOSUPPORT': 139,\r\n\t\t'ECONNRESET': 15,\r\n\t\t'ENOBUFS': 42,\r\n\t\t'EAFNOSUPPORT': 5,\r\n\t\t'EPROTOTYPE': 67,\r\n\t\t'ENOTSOCK': 57,\r\n\t\t'ENOPROTOOPT': 50,\r\n\t\t'ESHUTDOWN': 140,\r\n\t\t'ECONNREFUSED': 14,\r\n\t\t'EADDRINUSE': 3,\r\n\t\t'ECONNABORTED': 13,\r\n\t\t'ENETUNREACH': 40,\r\n\t\t'ENETDOWN': 38,\r\n\t\t'ETIMEDOUT': 73,\r\n\t\t'EHOSTDOWN': 142,\r\n\t\t'EHOSTUNREACH': 23,\r\n\t\t'EINPROGRESS': 26,\r\n\t\t'EALREADY': 7,\r\n\t\t'EDESTADDRREQ': 17,\r\n\t\t'EMSGSIZE': 35,\r\n\t\t'EPROTONOSUPPORT': 66,\r\n\t\t'ESOCKTNOSUPPORT': 137,\r\n\t\t'EADDRNOTAVAIL': 4,\r\n\t\t'ENETRESET': 39,\r\n\t\t'EISCONN': 30,\r\n\t\t'ENOTCONN': 53,\r\n\t\t'ETOOMANYREFS': 141,\r\n\t\t'EUSERS': 136,\r\n\t\t'EDQUOT': 19,\r\n\t\t'ESTALE': 72,\r\n\t\t'ENOTSUP': 138,\r\n\t\t'ENOMEDIUM': 148,\r\n\t\t'EILSEQ': 25,\r\n\t\t'EOVERFLOW': 61,\r\n\t\t'ECANCELED': 11,\r\n\t\t'ENOTRECOVERABLE': 56,\r\n\t\t'EOWNERDEAD': 62,\r\n\t\t'ESTRPIPE': 135,\r\n\t  };function checkIncomingModuleAPI() {\r\n\tignoredModuleProp('fetchSettings');\r\n  }\r\n  var wasmImports = {\r\n\t/** @export */\r\n\t__cxa_throw: ___cxa_throw,\r\n\t/** @export */\r\n\t_embind_finalize_value_object: __embind_finalize_value_object,\r\n\t/** @export */\r\n\t_embind_register_bigint: __embind_register_bigint,\r\n\t/** @export */\r\n\t_embind_register_bool: __embind_register_bool,\r\n\t/** @export */\r\n\t_embind_register_emval: __embind_register_emval,\r\n\t/** @export */\r\n\t_embind_register_float: __embind_register_float,\r\n\t/** @export */\r\n\t_embind_register_function: __embind_register_function,\r\n\t/** @export */\r\n\t_embind_register_integer: __embind_register_integer,\r\n\t/** @export */\r\n\t_embind_register_memory_view: __embind_register_memory_view,\r\n\t/** @export */\r\n\t_embind_register_std_string: __embind_register_std_string,\r\n\t/** @export */\r\n\t_embind_register_std_wstring: __embind_register_std_wstring,\r\n\t/** @export */\r\n\t_embind_register_value_object: __embind_register_value_object,\r\n\t/** @export */\r\n\t_embind_register_value_object_field: __embind_register_value_object_field,\r\n\t/** @export */\r\n\t_embind_register_void: __embind_register_void,\r\n\t/** @export */\r\n\t_emscripten_throw_longjmp: __emscripten_throw_longjmp,\r\n\t/** @export */\r\n\t_emval_decref: __emval_decref,\r\n\t/** @export */\r\n\t_emval_incref: __emval_incref,\r\n\t/** @export */\r\n\t_emval_new_cstring: __emval_new_cstring,\r\n\t/** @export */\r\n\t_emval_take_value: __emval_take_value,\r\n\t/** @export */\r\n\tabort: _abort,\r\n\t/** @export */\r\n\temscripten_memcpy_js: _emscripten_memcpy_js,\r\n\t/** @export */\r\n\temscripten_resize_heap: _emscripten_resize_heap,\r\n\t/** @export */\r\n\tenviron_get: _environ_get,\r\n\t/** @export */\r\n\tenviron_sizes_get: _environ_sizes_get,\r\n\t/** @export */\r\n\texit: _exit,\r\n\t/** @export */\r\n\tfd_close: _fd_close,\r\n\t/** @export */\r\n\tfd_read: _fd_read,\r\n\t/** @export */\r\n\tfd_seek: _fd_seek,\r\n\t/** @export */\r\n\tfd_write: _fd_write,\r\n\t/** @export */\r\n\tinvoke_ii: invoke_ii,\r\n\t/** @export */\r\n\tinvoke_iii: invoke_iii,\r\n\t/** @export */\r\n\tinvoke_iiii: invoke_iiii,\r\n\t/** @export */\r\n\tinvoke_iiiii: invoke_iiiii,\r\n\t/** @export */\r\n\tinvoke_vi: invoke_vi,\r\n\t/** @export */\r\n\tinvoke_viii: invoke_viii,\r\n\t/** @export */\r\n\tstrftime_l: _strftime_l\r\n  };\r\n  var wasmExports = createWasm();\r\n  var _malloc = createExportWrapper('malloc');\r\n  var _main = Module['_main'] = createExportWrapper('main');\r\n  var _free = createExportWrapper('free');\r\n  var ___getTypeName = createExportWrapper('__getTypeName');\r\n  Module['__embind_initialize_bindings'] = createExportWrapper('_embind_initialize_bindings');\r\n  var _fflush = Module['_fflush'] = createExportWrapper('fflush');\r\n  var _setThrew = createExportWrapper('setThrew');\r\n  var _emscripten_stack_init = () => (_emscripten_stack_init = wasmExports['emscripten_stack_init'])();\r\n  var _emscripten_stack_get_end = () => (_emscripten_stack_get_end = wasmExports['emscripten_stack_get_end'])();\r\n  var stackSave = createExportWrapper('stackSave');\r\n  var stackRestore = createExportWrapper('stackRestore');\r\n  var _emscripten_stack_get_current = () => (_emscripten_stack_get_current = wasmExports['emscripten_stack_get_current'])();\r\n  var ___cxa_is_pointer_type = createExportWrapper('__cxa_is_pointer_type');\r\n  Module['dynCall_jiji'] = createExportWrapper('dynCall_jiji');\r\n  Module['dynCall_viijii'] = createExportWrapper('dynCall_viijii');\r\n  Module['dynCall_iiiiij'] = createExportWrapper('dynCall_iiiiij');\r\n  Module['dynCall_iiiiijj'] = createExportWrapper('dynCall_iiiiijj');\r\n  Module['dynCall_iiiiiijj'] = createExportWrapper('dynCall_iiiiiijj');\r\n\r\n  function invoke_ii(index,a1) {\r\n\tvar sp = stackSave();\r\n\ttry {\r\n\t  return getWasmTableEntry(index)(a1);\r\n\t} catch(e) {\r\n\t  stackRestore(sp);\r\n\t  if (e !== e+0) throw e;\r\n\t  _setThrew(1, 0);\r\n\t}\r\n  }\r\n\r\n  function invoke_vi(index,a1) {\r\n\tvar sp = stackSave();\r\n\ttry {\r\n\t  getWasmTableEntry(index)(a1);\r\n\t} catch(e) {\r\n\t  stackRestore(sp);\r\n\t  if (e !== e+0) throw e;\r\n\t  _setThrew(1, 0);\r\n\t}\r\n  }\r\n\r\n  function invoke_viii(index,a1,a2,a3) {\r\n\tvar sp = stackSave();\r\n\ttry {\r\n\t  getWasmTableEntry(index)(a1,a2,a3);\r\n\t} catch(e) {\r\n\t  stackRestore(sp);\r\n\t  if (e !== e+0) throw e;\r\n\t  _setThrew(1, 0);\r\n\t}\r\n  }\r\n\r\n  function invoke_iiii(index,a1,a2,a3) {\r\n\tvar sp = stackSave();\r\n\ttry {\r\n\t  return getWasmTableEntry(index)(a1,a2,a3);\r\n\t} catch(e) {\r\n\t  stackRestore(sp);\r\n\t  if (e !== e+0) throw e;\r\n\t  _setThrew(1, 0);\r\n\t}\r\n  }\r\n\r\n  function invoke_iii(index,a1,a2) {\r\n\tvar sp = stackSave();\r\n\ttry {\r\n\t  return getWasmTableEntry(index)(a1,a2);\r\n\t} catch(e) {\r\n\t  stackRestore(sp);\r\n\t  if (e !== e+0) throw e;\r\n\t  _setThrew(1, 0);\r\n\t}\r\n  }\r\n\r\n  function invoke_iiiii(index,a1,a2,a3,a4) {\r\n\tvar sp = stackSave();\r\n\ttry {\r\n\t  return getWasmTableEntry(index)(a1,a2,a3,a4);\r\n\t} catch(e) {\r\n\t  stackRestore(sp);\r\n\t  if (e !== e+0) throw e;\r\n\t  _setThrew(1, 0);\r\n\t}\r\n  }\r\n\r\n\r\n  // include: postamble.js\r\n  // === Auto-generated postamble setup entry stuff ===\r\n\r\n  var missingLibrarySymbols = [\r\n\t'writeI53ToI64',\r\n\t'writeI53ToI64Clamped',\r\n\t'writeI53ToI64Signaling',\r\n\t'writeI53ToU64Clamped',\r\n\t'writeI53ToU64Signaling',\r\n\t'readI53FromI64',\r\n\t'readI53FromU64',\r\n\t'convertI32PairToI53',\r\n\t'convertU32PairToI53',\r\n\t'ydayFromDate',\r\n\t'setErrNo',\r\n\t'inetPton4',\r\n\t'inetNtop4',\r\n\t'inetPton6',\r\n\t'inetNtop6',\r\n\t'readSockaddr',\r\n\t'writeSockaddr',\r\n\t'getHostByName',\r\n\t'getCallstack',\r\n\t'emscriptenLog',\r\n\t'convertPCtoSourceLocation',\r\n\t'readEmAsmArgs',\r\n\t'jstoi_q',\r\n\t'jstoi_s',\r\n\t'listenOnce',\r\n\t'autoResumeAudioContext',\r\n\t'runtimeKeepalivePush',\r\n\t'runtimeKeepalivePop',\r\n\t'callUserCallback',\r\n\t'maybeExit',\r\n\t'asmjsMangle',\r\n\t'getNativeTypeSize',\r\n\t'STACK_SIZE',\r\n\t'STACK_ALIGN',\r\n\t'POINTER_SIZE',\r\n\t'ASSERTIONS',\r\n\t'getCFunc',\r\n\t'ccall',\r\n\t'cwrap',\r\n\t'uleb128Encode',\r\n\t'sigToWasmTypes',\r\n\t'generateFuncType',\r\n\t'convertJsFunctionToWasm',\r\n\t'getEmptyTableSlot',\r\n\t'updateTableMap',\r\n\t'getFunctionAddress',\r\n\t'addFunction',\r\n\t'removeFunction',\r\n\t'reallyNegative',\r\n\t'unSign',\r\n\t'strLen',\r\n\t'reSign',\r\n\t'formatString',\r\n\t'intArrayToString',\r\n\t'AsciiToString',\r\n\t'stringToNewUTF8',\r\n\t'stringToUTF8OnStack',\r\n\t'registerKeyEventCallback',\r\n\t'maybeCStringToJsString',\r\n\t'findEventTarget',\r\n\t'findCanvasEventTarget',\r\n\t'getBoundingClientRect',\r\n\t'fillMouseEventData',\r\n\t'registerMouseEventCallback',\r\n\t'registerWheelEventCallback',\r\n\t'registerUiEventCallback',\r\n\t'registerFocusEventCallback',\r\n\t'fillDeviceOrientationEventData',\r\n\t'registerDeviceOrientationEventCallback',\r\n\t'fillDeviceMotionEventData',\r\n\t'registerDeviceMotionEventCallback',\r\n\t'screenOrientation',\r\n\t'fillOrientationChangeEventData',\r\n\t'registerOrientationChangeEventCallback',\r\n\t'fillFullscreenChangeEventData',\r\n\t'registerFullscreenChangeEventCallback',\r\n\t'JSEvents_requestFullscreen',\r\n\t'JSEvents_resizeCanvasForFullscreen',\r\n\t'registerRestoreOldStyle',\r\n\t'hideEverythingExceptGivenElement',\r\n\t'restoreHiddenElements',\r\n\t'setLetterbox',\r\n\t'softFullscreenResizeWebGLRenderTarget',\r\n\t'doRequestFullscreen',\r\n\t'fillPointerlockChangeEventData',\r\n\t'registerPointerlockChangeEventCallback',\r\n\t'registerPointerlockErrorEventCallback',\r\n\t'requestPointerLock',\r\n\t'fillVisibilityChangeEventData',\r\n\t'registerVisibilityChangeEventCallback',\r\n\t'registerTouchEventCallback',\r\n\t'fillGamepadEventData',\r\n\t'registerGamepadEventCallback',\r\n\t'registerBeforeUnloadEventCallback',\r\n\t'fillBatteryEventData',\r\n\t'battery',\r\n\t'registerBatteryEventCallback',\r\n\t'setCanvasElementSize',\r\n\t'getCanvasElementSize',\r\n\t'jsStackTrace',\r\n\t'stackTrace',\r\n\t'checkWasiClock',\r\n\t'wasiRightsToMuslOFlags',\r\n\t'wasiOFlagsToMuslOFlags',\r\n\t'createDyncallWrapper',\r\n\t'safeSetTimeout',\r\n\t'setImmediateWrapped',\r\n\t'clearImmediateWrapped',\r\n\t'polyfillSetImmediate',\r\n\t'getPromise',\r\n\t'makePromise',\r\n\t'idsToPromises',\r\n\t'makePromiseCallback',\r\n\t'findMatchingCatch',\r\n\t'setMainLoop',\r\n\t'getSocketFromFD',\r\n\t'getSocketAddress',\r\n\t'FS_unlink',\r\n\t'FS_mkdirTree',\r\n\t'_setNetworkCallback',\r\n\t'heapObjectForWebGLType',\r\n\t'heapAccessShiftForWebGLHeap',\r\n\t'webgl_enable_ANGLE_instanced_arrays',\r\n\t'webgl_enable_OES_vertex_array_object',\r\n\t'webgl_enable_WEBGL_draw_buffers',\r\n\t'webgl_enable_WEBGL_multi_draw',\r\n\t'emscriptenWebGLGet',\r\n\t'computeUnpackAlignedImageSize',\r\n\t'colorChannelsInGlTextureFormat',\r\n\t'emscriptenWebGLGetTexPixelData',\r\n\t'__glGenObject',\r\n\t'emscriptenWebGLGetUniform',\r\n\t'webglGetUniformLocation',\r\n\t'webglPrepareUniformLocationsBeforeFirstUse',\r\n\t'webglGetLeftBracePos',\r\n\t'emscriptenWebGLGetVertexAttrib',\r\n\t'__glGetActiveAttribOrUniform',\r\n\t'writeGLArray',\r\n\t'registerWebGlEventCallback',\r\n\t'runAndAbortIfError',\r\n\t'SDL_unicode',\r\n\t'SDL_ttfContext',\r\n\t'SDL_audio',\r\n\t'ALLOC_NORMAL',\r\n\t'ALLOC_STACK',\r\n\t'allocate',\r\n\t'writeStringToMemory',\r\n\t'writeAsciiToMemory',\r\n\t'getFunctionArgsName',\r\n\t'init_embind',\r\n\t'getBasestPointer',\r\n\t'registerInheritedInstance',\r\n\t'unregisterInheritedInstance',\r\n\t'getInheritedInstance',\r\n\t'getInheritedInstanceCount',\r\n\t'getLiveInheritedInstances',\r\n\t'enumReadValueFromPointer',\r\n\t'genericPointerToWireType',\r\n\t'constNoSmartPtrRawPointerToWireType',\r\n\t'nonConstNoSmartPtrRawPointerToWireType',\r\n\t'init_RegisteredPointer',\r\n\t'RegisteredPointer',\r\n\t'RegisteredPointer_fromWireType',\r\n\t'runDestructor',\r\n\t'releaseClassHandle',\r\n\t'detachFinalizer',\r\n\t'attachFinalizer',\r\n\t'makeClassHandle',\r\n\t'init_ClassHandle',\r\n\t'ClassHandle',\r\n\t'throwInstanceAlreadyDeleted',\r\n\t'flushPendingDeletes',\r\n\t'setDelayFunction',\r\n\t'RegisteredClass',\r\n\t'shallowCopyInternalPointer',\r\n\t'downcastPointer',\r\n\t'upcastPointer',\r\n\t'validateThis',\r\n\t'craftEmvalAllocator',\r\n\t'emval_get_global',\r\n\t'emval_lookupTypes',\r\n\t'emval_addMethodCaller',\r\n  ];\r\n  missingLibrarySymbols.forEach(missingLibrarySymbol);\r\n\r\n  var unexportedSymbols = [\r\n\t'run',\r\n\t'addOnPreRun',\r\n\t'addOnInit',\r\n\t'addOnPreMain',\r\n\t'addOnExit',\r\n\t'addOnPostRun',\r\n\t'addRunDependency',\r\n\t'removeRunDependency',\r\n\t'FS_createFolder',\r\n\t'FS_createPath',\r\n\t'FS_createLazyFile',\r\n\t'FS_createLink',\r\n\t'FS_createDevice',\r\n\t'FS_readFile',\r\n\t'out',\r\n\t'err',\r\n\t'callMain',\r\n\t'abort',\r\n\t'wasmMemory',\r\n\t'wasmExports',\r\n\t'stackAlloc',\r\n\t'stackSave',\r\n\t'stackRestore',\r\n\t'getTempRet0',\r\n\t'setTempRet0',\r\n\t'writeStackCookie',\r\n\t'checkStackCookie',\r\n\t'convertI32PairToI53Checked',\r\n\t'ptrToString',\r\n\t'zeroMemory',\r\n\t'exitJS',\r\n\t'getHeapMax',\r\n\t'growMemory',\r\n\t'ENV',\r\n\t'MONTH_DAYS_REGULAR',\r\n\t'MONTH_DAYS_LEAP',\r\n\t'MONTH_DAYS_REGULAR_CUMULATIVE',\r\n\t'MONTH_DAYS_LEAP_CUMULATIVE',\r\n\t'isLeapYear',\r\n\t'arraySum',\r\n\t'addDays',\r\n\t'ERRNO_CODES',\r\n\t'ERRNO_MESSAGES',\r\n\t'DNS',\r\n\t'Protocols',\r\n\t'Sockets',\r\n\t'initRandomFill',\r\n\t'randomFill',\r\n\t'timers',\r\n\t'warnOnce',\r\n\t'UNWIND_CACHE',\r\n\t'readEmAsmArgsArray',\r\n\t'getExecutableName',\r\n\t'dynCallLegacy',\r\n\t'getDynCaller',\r\n\t'dynCall',\r\n\t'handleException',\r\n\t'keepRuntimeAlive',\r\n\t'asyncLoad',\r\n\t'alignMemory',\r\n\t'mmapAlloc',\r\n\t'handleAllocatorInit',\r\n\t'HandleAllocator',\r\n\t'wasmTable',\r\n\t'noExitRuntime',\r\n\t'freeTableIndexes',\r\n\t'functionsInTableMap',\r\n\t'setValue',\r\n\t'getValue',\r\n\t'PATH',\r\n\t'PATH_FS',\r\n\t'UTF8Decoder',\r\n\t'UTF8ArrayToString',\r\n\t'UTF8ToString',\r\n\t'stringToUTF8Array',\r\n\t'stringToUTF8',\r\n\t'lengthBytesUTF8',\r\n\t'intArrayFromString',\r\n\t'stringToAscii',\r\n\t'UTF16Decoder',\r\n\t'UTF16ToString',\r\n\t'stringToUTF16',\r\n\t'lengthBytesUTF16',\r\n\t'UTF32ToString',\r\n\t'stringToUTF32',\r\n\t'lengthBytesUTF32',\r\n\t'writeArrayToMemory',\r\n\t'JSEvents',\r\n\t'specialHTMLTargets',\r\n\t'currentFullscreenStrategy',\r\n\t'restoreOldWindowedStyle',\r\n\t'demangle',\r\n\t'demangleAll',\r\n\t'ExitStatus',\r\n\t'getEnvStrings',\r\n\t'doReadv',\r\n\t'doWritev',\r\n\t'promiseMap',\r\n\t'uncaughtExceptionCount',\r\n\t'exceptionLast',\r\n\t'exceptionCaught',\r\n\t'ExceptionInfo',\r\n\t'Browser',\r\n\t'wget',\r\n\t'SYSCALLS',\r\n\t'preloadPlugins',\r\n\t'FS_createPreloadedFile',\r\n\t'FS_modeStringToFlags',\r\n\t'FS_getMode',\r\n\t'FS_stdin_getChar_buffer',\r\n\t'FS_stdin_getChar',\r\n\t'FS',\r\n\t'FS_createDataFile',\r\n\t'MEMFS',\r\n\t'TTY',\r\n\t'PIPEFS',\r\n\t'SOCKFS',\r\n\t'tempFixedLengthArray',\r\n\t'miniTempWebGLFloatBuffers',\r\n\t'miniTempWebGLIntBuffers',\r\n\t'GL',\r\n\t'emscripten_webgl_power_preferences',\r\n\t'AL',\r\n\t'GLUT',\r\n\t'EGL',\r\n\t'GLEW',\r\n\t'IDBStore',\r\n\t'SDL',\r\n\t'SDL_gfx',\r\n\t'allocateUTF8',\r\n\t'allocateUTF8OnStack',\r\n\t'InternalError',\r\n\t'BindingError',\r\n\t'throwInternalError',\r\n\t'throwBindingError',\r\n\t'registeredTypes',\r\n\t'awaitingDependencies',\r\n\t'typeDependencies',\r\n\t'tupleRegistrations',\r\n\t'structRegistrations',\r\n\t'sharedRegisterType',\r\n\t'whenDependentTypesAreResolved',\r\n\t'embind_charCodes',\r\n\t'embind_init_charCodes',\r\n\t'readLatin1String',\r\n\t'getTypeName',\r\n\t'getFunctionName',\r\n\t'heap32VectorToArray',\r\n\t'requireRegisteredType',\r\n\t'UnboundTypeError',\r\n\t'PureVirtualError',\r\n\t'GenericWireTypeSize',\r\n\t'throwUnboundTypeError',\r\n\t'ensureOverloadTable',\r\n\t'exposePublicSymbol',\r\n\t'replacePublicSymbol',\r\n\t'extendError',\r\n\t'createNamedFunction',\r\n\t'embindRepr',\r\n\t'registeredInstances',\r\n\t'registeredPointers',\r\n\t'registerType',\r\n\t'integerReadValueFromPointer',\r\n\t'floatReadValueFromPointer',\r\n\t'simpleReadValueFromPointer',\r\n\t'readPointer',\r\n\t'runDestructors',\r\n\t'newFunc',\r\n\t'craftInvokerFunction',\r\n\t'embind__requireFunction',\r\n\t'finalizationRegistry',\r\n\t'detachFinalizer_deps',\r\n\t'deletionQueue',\r\n\t'delayFunction',\r\n\t'char_0',\r\n\t'char_9',\r\n\t'makeLegalFunctionName',\r\n\t'emval_handles',\r\n\t'emval_symbols',\r\n\t'init_emval',\r\n\t'count_emval_handles',\r\n\t'getStringOrSymbol',\r\n\t'Emval',\r\n\t'emval_newers',\r\n\t'emval_methodCallers',\r\n  ];\r\n  unexportedSymbols.forEach(unexportedRuntimeSymbol);\r\n\r\n\r\n\r\n  var calledRun;\r\n\r\n  dependenciesFulfilled = function runCaller() {\r\n\t// If run has never been called, and we should call run (INVOKE_RUN is true, and Module.noInitialRun is not false)\r\n\tif (!calledRun) run();\r\n\tif (!calledRun) dependenciesFulfilled = runCaller; // try this again later, after new deps are fulfilled\r\n  };\r\n\r\n  function callMain() {\r\n\tassert(runDependencies == 0, 'cannot call main when async dependencies remain! (listen on Module[\"onRuntimeInitialized\"])');\r\n\tassert(__ATPRERUN__.length == 0, 'cannot call main when preRun functions remain to be called');\r\n\r\n\tvar entryFunction = _main;\r\n\r\n\tvar argc = 0;\r\n\tvar argv = 0;\r\n\r\n\ttry {\r\n\r\n\t  var ret = entryFunction(argc, argv);\r\n\r\n\t  // if we're not running an evented main loop, it's time to exit\r\n\t  exitJS(ret, /* implicit = */ true);\r\n\t  return ret;\r\n\t}\r\n\tcatch (e) {\r\n\t  return handleException(e);\r\n\t}\r\n  }\r\n\r\n  function stackCheckInit() {\r\n\t// This is normally called automatically during __wasm_call_ctors but need to\r\n\t// get these values before even running any of the ctors so we call it redundantly\r\n\t// here.\r\n\t_emscripten_stack_init();\r\n\t// TODO(sbc): Move writeStackCookie to native to to avoid this.\r\n\twriteStackCookie();\r\n  }\r\n\r\n  function run() {\r\n\r\n\tif (runDependencies > 0) {\r\n\t  return;\r\n\t}\r\n\r\n\t  stackCheckInit();\r\n\r\n\tpreRun();\r\n\r\n\t// a preRun added a dependency, run will be called later\r\n\tif (runDependencies > 0) {\r\n\t  return;\r\n\t}\r\n\r\n\tfunction doRun() {\r\n\t  // run may have just been called through dependencies being fulfilled just in this very frame,\r\n\t  // or while the async setStatus time below was happening\r\n\t  if (calledRun) return;\r\n\t  calledRun = true;\r\n\t  Module['calledRun'] = true;\r\n\r\n\t  if (ABORT) return;\r\n\r\n\t  initRuntime();\r\n\r\n\t  preMain();\r\n\r\n\t  readyPromiseResolve(Module);\r\n\t  if (Module['onRuntimeInitialized']) Module['onRuntimeInitialized']();\r\n\r\n\t  if (shouldRunNow) callMain();\r\n\r\n\t  postRun();\r\n\t}\r\n\r\n\tif (Module['setStatus']) {\r\n\t  Module['setStatus']('Running...');\r\n\t  setTimeout(function() {\r\n\t\tsetTimeout(function() {\r\n\t\t  Module['setStatus']('');\r\n\t\t}, 1);\r\n\t\tdoRun();\r\n\t  }, 1);\r\n\t} else\r\n\t{\r\n\t  doRun();\r\n\t}\r\n\tcheckStackCookie();\r\n  }\r\n\r\n  function checkUnflushedContent() {\r\n\t// Compiler settings do not allow exiting the runtime, so flushing\r\n\t// the streams is not possible. but in ASSERTIONS mode we check\r\n\t// if there was something to flush, and if so tell the user they\r\n\t// should request that the runtime be exitable.\r\n\t// Normally we would not even include flush() at all, but in ASSERTIONS\r\n\t// builds we do so just for this check, and here we see if there is any\r\n\t// content to flush, that is, we check if there would have been\r\n\t// something a non-ASSERTIONS build would have not seen.\r\n\t// How we flush the streams depends on whether we are in SYSCALLS_REQUIRE_FILESYSTEM=0\r\n\t// mode (which has its own special function for this; otherwise, all\r\n\t// the code is inside libc)\r\n\tvar oldOut = out;\r\n\tvar oldErr = err;\r\n\tvar has = false;\r\n\tout = err = (x) => {\r\n\t  has = true;\r\n\t};\r\n\ttry { // it doesn't matter if it fails\r\n\t  _fflush(0);\r\n\t  // also flush in the JS FS layer\r\n\t  ['stdout', 'stderr'].forEach(function(name) {\r\n\t\tvar info = FS.analyzePath('/dev/' + name);\r\n\t\tif (!info) return;\r\n\t\tvar stream = info.object;\r\n\t\tvar rdev = stream.rdev;\r\n\t\tvar tty = TTY.ttys[rdev];\r\n\t\tif (tty && tty.output && tty.output.length) {\r\n\t\t  has = true;\r\n\t\t}\r\n\t  });\r\n\t} catch(e) {}\r\n\tout = oldOut;\r\n\terr = oldErr;\r\n\tif (has) {\r\n\t  warnOnce('stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the Emscripten FAQ), or make sure to emit a newline when you printf etc.');\r\n\t}\r\n  }\r\n\r\n  if (Module['preInit']) {\r\n\tif (typeof Module['preInit'] == 'function') Module['preInit'] = [Module['preInit']];\r\n\twhile (Module['preInit'].length > 0) {\r\n\t  Module['preInit'].pop()();\r\n\t}\r\n  }\r\n\r\n  // shouldRunNow refers to calling main(), not run().\r\n  var shouldRunNow = true;\r\n\r\n  if (Module['noInitialRun']) shouldRunNow = false;\r\n\r\n  run();\r\n\r\n\r\n  // end include: postamble.js\r\n\r\n\r\n\treturn moduleArg.ready\r\n  }\r\n\r\n  );\r\n  })();\r\n\r\n  // @ts-expect-error untyped\r\n  let library;\r\n  /**\r\n   * Instances the WASM module and returns it, only one module will be created upon multiple calls.\r\n   * @category WASM\r\n   * @group WASM\r\n   *\r\n   * @returns\r\n   */\r\n  const getLibrary = async () => {\r\n\t  if (!library) {\r\n\t\t  library = await Module();\r\n\t  }\r\n\t  return library;\r\n  };\r\n\r\n  /**\r\n   * @deprecated\r\n   * @param description\r\n   * @param name\r\n   * @param defaultValue\r\n   * @returns\r\n   */\r\n  /* istanbul ignore next */\r\n  const getAttribute = (description, name, defaultValue) => {\r\n\t  var _a;\r\n\t  let returnValue;\r\n\t  const parsedValue = (_a = description.attributes.getNamedItem(name)) === null || _a === void 0 ? void 0 : _a.nodeValue;\r\n\t  if (!parsedValue) {\r\n\t\t  const node = description.getElementsByTagName(name)[0];\r\n\t\t  if (node) {\r\n\t\t\t  const values = node.getElementsByTagName('rdf:li');\r\n\t\t\t  if (values.length === 3) {\r\n\t\t\t\t  returnValue = Array.from(values).map(v => v.innerHTML);\r\n\t\t\t  }\r\n\t\t\t  else {\r\n\t\t\t\t  throw new Error(`Gainmap metadata contains an array of items for ${name} but its length is not 3`);\r\n\t\t\t  }\r\n\t\t  }\r\n\t\t  else {\r\n\t\t\t  if (defaultValue)\r\n\t\t\t\t  return defaultValue;\r\n\t\t\t  else\r\n\t\t\t\t  throw new Error(`Can't find ${name} in gainmap metadata`);\r\n\t\t  }\r\n\t  }\r\n\t  else {\r\n\t\t  returnValue = parsedValue;\r\n\t  }\r\n\t  return returnValue;\r\n  };\r\n  /**\r\n   * Decodes a JPEG file with an embedded Gainmap and XMP Metadata (aka JPEG-R)\r\n   *\r\n   * @category Decoding\r\n   * @group Decoding\r\n   * @deprecated\r\n   * @example\r\n   * import { decodeJPEGMetadata } from '@monogrid/gainmap-js/libultrahdr'\r\n   *\r\n   * // fetch a JPEG image containing a gainmap as ArrayBuffer\r\n   * const gainmap = new Uint8Array(await (await fetch('gainmap.jpeg')).arrayBuffer())\r\n   *\r\n   * // extract data from the JPEG\r\n   * const { gainMap, sdr, parsedMetadata } = await decodeJPEGMetadata(gainmap)\r\n   *\r\n   * @param file A Jpeg file Uint8Array.\r\n   * @returns The decoded data\r\n   * @throws {Error} if the provided file cannot be parsed or does not contain a valid Gainmap\r\n   */\r\n  /* istanbul ignore next */\r\n  const decodeJPEGMetadata = async (file) => {\r\n\t  var _a, _b;\r\n\t  const lib = await getLibrary();\r\n\t  const result = lib.extractJpegR(file, file.length);\r\n\t  if (!result.success)\r\n\t\t  throw new Error(`${result.errorMessage}`);\r\n\t  const parser = new DOMParser();\r\n\t  const xmlDocument = parser.parseFromString(result.metadata, 'text/xml');\r\n\t  const description = xmlDocument.getElementsByTagName('rdf:Description')[0];\r\n\t  const gainMapMin = getAttribute(description, 'hdrgm:GainMapMin', '0');\r\n\t  const gainMapMax = getAttribute(description, 'hdrgm:GainMapMax');\r\n\t  const gamma = getAttribute(description, 'hdrgm:Gamma', '1');\r\n\t  const offsetSDR = getAttribute(description, 'hdrgm:OffsetSDR', '0.015625');\r\n\t  const offsetHDR = getAttribute(description, 'hdrgm:OffsetHDR', '0.015625');\r\n\t  let hdrCapacityMin = (_a = description.attributes.getNamedItem('hdrgm:HDRCapacityMin')) === null || _a === void 0 ? void 0 : _a.nodeValue;\r\n\t  if (!hdrCapacityMin)\r\n\t\t  hdrCapacityMin = '0';\r\n\t  const hdrCapacityMax = (_b = description.attributes.getNamedItem('hdrgm:HDRCapacityMax')) === null || _b === void 0 ? void 0 : _b.nodeValue;\r\n\t  if (!hdrCapacityMax)\r\n\t\t  throw new Error('Incomplete gainmap metadata');\r\n\t  const parsedMetadata = {\r\n\t\t  gainMapMin: Array.isArray(gainMapMin) ? gainMapMin.map(v => parseFloat(v)) : [parseFloat(gainMapMin), parseFloat(gainMapMin), parseFloat(gainMapMin)],\r\n\t\t  gainMapMax: Array.isArray(gainMapMax) ? gainMapMax.map(v => parseFloat(v)) : [parseFloat(gainMapMax), parseFloat(gainMapMax), parseFloat(gainMapMax)],\r\n\t\t  gamma: Array.isArray(gamma) ? gamma.map(v => parseFloat(v)) : [parseFloat(gamma), parseFloat(gamma), parseFloat(gamma)],\r\n\t\t  offsetSdr: Array.isArray(offsetSDR) ? offsetSDR.map(v => parseFloat(v)) : [parseFloat(offsetSDR), parseFloat(offsetSDR), parseFloat(offsetSDR)],\r\n\t\t  offsetHdr: Array.isArray(offsetHDR) ? offsetHDR.map(v => parseFloat(v)) : [parseFloat(offsetHDR), parseFloat(offsetHDR), parseFloat(offsetHDR)],\r\n\t\t  hdrCapacityMin: parseFloat(hdrCapacityMin),\r\n\t\t  hdrCapacityMax: parseFloat(hdrCapacityMax)\r\n\t  };\r\n\t  return {\r\n\t\t  ...result,\r\n\t\t  /**\r\n\t\t   * Parsed metadata\r\n\t\t   */\r\n\t\t  parsedMetadata\r\n\t  };\r\n  };\r\n\r\n  /**\r\n   * Encapsulates a Gainmap into a single JPEG file (aka: JPEG-R) with the base map\r\n   * as the sdr visualization and the gainMap encoded into a MPF (Multi-Picture Format) tag.\r\n   *\r\n   * @category Encoding\r\n   * @group Encoding\r\n   *\r\n   * @example\r\n   * import { compress, encode, findTextureMinMax } from '@monogrid/gainmap-js'\r\n   * import { encodeJPEGMetadata } from '@monogrid/gainmap-js/libultrahdr'\r\n   * import { EXRLoader } from 'three/examples/jsm/loaders/EXRLoader.js'\r\n   *\r\n   * // load an HDR file\r\n   * const loader = new EXRLoader()\r\n   * const image = await loader.loadAsync('image.exr')\r\n   *\r\n   * // find RAW RGB Max value of a texture\r\n   * const textureMax = await findTextureMinMax(image)\r\n   *\r\n   * // Encode the gainmap\r\n   * const encodingResult = encode({\r\n   *   image,\r\n   *   maxContentBoost: Math.max.apply(this, textureMax)\r\n   * })\r\n   *\r\n   * // obtain the RAW RGBA SDR buffer and create an ImageData\r\n   * const sdrImageData = new ImageData(\r\n   *   encodingResult.sdr.toArray(),\r\n   *   encodingResult.sdr.width,\r\n   *   encodingResult.sdr.height\r\n   * )\r\n   * // obtain the RAW RGBA Gain map buffer and create an ImageData\r\n   * const gainMapImageData = new ImageData(\r\n   *   encodingResult.gainMap.toArray(),\r\n   *   encodingResult.gainMap.width,\r\n   *   encodingResult.gainMap.height\r\n   * )\r\n   *\r\n   * // parallel compress the RAW buffers into the specified mimeType\r\n   * const mimeType = 'image/jpeg'\r\n   * const quality = 0.9\r\n   *\r\n   * const [sdr, gainMap] = await Promise.all([\r\n   *   compress({\r\n   *     source: sdrImageData,\r\n   *     mimeType,\r\n   *     quality,\r\n   *     flipY: true // output needs to be flipped\r\n   *   }),\r\n   *   compress({\r\n   *     source: gainMapImageData,\r\n   *     mimeType,\r\n   *     quality,\r\n   *     flipY: true // output needs to be flipped\r\n   *   })\r\n   * ])\r\n   *\r\n   * // obtain the metadata which will be embedded into\r\n   * // and XMP tag inside the final JPEG file\r\n   * const metadata = encodingResult.getMetadata()\r\n   *\r\n   * // embed the compressed images + metadata into a single\r\n   * // JPEG file\r\n   * const jpeg = await encodeJPEGMetadata({\r\n   *   ...encodingResult,\r\n   *   ...metadata,\r\n   *   sdr,\r\n   *   gainMap\r\n   * })\r\n   *\r\n   * // `jpeg` will be an `Uint8Array` which can be saved somewhere\r\n   *\r\n   *\r\n   * @param encodingResult\r\n   * @returns an Uint8Array representing a JPEG-R file\r\n   * @throws {Error} If `encodingResult.sdr.mimeType !== 'image/jpeg'`\r\n   * @throws {Error} If `encodingResult.gainMap.mimeType !== 'image/jpeg'`\r\n   */\r\n  const encodeJPEGMetadata = async (encodingResult) => {\r\n\t  const lib = await getLibrary();\r\n\t  if (encodingResult.sdr.mimeType !== 'image/jpeg')\r\n\t\t  throw new Error('This function expects an SDR image compressed in jpeg');\r\n\t  if (encodingResult.gainMap.mimeType !== 'image/jpeg')\r\n\t\t  throw new Error('This function expects a GainMap image compressed in jpeg');\r\n\t  return lib.appendGainMap(encodingResult.sdr.width, encodingResult.sdr.height, encodingResult.sdr.data, encodingResult.sdr.data.length, encodingResult.gainMap.data, encodingResult.gainMap.data.length, encodingResult.gainMapMax.reduce((p, n) => p + n, 0) / encodingResult.gainMapMax.length, encodingResult.gainMapMin.reduce((p, n) => p + n, 0) / encodingResult.gainMapMin.length, encodingResult.gamma.reduce((p, n) => p + n, 0) / encodingResult.gamma.length, encodingResult.offsetSdr.reduce((p, n) => p + n, 0) / encodingResult.offsetSdr.length, encodingResult.offsetHdr.reduce((p, n) => p + n, 0) / encodingResult.offsetHdr.length, encodingResult.hdrCapacityMin, encodingResult.hdrCapacityMax);\r\n  };\r\n\r\n  export { decodeJPEGMetadata, encodeJPEGMetadata, getLibrary };\r\n","import { compress, encode, findTextureMinMax } from '@monogrid/gainmap-js/encode';\r\nimport { encodeJPEGMetadata } from '../libs/libultrahdr.js';\r\nimport { FloatType, LinearSRGBColorSpace, RGBAFormat } from 'three';\r\n\r\nexport class HDRImageGenerator {\r\n\r\n\tget completeImage() {\r\n\r\n\t\treturn this._lastUrl !== null;\r\n\r\n\t}\r\n\r\n\tconstructor( renderer, imageElement = new Image() ) {\r\n\r\n\t\tthis.renderer = renderer;\r\n\t\tthis.image = imageElement;\r\n\t\tthis.encoding = false;\r\n\t\tthis._lastUrl = null;\r\n\t\tthis._encodingId = - 1;\r\n\r\n\t}\r\n\r\n\tasync updateFrom( renderTarget ) {\r\n\r\n\t\tif ( this.encoding ) {\r\n\r\n\t\t\tthrow new Error( 'HDRImageGenerator: HDR image already being encoded.' );\r\n\r\n\t\t}\r\n\r\n\t\tconst renderer = this.renderer;\r\n\t\tconst buffer = new Float32Array( renderTarget.width * renderTarget.height * 4 );\r\n\t\trenderer.readRenderTargetPixels( renderTarget, 0, 0, renderTarget.width, renderTarget.height, buffer );\r\n\r\n\t\tconst imageInformation = {\r\n\t\t\theader: {},\r\n\t\t\twidth: renderTarget.width,\r\n\t\t\theight: renderTarget.height,\r\n\t\t\tdata: buffer,\r\n\t\t\tformat: RGBAFormat,\r\n\t\t\tcolorSpace: LinearSRGBColorSpace,\r\n\t\t\ttype: FloatType,\r\n\r\n\t\t};\r\n\r\n\r\n\t\tthis._encodingId ++;\r\n\t\tthis.encoding = true;\r\n\r\n\t\tconst currentId = this._encodingId;\r\n\t\tconst jpegData = await encodeHDR( imageInformation );\r\n\r\n\t\tif ( this._encodingId === currentId ) {\r\n\r\n\t\t\tif ( this._lastUrl ) {\r\n\r\n\t\t\t\tURL.revokeObjectURL( this._lastUrl );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst blob = new Blob( [ jpegData ], { type: 'octet/stream' } );\r\n\t\t\tthis._lastUrl = URL.createObjectURL( blob );\r\n\t\t\tthis.image.src = this._lastUrl;\r\n\t\t\tthis.encoding = false;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treset() {\r\n\r\n\t\tif ( this.encoding ) {\r\n\r\n\t\t\tthis.encoding = false;\r\n\t\t\tthis._encodingId ++;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this._lastUrl ) {\r\n\r\n\t\t\tURL.revokeObjectURL( this._lastUrl );\r\n\t\t\tthis.image.src = '';\r\n\t\t\tthis._lastUrl = null;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n\r\n\r\nasync function encodeHDR( image ) {\r\n\r\n\t// find RAW RGB Max value of a texture\r\n\tconst textureMax = await findTextureMinMax( image );\r\n\r\n\t// Encode the gainmap\r\n\tconst encodingResult = encode( {\r\n\t\timage,\r\n\t\t// this will encode the full HDR range\r\n\t\tmaxContentBoost: Math.max.apply( this, textureMax ) || 1\r\n\t} );\r\n\r\n\t// obtain the RAW RGBA SDR buffer and create an ImageData\r\n\tconst sdrImageData = new ImageData(\r\n\t\tencodingResult.sdr.toArray(),\r\n\t\tencodingResult.sdr.width,\r\n\t\tencodingResult.sdr.height\r\n\t);\r\n\t// obtain the RAW RGBA Gain map buffer and create an ImageData\r\n\tconst gainMapImageData = new ImageData(\r\n\t\tencodingResult.gainMap.toArray(),\r\n\t\tencodingResult.gainMap.width,\r\n\t\tencodingResult.gainMap.height\r\n\t);\r\n\r\n\t// parallel compress the RAW buffers into the specified mimeType\r\n\tconst mimeType = 'image/jpeg';\r\n\tconst quality = 0.9;\r\n\r\n\tconst [ sdr, gainMap ] = await Promise.all( [\r\n\t\tcompress( {\r\n\t\t\tsource: sdrImageData,\r\n\t\t\tmimeType,\r\n\t\t\tquality,\r\n\t\t\tflipY: true // output needs to be flipped\r\n\t\t} ),\r\n\t\tcompress( {\r\n\t\t\tsource: gainMapImageData,\r\n\t\t\tmimeType,\r\n\t\t\tquality,\r\n\t\t\tflipY: true // output needs to be flipped\r\n\t\t} )\r\n\t] );\r\n\r\n\t// obtain the metadata which will be embedded into\r\n\t// and XMP tag inside the final JPEG file\r\n\tconst metadata = encodingResult.getMetadata();\r\n\r\n\t// embed the compressed images + metadata into a single\r\n\t// JPEG file\r\n\tconst jpegBuffer = await encodeJPEGMetadata( {\r\n\t\t...encodingResult,\r\n\t\t...metadata,\r\n\t\tsdr,\r\n\t\tgainMap\r\n\t} );\r\n\r\n\treturn jpegBuffer;\r\n\r\n}\r\n","import {\r\n\tScene,\r\n\tEquirectangularReflectionMapping,\r\n\tWebGLRenderer,\r\n\tPerspectiveCamera,\r\n\tMesh,\r\n\tPlaneGeometry,\r\n\tMeshStandardMaterial,\r\n\tDoubleSide,\r\n\tColor,\r\n\tACESFilmicToneMapping,\r\n\tNoToneMapping,\r\n} from 'three';\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\r\nimport { DRACOLoader } from 'three/examples/jsm/loaders/DRACOLoader.js';\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\r\nimport { HDRLoader } from 'three/examples/jsm/loaders/HDRLoader.js';\r\nimport { ParallelMeshBVHWorker } from 'three-mesh-bvh/worker';\r\nimport { LoaderElement } from './utils/LoaderElement.js';\r\nimport { MODEL_LIST, DEFAULT_MODEL_KEY } from './utils/modelList.js';\r\nimport { WebGLPathTracer } from '..';\r\nimport { generateRadialFloorTexture } from './utils/generateRadialFloorTexture.js';\r\nimport { GUI } from 'three/examples/jsm/libs/lil-gui.module.min.js';\r\nimport { HDRImageGenerator } from './utils/HDRImageGenerator.js';\r\nimport { MeshoptDecoder } from 'three/examples/jsm/libs/meshopt_decoder.module.js';\r\nimport { getScaledSettings } from './utils/getScaledSettings.js';\r\n\r\nconst ENV_URL = 'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/master/hdri/studio_small_05_1k.hdr';\r\nconst DESCRIPTION = window.matchMedia( '(dynamic-range: high)' ).matches ? 'HDR display supported' : 'HDR display not supported';\r\n\r\nconst MAX_SAMPLES = 45;\r\n\r\nconst params = {\r\n\tmodel: DEFAULT_MODEL_KEY,\r\n\tpause: false,\r\n\thdr: true,\r\n\tsdrToneMapping: false,\r\n\tenvironmentIntensity: 15,\r\n\ttiles: 3,\r\n\tbounces: 5,\r\n\trenderScale: 1,\r\n\r\n\t...getScaledSettings(),\r\n};\r\n\r\nlet pathTracer, renderer, controls;\r\nlet camera, scene, currentModel = null;\r\nlet loader, hdrGenerator;\r\nlet activeImage = false;\r\n\r\ninit();\r\n\r\nasync function init() {\r\n\r\n\tloader = new LoaderElement();\r\n\tloader.attach( document.body );\r\n\r\n\t// renderer\r\n\trenderer = new WebGLRenderer( { antialias: true } );\r\n\tdocument.body.appendChild( renderer.domElement );\r\n\r\n\t// path tracer\r\n\tpathTracer = new WebGLPathTracer( renderer );\r\n\tpathTracer.filterGlossyFactor = 0.5;\r\n\tpathTracer.bounces = params.bounces;\r\n\tpathTracer.minSamples = 1;\r\n\tpathTracer.renderScale = params.renderScale;\r\n\tpathTracer.tiles.set( params.tiles, params.tiles );\r\n\tpathTracer.setBVHWorker( new ParallelMeshBVHWorker() );\r\n\r\n\t// generator\r\n\thdrGenerator = new HDRImageGenerator( renderer, document.querySelector( 'img' ) );\r\n\r\n\t// camera\r\n\tcamera = new PerspectiveCamera( 50, 1, 0.025, 500 );\r\n\tcamera.position.set( 20, 24, 35 ).multiplyScalar( 0.8 );\r\n\r\n\t// scene\r\n\tscene = new Scene();\r\n\tscene.backgroundBlurriness = 0.1;\r\n\tscene.background = new Color( 0x111111 );\r\n\r\n\t// controls\r\n\tcontrols = new OrbitControls( camera, renderer.domElement );\r\n\tcontrols.target.y = 6;\r\n\tcontrols.addEventListener( 'change', () => {\r\n\r\n\t\tpathTracer.updateCamera();\r\n\t\tresetHdr();\r\n\r\n\t} );\r\n\tcontrols.update();\r\n\r\n\tconst envTexture = await new HDRLoader().loadAsync( ENV_URL );\r\n\tenvTexture.mapping = EquirectangularReflectionMapping;\r\n\tscene.environment = envTexture;\r\n\tscene.environmentIntensity = params.environmentIntensity;\r\n\r\n\tconst floorTex = generateRadialFloorTexture( 2048 );\r\n\tconst floorPlane = new Mesh(\r\n\t\tnew PlaneGeometry(),\r\n\t\tnew MeshStandardMaterial( {\r\n\t\t\tmap: floorTex,\r\n\t\t\ttransparent: true,\r\n\t\t\tcolor: 0x111111,\r\n\t\t\troughness: 0.1,\r\n\t\t\tmetalness: 0.1,\r\n\t\t\tside: DoubleSide,\r\n\t\t} ),\r\n\t);\r\n\tfloorPlane.scale.setScalar( 50 );\r\n\tfloorPlane.rotation.x = - Math.PI / 2;\r\n\tscene.add( floorPlane );\r\n\r\n\tasync function loadAndSetModel( modelKey ) {\r\n\r\n\t\tconst entry = MODEL_LIST[ modelKey ];\r\n\t\tif ( ! entry || ! entry.url ) return;\r\n\t\tif ( currentModel ) scene.remove( currentModel );\r\n\t\tloader.setPercentage( 0 );\r\n\t\tconst dracoLoader = new DRACOLoader();\r\n\t\tdracoLoader.setDecoderPath( 'https://www.gstatic.com/draco/versioned/decoders/1.5.7/' );\r\n\t\tconst gltf = await new GLTFLoader()\r\n\t\t\t.setDRACOLoader( dracoLoader )\r\n\t\t\t.setMeshoptDecoder( MeshoptDecoder )\r\n\t\t\t.loadAsync( entry.url );\r\n\t\tdracoLoader.dispose();\r\n\t\tconst model = gltf.scene;\r\n\t\tif ( entry.postProcess ) entry.postProcess( model );\r\n\t\tmodel.scale.setScalar( 10 );\r\n\t\tscene.add( model );\r\n\t\tcurrentModel = model;\r\n\t\tscene.updateMatrixWorld( true );\r\n\t\tawait pathTracer.setSceneAsync( scene, camera, { onProgress: v => loader.setPercentage( v ) } );\r\n\t\tloader.setCredits( entry.credit || '' );\r\n\t}\r\n\r\n\tawait loadAndSetModel( params.model );\r\n\r\n\tloader.setDescription( DESCRIPTION );\r\n\r\n\tconst gui = new GUI();\r\n\tgui.add( params, 'model', Object.keys( MODEL_LIST ).sort() ).onChange( async ( v ) => { await loadAndSetModel( v ); } );\r\n\tgui.add( params, 'pause' ).onChange( () => {\r\n\r\n\t\tresetHdr();\r\n\r\n\t} );\r\n\tgui.add( params, 'hdr' );\r\n\tgui.add( params, 'sdrToneMapping' ).onChange( v => {\r\n\r\n\t\trenderer.toneMapping = v ? ACESFilmicToneMapping : NoToneMapping;\r\n\r\n\t} );\r\n\tgui.add( params, 'renderScale', 0.1, 1 ).onChange( v => {\r\n\r\n\t\tpathTracer.renderScale = v;\r\n\t\tpathTracer.reset();\r\n\t\tresetHdr();\r\n\r\n\t} );\r\n\tgui.add( params, 'bounces', 1, 10 ).onChange( v => {\r\n\r\n\t\tpathTracer.bounces = v;\r\n\t\tpathTracer.reset();\r\n\t\tresetHdr();\r\n\r\n\t} );\r\n\tgui.add( params, 'tiles', 1, 6, 1 ).onChange( v => {\r\n\r\n\t\tpathTracer.tiles.setScalar( v );\r\n\r\n\t} );\r\n\tgui.add( params, 'environmentIntensity', 0, 30 ).onChange( v => {\r\n\r\n\t\tscene.environmentIntensity = v;\r\n\t\tpathTracer.updateEnvironment();\r\n\t\tresetHdr();\r\n\r\n\t} );\r\n\r\n\twindow.addEventListener( 'resize', onResize );\r\n\r\n\tonResize();\r\n\tanimate();\r\n\r\n}\r\n\r\nfunction onResize() {\r\n\r\n\t// update resolution\r\n\trenderer.setSize( window.innerWidth, window.innerHeight );\r\n\trenderer.setPixelRatio( window.devicePixelRatio );\r\n\r\n\tcamera.aspect = window.innerWidth / window.innerHeight;\r\n\tcamera.updateProjectionMatrix();\r\n\r\n\t// update camera\r\n\tpathTracer.updateCamera();\r\n\r\n\tresetHdr();\r\n\r\n}\r\n\r\nfunction resetHdr() {\r\n\r\n\thdrGenerator.reset();\r\n\tactiveImage = false;\r\n\r\n}\r\n\r\nfunction animate() {\r\n\r\n\trequestAnimationFrame( animate );\r\n\r\n\tconst doPause = params.pause && pathTracer.samples >= 1;\r\n\tpathTracer.pausePathTracing = pathTracer.samples >= MAX_SAMPLES || doPause;\r\n\tpathTracer.renderSample();\r\n\r\n\tif (\r\n\t\t! hdrGenerator.encoding &&\r\n\t\tparams.hdr &&\r\n\t\t( pathTracer.samples === MAX_SAMPLES || doPause ) &&\r\n\t\t! activeImage\r\n\t) {\r\n\r\n\t\t// NOTE: this can be called repeatedly but takes up to 200 ms\r\n\t\thdrGenerator.updateFrom( pathTracer.target );\r\n\t\tactiveImage = true;\r\n\r\n\t}\r\n\r\n\tif ( hdrGenerator.completeImage && params.hdr ) {\r\n\r\n\t\thdrGenerator.image.classList.add( 'show' );\r\n\r\n\t} else {\r\n\r\n\t\thdrGenerator.image.classList.remove( 'show' );\r\n\r\n\t}\r\n\r\n\tloader.setSamples( pathTracer.samples, pathTracer.isCompiling );\r\n\r\n}\r\n"],"file":"assets/hdr-lKzIy5B3.js"}