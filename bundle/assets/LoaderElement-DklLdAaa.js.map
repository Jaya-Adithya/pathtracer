{"version":3,"file":"LoaderElement-DklLdAaa.js","sources":["../../example/utils/LoaderElement.js"],"sourcesContent":["let _styleElement;\r\nfunction initializeStyles() {\r\n\r\n\tif ( _styleElement ) {\r\n\r\n\t\treturn;\r\n\r\n\t}\r\n\r\n\t_styleElement = document.createElement( 'style' );\r\n\t_styleElement.textContent = /* css */`\r\n\r\n\t\t.loader-container, .description {\r\n\t\t\tposition: absolute;\r\n\t\t\twidth: 100%;\r\n\t\t\tfont-family: 'Courier New', Courier, monospace;\r\n\t\t\tcolor: white;\r\n\t\t\tfont-weight: light;\r\n\t\t\talign-items: flex-start;\r\n\t\t\tfont-size: 14px;\r\n\t\t\tpointer-events: none;\r\n\t\t\tuser-select: none;\r\n\t\t\tz-index: 100;\r\n\t\t}\r\n\r\n\t\t.loader-container {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tbottom: 0;\r\n\t\t\tleft: 0;\r\n\t\t}\r\n\r\n\t\t.description {\r\n\t\t\ttop: 0;\r\n\t\t\twidth: 100%;\r\n\t\t\ttext-align: center;\r\n\t\t\tpadding: 5px 0;\r\n\t\t}\r\n\r\n\t\t.loader-container .bar {\r\n\t\t\theight: 2px;\r\n\t\t\tbackground: white;\r\n\t\t\twidth: 100%;\r\n\t\t}\r\n\r\n\t\t.loader-container .credits,\r\n\t\t.loader-container .samples,\r\n\t\t.loader-container .percentage {\r\n\t\t\tpadding: 5px;\r\n\t\t\tmargin: 0 0 1px 1px;\r\n\t\t\tbackground: rgba( 0, 0, 0, 0.2 );\r\n\t\t\tborder-radius: 2px;\r\n\t\t\tdisplay: inline-block;\r\n\t\t}\r\n\r\n\t\t.loader-container:not(.loading) .bar,\r\n\t\t.loader-container:not(.loading) .percentage,\r\n\t\t.loader-container.loading .credits,\r\n\t\t.loader-container.loading .samples,\r\n\t\t.loader-container .credits:empty {\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\r\n\t\t.loader-container .credits a,\r\n\t\t.loader-container .credits,\r\n\t\t.loader-container .samples {\r\n\t\t\tcolor: rgba( 255, 255, 255, 0.75 );\r\n\t\t}\r\n\r\n\t\t.loader-container .samples {\r\n\t\t\tfont-size: 12px;\r\n\t\t\tletter-spacing: 0.5px;\r\n\t\t}\r\n\t`;\r\n\tdocument.head.appendChild( _styleElement );\r\n\r\n}\r\n\r\nexport class LoaderElement {\r\n\r\n\tconstructor() {\r\n\r\n\t\tinitializeStyles();\r\n\r\n\t\tconst container = document.createElement( 'div' );\r\n\t\tcontainer.classList.add( 'loader-container' );\r\n\r\n\t\tconst percentageEl = document.createElement( 'div' );\r\n\t\tpercentageEl.classList.add( 'percentage' );\r\n\t\tcontainer.appendChild( percentageEl );\r\n\r\n\t\tconst samplesEl = document.createElement( 'div' );\r\n\t\tsamplesEl.classList.add( 'samples' );\r\n\t\tcontainer.appendChild( samplesEl );\r\n\r\n\t\tconst creditsEl = document.createElement( 'div' );\r\n\t\tcreditsEl.classList.add( 'credits' );\r\n\t\tcontainer.appendChild( creditsEl );\r\n\r\n\t\tconst loaderBarEl = document.createElement( 'div' );\r\n\t\tloaderBarEl.classList.add( 'bar' );\r\n\t\tcontainer.appendChild( loaderBarEl );\r\n\r\n\t\tconst descriptionEl = document.createElement( 'div' );\r\n\t\tdescriptionEl.classList.add( 'description' );\r\n\t\tcontainer.appendChild( descriptionEl );\r\n\r\n\t\tthis._description = descriptionEl;\r\n\t\tthis._loaderBar = loaderBarEl;\r\n\t\tthis._percentage = percentageEl;\r\n\t\tthis._credits = creditsEl;\r\n\t\tthis._samples = samplesEl;\r\n\t\tthis._container = container;\r\n\r\n\t\tthis.setPercentage( 0 );\r\n\r\n\t}\r\n\r\n\tattach( container ) {\r\n\r\n\t\tcontainer.appendChild( this._container );\r\n\t\tcontainer.appendChild( this._description );\r\n\r\n\t}\r\n\r\n\tsetPercentage( perc ) {\r\n\r\n\t\tthis._loaderBar.style.width = `${ perc * 100 }%`;\r\n\r\n\t\tif ( perc === 0 ) {\r\n\r\n\t\t\tthis._percentage.innerText = 'Loading...';\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis._percentage.innerText = `${ ( perc * 100 ).toFixed( 0 ) }%`;\r\n\r\n\t\t}\r\n\r\n\t\tif ( perc >= 1 ) {\r\n\r\n\t\t\tthis._container.classList.remove( 'loading' );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis._container.classList.add( 'loading' );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tsetSamples( count, compiling = false, maxSamples = 0 ) {\r\n\r\n\t\tif ( compiling ) {\r\n\r\n\t\t\tthis._samples.innerText = 'compiling shader...';\r\n\r\n\t\t} else if ( maxSamples > 0 ) {\r\n\r\n\t\t\tthis._samples.innerText = `${ Math.floor( count ) } / ${ maxSamples } samples`;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis._samples.innerText = `${ Math.floor( count ) } samples`;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tsetCredits( credits ) {\r\n\r\n\t\tthis._credits.innerHTML = credits;\r\n\r\n\t}\r\n\r\n\tsetDescription( description ) {\r\n\r\n\t\tthis._description.innerHTML = description;\r\n\r\n\t}\r\n\r\n}\r\n"],"names":["_styleElement","initializeStyles","LoaderElement","container","percentageEl","samplesEl","creditsEl","loaderBarEl","descriptionEl","perc","count","compiling","maxSamples","credits","description"],"mappings":"AAAA,IAAIA,EACJ,SAASC,GAAmB,CAEtBD,IAMLA,EAAgB,SAAS,cAAe,SACxCA,EAAc,YAAuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAgErC,SAAS,KAAK,YAAaA,GAE5B,CAEO,MAAME,CAAc,CAE1B,aAAc,CAEbD,IAEA,MAAME,EAAY,SAAS,cAAe,KAAK,EAC/CA,EAAU,UAAU,IAAK,oBAEzB,MAAMC,EAAe,SAAS,cAAe,KAAK,EAClDA,EAAa,UAAU,IAAK,cAC5BD,EAAU,YAAaC,GAEvB,MAAMC,EAAY,SAAS,cAAe,KAAK,EAC/CA,EAAU,UAAU,IAAK,WACzBF,EAAU,YAAaE,GAEvB,MAAMC,EAAY,SAAS,cAAe,KAAK,EAC/CA,EAAU,UAAU,IAAK,WACzBH,EAAU,YAAaG,GAEvB,MAAMC,EAAc,SAAS,cAAe,KAAK,EACjDA,EAAY,UAAU,IAAK,OAC3BJ,EAAU,YAAaI,GAEvB,MAAMC,EAAgB,SAAS,cAAe,KAAK,EACnDA,EAAc,UAAU,IAAK,eAC7BL,EAAU,YAAaK,GAEvB,KAAK,aAAeA,EACpB,KAAK,WAAaD,EAClB,KAAK,YAAcH,EACnB,KAAK,SAAWE,EAChB,KAAK,SAAWD,EAChB,KAAK,WAAaF,EAElB,KAAK,cAAe,EAErB,CAEA,OAAQA,EAAY,CAEnBA,EAAU,YAAa,KAAK,YAC5BA,EAAU,YAAa,KAAK,aAE7B,CAEA,cAAeM,EAAO,CAErB,KAAK,WAAW,MAAM,MAAQ,GAAIA,EAAO,GAAG,IAEvCA,IAAS,EAEb,KAAK,YAAY,UAAY,aAI7B,KAAK,YAAY,UAAY,IAAMA,EAAO,KAAM,QAAS,EAAG,IAIxDA,GAAQ,EAEZ,KAAK,WAAW,UAAU,OAAQ,SAAS,EAI3C,KAAK,WAAW,UAAU,IAAK,SAAS,CAI1C,CAEA,WAAYC,EAAOC,EAAY,GAAOC,EAAa,EAAI,CAEjDD,EAEJ,KAAK,SAAS,UAAY,sBAEfC,EAAa,EAExB,KAAK,SAAS,UAAY,GAAI,KAAK,MAAOF,EAAO,MAAQE,CAAU,WAInE,KAAK,SAAS,UAAY,GAAI,KAAK,MAAOF,EAAO,UAInD,CAEA,WAAYG,EAAU,CAErB,KAAK,SAAS,UAAYA,CAE3B,CAEA,eAAgBC,EAAc,CAE7B,KAAK,aAAa,UAAYA,CAE/B,CAED"}