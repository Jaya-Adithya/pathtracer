{"version":3,"file":"primitives-B1hpOnlA.js","sources":["../../example/primitives.js"],"sourcesContent":["import { Scene, SphereGeometry, MeshStandardMaterial, Mesh, BoxGeometry, PerspectiveCamera, ACESFilmicToneMapping, WebGLRenderer } from 'three';\r\nimport { WebGLPathTracer, GradientEquirectTexture } from '..';\r\nimport { getScaledSettings } from './utils/getScaledSettings.js';\r\n\r\n// init scene, renderer, camera, controls, etc\r\nconst scene = new Scene();\r\nconst sphereGeom = new SphereGeometry( 0.49, 64, 32 );\r\nconst ball1 = new Mesh(\r\n\tsphereGeom,\r\n\tnew MeshStandardMaterial( {\r\n\t\tcolor: '#e91e63',\r\n\t\troughness: 0.25,\r\n\t\tmetalness: 1,\r\n\t} )\r\n);\r\nconst ball2 = new Mesh(\r\n\tsphereGeom,\r\n\tnew MeshStandardMaterial( {\r\n\t\tcolor: '#ff9800',\r\n\t\troughness: 0.1,\r\n\t\tmetalness: 1,\r\n\t} )\r\n);\r\nconst ball3 = new Mesh(\r\n\tsphereGeom,\r\n\tnew MeshStandardMaterial( {\r\n\t\tcolor: '#2196f3',\r\n\t\troughness: 0.2,\r\n\t\tmetalness: 1,\r\n\t} )\r\n);\r\nconst ground = new Mesh(\r\n\tnew BoxGeometry( 3.5, 0.1, 1.5 ),\r\n\tnew MeshStandardMaterial(),\r\n);\r\n\r\nball1.position.x = - 1;\r\nball3.position.x = 1;\r\nground.position.y = - 0.54;\r\nscene.add( ball1, ball2, ball3, ground );\r\n\r\n// set the environment map\r\nconst texture = new GradientEquirectTexture();\r\ntexture.bottomColor.set( 0xffffff );\r\ntexture.bottomColor.set( 0x666666 );\r\ntexture.update();\r\nscene.environment = texture;\r\nscene.background = texture;\r\n\r\nconst camera = new PerspectiveCamera();\r\ncamera.position.set( 0, 1, - 5 );\r\ncamera.lookAt( 0, 0, 0 );\r\n\r\nconst renderer = new WebGLRenderer( { antialias: true } );\r\nrenderer.toneMapping = ACESFilmicToneMapping;\r\ndocument.body.appendChild( renderer.domElement );\r\n\r\nconst settings = getScaledSettings();\r\nconst pathTracer = new WebGLPathTracer( renderer );\r\npathTracer.renderScale = settings.renderScale;\r\npathTracer.tiles.setScalar( settings.tiles );\r\npathTracer.setScene( scene, camera );\r\n\r\nonResize();\r\n\r\nanimate();\r\n\r\nwindow.addEventListener( 'resize', onResize );\r\n\r\nfunction animate() {\r\n\r\n\t// if the camera position changes call \"ptRenderer.reset()\"\r\n\trequestAnimationFrame( animate );\r\n\r\n\t// update the camera and render one sample\r\n\tpathTracer.renderSample();\r\n\r\n}\r\n\r\nfunction onResize() {\r\n\r\n\t// update rendering resolution\r\n\tconst w = window.innerWidth;\r\n\tconst h = window.innerHeight;\r\n\r\n\trenderer.setSize( w, h );\r\n\trenderer.setPixelRatio( window.devicePixelRatio );\r\n\r\n\tconst aspect = w / h;\r\n\tcamera.aspect = aspect;\r\n\tcamera.updateProjectionMatrix();\r\n\r\n\tpathTracer.setScene( scene, camera );\r\n\r\n}\r\n"],"names":["scene","Scene","sphereGeom","SphereGeometry","ball1","Mesh","MeshStandardMaterial","ball2","ball3","ground","BoxGeometry","texture","GradientEquirectTexture","camera","PerspectiveCamera","renderer","WebGLRenderer","ACESFilmicToneMapping","settings","getScaledSettings","pathTracer","WebGLPathTracer","onResize","animate","w","h","aspect"],"mappings":"kXAKA,MAAMA,EAAQ,IAAIC,EACZC,EAAa,IAAIC,EAAgB,IAAM,GAAI,EAAE,EAC7CC,EAAQ,IAAIC,EACjBH,EACA,IAAII,EAAsB,CACzB,MAAO,UACP,UAAW,IACX,UAAW,CACb,CAAE,CACF,EACMC,EAAQ,IAAIF,EACjBH,EACA,IAAII,EAAsB,CACzB,MAAO,UACP,UAAW,GACX,UAAW,CACb,CAAE,CACF,EACME,EAAQ,IAAIH,EACjBH,EACA,IAAII,EAAsB,CACzB,MAAO,UACP,UAAW,GACX,UAAW,CACb,CAAE,CACF,EACMG,EAAS,IAAIJ,EAClB,IAAIK,EAAa,IAAK,GAAK,GAAG,EAC9B,IAAIJ,CACL,EAEAF,EAAM,SAAS,EAAI,GACnBI,EAAM,SAAS,EAAI,EACnBC,EAAO,SAAS,EAAI,KACpBT,EAAM,IAAKI,EAAOG,EAAOC,EAAOC,CAAM,EAGtC,MAAME,EAAU,IAAIC,EACpBD,EAAQ,YAAY,IAAK,UACzBA,EAAQ,YAAY,IAAK,SACzBA,EAAQ,OAAM,EACdX,EAAM,YAAcW,EACpBX,EAAM,WAAaW,EAEnB,MAAME,EAAS,IAAIC,EACnBD,EAAO,SAAS,IAAK,EAAG,EAAG,EAAG,EAC9BA,EAAO,OAAQ,EAAG,EAAG,CAAC,EAEtB,MAAME,EAAW,IAAIC,EAAe,CAAE,UAAW,EAAI,CAAE,EACvDD,EAAS,YAAcE,EACvB,SAAS,KAAK,YAAaF,EAAS,UAAU,EAE9C,MAAMG,EAAWC,EAAiB,EAC5BC,EAAa,IAAIC,EAAiBN,GACxCK,EAAW,YAAcF,EAAS,YAClCE,EAAW,MAAM,UAAWF,EAAS,KAAK,EAC1CE,EAAW,SAAUpB,EAAOa,GAE5BS,IAEAC,IAEA,OAAO,iBAAkB,SAAUD,GAEnC,SAASC,GAAU,CAGlB,sBAAuBA,CAAO,EAG9BH,EAAW,aAAY,CAExB,CAEA,SAASE,GAAW,CAGnB,MAAME,EAAI,OAAO,WACXC,EAAI,OAAO,YAEjBV,EAAS,QAASS,EAAGC,GACrBV,EAAS,cAAe,OAAO,kBAE/B,MAAMW,EAASF,EAAIC,EACnBZ,EAAO,OAASa,EAChBb,EAAO,uBAAsB,EAE7BO,EAAW,SAAUpB,EAAOa,EAE7B"}