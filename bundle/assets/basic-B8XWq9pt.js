import"./modulepreload-polyfill-B5Qt9EMX.js";import{au as S,av as C,a5 as E,aw as v,ax as x,E as D}from"./MaterialBase-D0apYRZI.js";import{G as M}from"./GLTFLoader-CZoURFu4.js";import{D as R}from"./DRACOLoader-Y9SiWgF2.js";import{O as A}from"./OrbitControls-QPbjf6RX.js";import{H as k}from"./HDRLoader-QyionP9_.js";import{g as T}from"./getScaledSettings-nzgggDDj.js";import{L as O}from"./LoaderElement-DklLdAaa.js";import{D as W,M as g}from"./modelList-BunZDs6G.js";import{g as H}from"./lil-gui.module.min-BH_YJbPT.js";import{W as _}from"./WebGLPathTracer-BkY-ibNS.js";import{P as j}from"./ParallelMeshBVHWorker-C6VKfx-V.js";import"./BufferGeometryUtils-B2ZswfaJ.js";import"./FogVolumeMaterial-BAhPC4Ul.js";import"./pcg.glsl-D_3-p9wz.js";import"./PathTracingRenderer-CqRsglCw.js";import"./ggx_functions.glsl-Bslli_qd.js";import"./GenerateMeshBVHWorker-CSNZTU94.js";const z="https://raw.githubusercontent.com/gkjohnson/3d-demo-data/master/hdri/chinese_garden_1k.hdr",F="Simple path tracing example scene setup with background blur.";let n,a,d,s,r,p=null,o;const h={model:W};G();async function G(){const{tiles:l,renderScale:L}=T();o=new O,o.attach(document.body),a=new S({antialias:!0}),a.toneMapping=C,document.body.appendChild(a.domElement),n=new _(a),n.filterGlossyFactor=.5,n.renderScale=L,n.tiles.set(l,l),n.setBVHWorker(new j),s=new E(75,1,.025,500),s.position.set(8,9,24),r=new v,r.backgroundBlurriness=.05,d=new A(s,a.domElement),d.target.y=10,d.addEventListener("change",()=>n.updateCamera()),d.update();let c;if(window.location.hash.includes("cube")){const e="https://raw.githubusercontent.com/mrdoob/three.js/master/examples/textures/cube/SwedishRoyalCastle/",t=".jpg",i=[e+"px"+t,e+"nx"+t,e+"py"+t,e+"ny"+t,e+"pz"+t,e+"nz"+t];c=new x().loadAsync(i),r.environmentIntensity=5,r.backgroundIntensity=5}else c=new k().loadAsync(z).then(e=>(e.mapping=D,e));const u=await c;r.background=u,r.environment=u;async function w(e){const t=g[e];if(!t||!t.url)return;p&&r.remove(p),o.setPercentage(0);const i=new R;i.setDecoderPath("https://www.gstatic.com/draco/versioned/decoders/1.5.7/");const b=await new M().setDRACOLoader(i).loadAsync(t.url);i.dispose();const m=b.scene;t.postProcess&&t.postProcess(m),r.add(m),p=m,r.updateMatrixWorld(!0),await n.setSceneAsync(r,s,{onProgress:P=>o.setPercentage(P)}),o.setCredits(t.credit||"")}await w(h.model),o.setDescription(F),window.addEventListener("resize",f),new H().add(h,"model",Object.keys(g).sort()).onChange(async e=>{await w(e)}),f(),y()}function f(){a.setSize(window.innerWidth,window.innerHeight),a.setPixelRatio(window.devicePixelRatio),s.aspect=window.innerWidth/window.innerHeight,s.updateProjectionMatrix(),n.updateCamera()}function y(){requestAnimationFrame(y),n.renderSample(),o.setSamples(n.samples,n.isCompiling)}
//# sourceMappingURL=basic-B8XWq9pt.js.map
