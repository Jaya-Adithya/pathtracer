import"./modulepreload-polyfill-B5Qt9EMX.js";import{au as x,av as W,aw as E,C as G,f as R,d as h,aA as L,e as v,a4 as A}from"./MaterialBase-D0apYRZI.js";import{O as H}from"./OrbitControls-QPbjf6RX.js";import{g as z}from"./lil-gui.module.min-BH_YJbPT.js";import{g as O}from"./getScaledSettings-nzgggDDj.js";import{L as B}from"./LoaderElement-DklLdAaa.js";import{P as j}from"./PhysicalSpotLight-BDJOqa_y.js";import{W as k}from"./WebGLPathTracer-BkY-ibNS.js";import{P as q}from"./PathTracingRenderer-CqRsglCw.js";import{F as D}from"./FogVolumeMaterial-BAhPC4Ul.js";import"./pcg.glsl-D_3-p9wz.js";import"./ggx_functions.glsl-Bslli_qd.js";let n,a,P,r,d,c,t,l;const e={multipleImportanceSampling:!0,tiles:2,renderScale:1/window.devicePixelRatio,color:"#eeeeee",fog:!0,density:.01,lightIntensity:500,lightColor:"#ffffff",bounces:10,...O()};V();async function V(){l=new B,l.attach(document.body),a=new x({antialias:!0}),a.toneMapping=W,document.body.appendChild(a.domElement),n=new k(a),n.tiles.set(e.tiles,e.tiles);const M=window.innerWidth/window.innerHeight;r=new q(75,M,.025,500),r.position.set(0,1,6),P=new H(r,a.domElement),P.addEventListener("change",()=>{n.updateCamera()}),d=new E,d.background=new G(0),c=new D;const w=new R({color:10066329,roughness:1,metalness:0}),I=new h(new L(8,4.05,8),c),u=new h(new v(5,5,.1,40),w);u.position.y=-1.1,t=new j,t.position.set(0,1,0).multiplyScalar(3),t.angle=Math.PI/4.5,t.decay=2,t.penumbra=.15,t.distance=0,t.intensity=50,t.radius=.05;const m=new A;m.add(t);const f=10,C=2,T=new h(new L(.1,.1,2),w);for(let i=0;i<f;i++){const g=T.clone();g.position.x=-C*.5+C*i/(f-1),g.position.y=2,m.add(g)}d.add(I,u,m),n.setScene(d,r),l.setPercentage(1),o(),b(),window.addEventListener("resize",b);const p=new z,s=p.addFolder("Path Tracer");s.add(e,"bounces",1,20,1).onChange(o),s.add(e,"multipleImportanceSampling").onChange(o),s.add(e,"tiles",1,4,1).onChange(i=>{n.tiles.set(i,i)}),s.add(e,"renderScale",.1,1).onChange(o);const S=p.addFolder("Fog");S.addColor(e,"color").onChange(o),S.add(e,"density",0,1).onChange(o);const y=p.addFolder("Spot Light");y.add(e,"lightIntensity",0,1e3).onChange(o),y.addColor(e,"lightColor").onChange(o),F()}function o(){c.color.set(e.color).convertSRGBToLinear(),c.density=e.density,t.intensity=e.lightIntensity,t.color.set(e.lightColor),n.multipleImportanceSampling=e.multipleImportanceSampling,n.bounces=e.bounces,n.renderScale=e.renderScale,n.updateLights(),n.updateMaterials()}function b(){a.setSize(window.innerWidth,window.innerHeight),a.setPixelRatio(window.devicePixelRatio),r.aspect=window.innerWidth/window.innerHeight,r.updateProjectionMatrix(),n.updateCamera()}function F(){requestAnimationFrame(F),n.renderSample(),l.setSamples(n.samples,n.isCompiling)}
//# sourceMappingURL=fog-C1xTyo3j.js.map
